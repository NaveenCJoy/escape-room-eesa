/*! For license information please see main.8d85dcb6.js.LICENSE.txt */
!function(){var e={5296:function(e,t,n){"use strict";n.d(t,{Z:function(){return ie}});var r=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),i=Math.abs,a=String.fromCharCode,o=Object.assign;function u(e){return e.trim()}function s(e,t,n){return e.replace(t,n)}function c(e,t){return e.indexOf(t)}function l(e,t){return 0|e.charCodeAt(t)}function f(e,t,n){return e.slice(t,n)}function d(e){return e.length}function h(e){return e.length}function p(e,t){return t.push(e),e}var v=1,m=1,y=0,g=0,b=0,k="";function w(e,t,n,r,i,a,o){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:v,column:m,length:o,return:""}}function x(e,t){return o(w("",null,null,"",null,null,0),e,{length:-e.length},t)}function S(){return b=g>0?l(k,--g):0,m--,10===b&&(m=1,v--),b}function I(){return b=g<y?l(k,g++):0,m++,10===b&&(m=1,v++),b}function E(){return l(k,g)}function _(){return g}function T(e,t){return f(k,e,t)}function C(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function A(e){return v=m=1,y=d(k=e),g=0,[]}function N(e){return k="",e}function R(e){return u(T(g-1,D(91===e?e+2:40===e?e+1:e)))}function P(e){for(;(b=E())&&b<33;)I();return C(e)>2||C(b)>3?"":" "}function O(e,t){for(;--t&&I()&&!(b<48||b>102||b>57&&b<65||b>70&&b<97););return T(e,_()+(t<6&&32==E()&&32==I()))}function D(e){for(;I();)switch(b){case e:return g;case 34:case 39:34!==e&&39!==e&&D(b);break;case 40:41===e&&D(e);break;case 92:I()}return g}function M(e,t){for(;I()&&e+b!==57&&(e+b!==84||47!==E()););return"/*"+T(t,g-1)+"*"+a(47===e?e:I())}function L(e){for(;!C(E());)I();return T(e,g)}var F="-ms-",Z="-moz-",j="-webkit-",V="comm",U="rule",z="decl",B="@keyframes";function q(e,t){for(var n="",r=h(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function W(e,t,n,r){switch(e.type){case"@import":case z:return e.return=e.return||e.value;case V:return"";case B:return e.return=e.value+"{"+q(e.children,r)+"}";case U:e.value=e.props.join(",")}return d(n=q(e.children,r))?e.return=e.value+"{"+n+"}":""}function K(e){return N(G("",null,null,null,[""],e=A(e),0,[0],e))}function G(e,t,n,r,i,o,u,f,h){for(var v=0,m=0,y=u,g=0,b=0,k=0,w=1,x=1,T=1,C=0,A="",N=i,D=o,F=r,Z=A;x;)switch(k=C,C=I()){case 40:if(108!=k&&58==l(Z,y-1)){-1!=c(Z+=s(R(C),"&","&\f"),"&\f")&&(T=-1);break}case 34:case 39:case 91:Z+=R(C);break;case 9:case 10:case 13:case 32:Z+=P(k);break;case 92:Z+=O(_()-1,7);continue;case 47:switch(E()){case 42:case 47:p(Q(M(I(),_()),t,n),h);break;default:Z+="/"}break;case 123*w:f[v++]=d(Z)*T;case 125*w:case 59:case 0:switch(C){case 0:case 125:x=0;case 59+m:b>0&&d(Z)-y&&p(b>32?$(Z+";",r,n,y-1):$(s(Z," ","")+";",r,n,y-2),h);break;case 59:Z+=";";default:if(p(F=H(Z,t,n,v,m,i,f,A,N=[],D=[],y),o),123===C)if(0===m)G(Z,t,F,F,N,o,y,f,D);else switch(99===g&&110===l(Z,3)?100:g){case 100:case 109:case 115:G(e,F,F,r&&p(H(e,F,F,0,0,i,f,A,i,N=[],y),D),i,D,y,f,r?N:D);break;default:G(Z,F,F,F,[""],D,0,f,D)}}v=m=b=0,w=T=1,A=Z="",y=u;break;case 58:y=1+d(Z),b=k;default:if(w<1)if(123==C)--w;else if(125==C&&0==w++&&125==S())continue;switch(Z+=a(C),C*w){case 38:T=m>0?1:(Z+="\f",-1);break;case 44:f[v++]=(d(Z)-1)*T,T=1;break;case 64:45===E()&&(Z+=R(I())),g=E(),m=y=d(A=Z+=L(_())),C++;break;case 45:45===k&&2==d(Z)&&(w=0)}}return o}function H(e,t,n,r,a,o,c,l,d,p,v){for(var m=a-1,y=0===a?o:[""],g=h(y),b=0,k=0,x=0;b<r;++b)for(var S=0,I=f(e,m+1,m=i(k=c[b])),E=e;S<g;++S)(E=u(k>0?y[S]+" "+I:s(I,/&\f/g,y[S])))&&(d[x++]=E);return w(e,t,n,0===a?U:l,d,p,v)}function Q(e,t,n){return w(e,t,n,V,a(b),f(e,2,-2),0)}function $(e,t,n,r){return w(e,t,n,z,f(e,0,r),f(e,r+1,-1),r)}var X=function(e,t,n){for(var r=0,i=0;r=i,i=E(),38===r&&12===i&&(t[n]=1),!C(i);)I();return T(e,g)},Y=function(e,t){return N(function(e,t){var n=-1,r=44;do{switch(C(r)){case 0:38===r&&12===E()&&(t[n]=1),e[n]+=X(g-1,t,n);break;case 2:e[n]+=R(r);break;case 4:if(44===r){e[++n]=58===E()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=a(r)}}while(r=I());return e}(A(e),t))},J=new WeakMap,ee=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||J.get(n))&&!r){J.set(e,!0);for(var i=[],a=Y(t,i),o=n.props,u=0,s=0;u<a.length;u++)for(var c=0;c<o.length;c++,s++)e.props[s]=i[u]?a[u].replace(/&\f/g,o[c]):o[c]+" "+a[u]}}},te=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function ne(e,t){switch(function(e,t){return 45^l(e,0)?(((t<<2^l(e,0))<<2^l(e,1))<<2^l(e,2))<<2^l(e,3):0}(e,t)){case 5103:return j+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return j+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return j+e+Z+e+F+e+e;case 6828:case 4268:return j+e+F+e+e;case 6165:return j+e+F+"flex-"+e+e;case 5187:return j+e+s(e,/(\w+).+(:[^]+)/,j+"box-$1$2"+F+"flex-$1$2")+e;case 5443:return j+e+F+"flex-item-"+s(e,/flex-|-self/,"")+e;case 4675:return j+e+F+"flex-line-pack"+s(e,/align-content|flex-|-self/,"")+e;case 5548:return j+e+F+s(e,"shrink","negative")+e;case 5292:return j+e+F+s(e,"basis","preferred-size")+e;case 6060:return j+"box-"+s(e,"-grow","")+j+e+F+s(e,"grow","positive")+e;case 4554:return j+s(e,/([^-])(transform)/g,"$1"+j+"$2")+e;case 6187:return s(s(s(e,/(zoom-|grab)/,j+"$1"),/(image-set)/,j+"$1"),e,"")+e;case 5495:case 3959:return s(e,/(image-set\([^]*)/,j+"$1$`$1");case 4968:return s(s(e,/(.+:)(flex-)?(.*)/,j+"box-pack:$3"+F+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+j+e+e;case 4095:case 3583:case 4068:case 2532:return s(e,/(.+)-inline(.+)/,j+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(d(e)-1-t>6)switch(l(e,t+1)){case 109:if(45!==l(e,t+4))break;case 102:return s(e,/(.+:)(.+)-([^]+)/,"$1"+j+"$2-$3$1"+Z+(108==l(e,t+3)?"$3":"$2-$3"))+e;case 115:return~c(e,"stretch")?ne(s(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==l(e,t+1))break;case 6444:switch(l(e,d(e)-3-(~c(e,"!important")&&10))){case 107:return s(e,":",":"+j)+e;case 101:return s(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+j+(45===l(e,14)?"inline-":"")+"box$3$1"+j+"$2$3$1"+F+"$2box$3")+e}break;case 5936:switch(l(e,t+11)){case 114:return j+e+F+s(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return j+e+F+s(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return j+e+F+s(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return j+e+F+e+e}return e}var re=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case z:e.return=ne(e.value,e.length);break;case B:return q([x(e,{value:s(e.value,"@","@"+j)})],r);case U:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return q([x(e,{props:[s(t,/:(read-\w+)/,":"+Z+"$1")]})],r);case"::placeholder":return q([x(e,{props:[s(t,/:(plac\w+)/,":"+j+"input-$1")]}),x(e,{props:[s(t,/:(plac\w+)/,":"+Z+"$1")]}),x(e,{props:[s(t,/:(plac\w+)/,F+"input-$1")]})],r)}return""}))}}],ie=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var i=e.stylisPlugins||re;var a,o,u={},s=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)u[t[n]]=!0;s.push(e)}));var c,l,f=[W,(l=function(e){c.insert(e)},function(e){e.root||(e=e.return)&&l(e)})],d=function(e){var t=h(e);return function(n,r,i,a){for(var o="",u=0;u<t;u++)o+=e[u](n,r,i,a)||"";return o}}([ee,te].concat(i,f));o=function(e,t,n,r){c=n,q(K(e?e+"{"+t.styles+"}":t.styles),d),r&&(p.inserted[t.name]=!0)};var p={key:t,sheet:new r({key:t,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:u,registered:{},insert:o};return p.sheet.hydrate(s),p}},1816:function(e,t){"use strict";t.Z=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}},6132:function(e,t,n){"use strict";n.d(t,{T:function(){return u},w:function(){return o}});var r=n(7313),i=n(5296),a=(n(1086),n(5696),(0,r.createContext)("undefined"!==typeof HTMLElement?(0,i.Z)({key:"css"}):null));a.Provider;var o=function(e){return(0,r.forwardRef)((function(t,n){var i=(0,r.useContext)(a);return e(t,i,n)}))},u=(0,r.createContext)({})},1086:function(e,t,n){"use strict";n.d(t,{O:function(){return v}});var r=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},i={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},a=n(1816),o=/[A-Z]|^ms/g,u=/_EMO_([^_]+?)_([^]*?)_EMO_/g,s=function(e){return 45===e.charCodeAt(1)},c=function(e){return null!=e&&"boolean"!==typeof e},l=(0,a.Z)((function(e){return s(e)?e:e.replace(o,"-$&").toLowerCase()})),f=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(u,(function(e,t,n){return h={name:t,styles:n,next:h},t}))}return 1===i[e]||s(e)||"number"!==typeof t||0===t?t:t+"px"};function d(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return h={name:n.name,styles:n.styles,next:h},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)h={name:r.name,styles:r.styles,next:h},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=d(e,t,n[i])+";";else for(var a in n){var o=n[a];if("object"!==typeof o)null!=t&&void 0!==t[o]?r+=a+"{"+t[o]+"}":c(o)&&(r+=l(a)+":"+f(a,o)+";");else if(!Array.isArray(o)||"string"!==typeof o[0]||null!=t&&void 0!==t[o[0]]){var u=d(e,t,o);switch(a){case"animation":case"animationName":r+=l(a)+":"+u+";";break;default:r+=a+"{"+u+"}"}}else for(var s=0;s<o.length;s++)c(o[s])&&(r+=l(a)+":"+f(a,o[s])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=h,a=n(e);return h=i,d(e,t,a)}}if(null==t)return n;var o=t[n];return void 0!==o?o:n}var h,p=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var v=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var i=!0,a="";h=void 0;var o=e[0];null==o||void 0===o.raw?(i=!1,a+=d(n,t,o)):a+=o[0];for(var u=1;u<e.length;u++)a+=d(n,t,e[u]),i&&(a+=o[u]);p.lastIndex=0;for(var s,c="";null!==(s=p.exec(a));)c+="-"+s[1];return{name:r(a)+c,styles:a,next:h}}},5696:function(e,t,n){"use strict";var r;n.d(t,{L:function(){return o},j:function(){return u}});var i=n(7313),a=!!(r||(r=n.t(i,2))).useInsertionEffect&&(r||(r=n.t(i,2))).useInsertionEffect,o=a||function(e){return e()},u=a||i.useLayoutEffect},4911:function(e,t,n){"use strict";n.d(t,{My:function(){return a},fp:function(){return r},hC:function(){return i}});function r(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}var i=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},a=function(e,t,n){i(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var a=t;do{e.insert(t===a?"."+r:"",a,e.sheet,!0);a=a.next}while(void 0!==a)}}},1213:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5045)),a=n(6417),o=(0,i.default)((0,a.jsx)("path",{d:"m22 5.72-4.6-3.86-1.29 1.53 4.6 3.86L22 5.72zM7.88 3.39 6.6 1.86 2 5.71l1.29 1.53 4.59-3.85zM12.5 8H11v6l4.75 2.85.75-1.23-4-2.37V8zM12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9c4.97 0 9-4.03 9-9s-4.03-9-9-9zm0 16c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"}),"Alarm");t.Z=o},7957:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5045)),a=n(6417),o=(0,i.default)((0,a.jsx)("path",{d:"M16.59 7.58 10 14.17l-3.59-3.58L5 12l5 5 8-8zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"CheckCircleOutline");t.Z=o},8111:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5045)),a=n(6417),o=(0,i.default)((0,a.jsx)("path",{d:"M15.73 3H8.27L3 8.27v7.46L8.27 21h7.46L21 15.73V8.27L15.73 3zM17 15.74 15.74 17 12 13.26 8.26 17 7 15.74 10.74 12 7 8.26 8.26 7 12 10.74 15.74 7 17 8.26 13.26 12 17 15.74z"}),"Dangerous");t.Z=o},5045:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=n(3928)},1293:function(e,t){"use strict";t.Z={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"}},5436:function(e,t){"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen");function y(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case a:case u:case o:case d:case h:return e;default:switch(e=e&&e.$$typeof){case l:case c:case f:case v:case p:case s:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference")},478:function(e,t,n){"use strict";n(5436)},5169:function(e,t,n){"use strict";n.d(t,{Z:function(){return U}});var r=n(7462),i=n(3366),a=n(7219),o=n(3019),u=n(9456),s=n(3232),c=n(3649),l=n(4942);function f(e,t){var n;return(0,r.Z)({toolbar:(n={minHeight:56},(0,l.Z)(n,e.up("xs"),{"@media (orientation: landscape)":{minHeight:48}}),(0,l.Z)(n,e.up("sm"),{minHeight:64}),n)},t)}var d=n(7551),h={black:"#000",white:"#fff"},p={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},v={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},m=n(1293),y={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},g={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},b={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},k={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},w=["mode","contrastThreshold","tonalOffset"],x={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:h.white,default:h.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},S={text:{primary:h.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:h.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function I(e,t,n,r){var i=r.light||r,a=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=(0,d.$n)(e.main,i):"dark"===t&&(e.dark=(0,d._j)(e.main,a)))}function E(e){var t=e.mode,n=void 0===t?"light":t,u=e.contrastThreshold,s=void 0===u?3:u,c=e.tonalOffset,l=void 0===c?.2:c,f=(0,i.Z)(e,w),E=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:g[200],light:g[50],dark:g[400]}:{main:g[700],light:g[400],dark:g[800]}}(n),_=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:v[200],light:v[50],dark:v[400]}:{main:v[500],light:v[300],dark:v[700]}}(n),T=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:m.Z[500],light:m.Z[300],dark:m.Z[700]}:{main:m.Z[700],light:m.Z[400],dark:m.Z[800]}}(n),C=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:b[400],light:b[300],dark:b[700]}:{main:b[700],light:b[500],dark:b[900]}}(n),A=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:k[400],light:k[300],dark:k[700]}:{main:k[800],light:k[500],dark:k[900]}}(n),N=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:y[400],light:y[300],dark:y[700]}:{main:"#ed6c02",light:y[500],dark:y[900]}}(n);function R(e){return(0,d.mi)(e,S.text.primary)>=s?S.text.primary:x.text.primary}var P=function(e){var t=e.color,n=e.name,i=e.mainShade,o=void 0===i?500:i,u=e.lightShade,s=void 0===u?300:u,c=e.darkShade,f=void 0===c?700:c;if(!(t=(0,r.Z)({},t)).main&&t[o]&&(t.main=t[o]),!t.hasOwnProperty("main"))throw new Error((0,a.Z)(11,n?" (".concat(n,")"):"",o));if("string"!==typeof t.main)throw new Error((0,a.Z)(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return I(t,"light",s,l),I(t,"dark",f,l),t.contrastText||(t.contrastText=R(t.main)),t},O={dark:S,light:x};return(0,o.Z)((0,r.Z)({common:(0,r.Z)({},h),mode:n,primary:P({color:E,name:"primary"}),secondary:P({color:_,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:P({color:T,name:"error"}),warning:P({color:N,name:"warning"}),info:P({color:C,name:"info"}),success:P({color:A,name:"success"}),grey:p,contrastThreshold:s,getContrastText:R,augmentColor:P,tonalOffset:l},O[n]),f)}var _=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];var T={textTransform:"uppercase"},C='"Roboto", "Helvetica", "Arial", sans-serif';function A(e,t){var n="function"===typeof t?t(e):t,a=n.fontFamily,u=void 0===a?C:a,s=n.fontSize,c=void 0===s?14:s,l=n.fontWeightLight,f=void 0===l?300:l,d=n.fontWeightRegular,h=void 0===d?400:d,p=n.fontWeightMedium,v=void 0===p?500:p,m=n.fontWeightBold,y=void 0===m?700:m,g=n.htmlFontSize,b=void 0===g?16:g,k=n.allVariants,w=n.pxToRem,x=(0,i.Z)(n,_);var S=c/14,I=w||function(e){return"".concat(e/b*S,"rem")},E=function(e,t,n,i,a){return(0,r.Z)({fontFamily:u,fontWeight:e,fontSize:I(t),lineHeight:n},u===C?{letterSpacing:"".concat((o=i/t,Math.round(1e5*o)/1e5),"em")}:{},a,k);var o},A={h1:E(f,96,1.167,-1.5),h2:E(f,60,1.2,-.5),h3:E(h,48,1.167,0),h4:E(h,34,1.235,.25),h5:E(h,24,1.334,0),h6:E(v,20,1.6,.15),subtitle1:E(h,16,1.75,.15),subtitle2:E(v,14,1.57,.1),body1:E(h,16,1.5,.15),body2:E(h,14,1.43,.15),button:E(v,14,1.75,.4,T),caption:E(h,12,1.66,.4),overline:E(h,12,2.66,1,T),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return(0,o.Z)((0,r.Z)({htmlFontSize:b,pxToRem:I,fontFamily:u,fontSize:c,fontWeightLight:f,fontWeightRegular:h,fontWeightMedium:v,fontWeightBold:y},A),x,{clone:!1})}function N(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var R=["none",N(0,2,1,-1,0,1,1,0,0,1,3,0),N(0,3,1,-2,0,2,2,0,0,1,5,0),N(0,3,3,-2,0,3,4,0,0,1,8,0),N(0,2,4,-1,0,4,5,0,0,1,10,0),N(0,3,5,-1,0,5,8,0,0,1,14,0),N(0,3,5,-1,0,6,10,0,0,1,18,0),N(0,4,5,-2,0,7,10,1,0,2,16,1),N(0,5,5,-3,0,8,10,1,0,3,14,2),N(0,5,6,-3,0,9,12,1,0,3,16,2),N(0,6,6,-3,0,10,14,1,0,4,18,3),N(0,6,7,-4,0,11,15,1,0,4,20,3),N(0,7,8,-4,0,12,17,2,0,5,22,4),N(0,7,8,-4,0,13,19,2,0,5,24,4),N(0,7,9,-4,0,14,21,2,0,5,26,4),N(0,8,9,-5,0,15,22,2,0,6,28,5),N(0,8,10,-5,0,16,24,2,0,6,30,5),N(0,8,11,-5,0,17,26,2,0,6,32,5),N(0,9,11,-5,0,18,28,2,0,7,34,6),N(0,9,12,-6,0,19,29,2,0,7,36,6),N(0,10,13,-6,0,20,31,3,0,8,38,7),N(0,10,13,-6,0,21,33,3,0,8,40,7),N(0,10,14,-6,0,22,35,3,0,8,42,7),N(0,11,14,-7,0,23,36,3,0,9,44,8),N(0,11,15,-7,0,24,38,3,0,9,46,8)],P=["duration","easing","delay"],O={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},D={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function M(e){return"".concat(Math.round(e),"ms")}function L(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}function F(e){var t=(0,r.Z)({},O,e.easing),n=(0,r.Z)({},D,e.duration);return(0,r.Z)({getAutoHeightDuration:L,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.duration,o=void 0===a?n.standard:a,u=r.easing,s=void 0===u?t.easeInOut:u,c=r.delay,l=void 0===c?0:c;(0,i.Z)(r,P);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof o?o:M(o)," ").concat(s," ").concat("string"===typeof l?l:M(l))})).join(",")}},e,{easing:t,duration:n})}var Z={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},j=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function V(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mixins,n=void 0===t?{}:t,l=e.palette,d=void 0===l?{}:l,h=e.transitions,p=void 0===h?{}:h,v=e.typography,m=void 0===v?{}:v,y=(0,i.Z)(e,j);if(e.vars)throw new Error((0,a.Z)(18));var g=E(d),b=(0,u.Z)(e),k=(0,o.Z)(b,{mixins:f(b.breakpoints,n),palette:g,shadows:R.slice(),typography:A(g,m),transitions:F(p),zIndex:(0,r.Z)({},Z)});k=(0,o.Z)(k,y);for(var w=arguments.length,x=new Array(w>1?w-1:0),S=1;S<w;S++)x[S-1]=arguments[S];return(k=x.reduce((function(e,t){return(0,o.Z)(e,t)}),k)).unstable_sxConfig=(0,r.Z)({},s.Z,null==y?void 0:y.unstable_sxConfig),k.unstable_sx=function(e){return(0,c.Z)({sx:e,theme:this})},k}var U=V},2248:function(e,t,n){"use strict";var r=(0,n(5169).Z)();t.Z=r},8564:function(e,t,n){"use strict";n.d(t,{ZP:function(){return I},FO:function(){return w},Dz:function(){return x}});var r=n(3433),i=n(9439),a=n(3366),o=n(7462),u=n(4472),s=n(9456),c=n(114),l=["variant"];function f(e){return 0===e.length}function d(e){var t=e.variant,n=(0,a.Z)(e,l),r=t||"";return Object.keys(n).sort().forEach((function(t){r+="color"===t?f(r)?e[t]:(0,c.Z)(e[t]):"".concat(f(r)?t:(0,c.Z)(t)).concat((0,c.Z)(e[t].toString()))})),r}var h=n(3649),p=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],v=["theme"],m=["theme"];function y(e){return 0===Object.keys(e).length}function g(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}var b=(0,s.Z)();var k=n(2248),w=function(e){return g(e)&&"classes"!==e},x=g,S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.defaultTheme,n=void 0===t?b:t,s=e.rootShouldForwardProp,c=void 0===s?g:s,l=e.slotShouldForwardProp,f=void 0===l?g:l,k=function(e){var t=y(e.theme)?n:e.theme;return(0,h.Z)((0,o.Z)({},e,{theme:t}))};return k.__mui_systemSx=!0,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,u.Co)(e,(function(e){return e.filter((function(e){return!(null!=e&&e.__mui_systemSx)}))}));var s=t.name,l=t.slot,h=t.skipVariantsResolver,b=t.skipSx,w=t.overridesResolver,x=(0,a.Z)(t,p),S=void 0!==h?h:l&&"Root"!==l||!1,I=b||!1;var E=g;"Root"===l?E=c:l?E=f:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(E=void 0);var _=(0,u.ZP)(e,(0,o.Z)({shouldForwardProp:E,label:undefined},x)),T=function(e){for(var t=arguments.length,u=new Array(t>1?t-1:0),c=1;c<t;c++)u[c-1]=arguments[c];var l=u?u.map((function(e){return"function"===typeof e&&e.__emotion_real!==e?function(t){var r=t.theme,i=(0,a.Z)(t,v);return e((0,o.Z)({theme:y(r)?n:r},i))}:e})):[],f=e;s&&w&&l.push((function(e){var t=y(e.theme)?n:e.theme,r=function(e,t){return t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null}(s,t);if(r){var a={};return Object.entries(r).forEach((function(n){var r=(0,i.Z)(n,2),u=r[0],s=r[1];a[u]="function"===typeof s?s((0,o.Z)({},e,{theme:t})):s})),w(e,a)}return null})),s&&!S&&l.push((function(e){var t=y(e.theme)?n:e.theme;return function(e,t,n,r){var i,a,o=e.ownerState,u=void 0===o?{}:o,s=[],c=null==n||null==(i=n.components)||null==(a=i[r])?void 0:a.variants;return c&&c.forEach((function(n){var r=!0;Object.keys(n.props).forEach((function(t){u[t]!==n.props[t]&&e[t]!==n.props[t]&&(r=!1)})),r&&s.push(t[d(n.props)])})),s}(e,function(e,t){var n=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants);var r={};return n.forEach((function(e){var t=d(e.props);r[t]=e.style})),r}(s,t),t,s)})),I||l.push(k);var h=l.length-u.length;if(Array.isArray(e)&&h>0){var p=new Array(h).fill("");(f=[].concat((0,r.Z)(e),(0,r.Z)(p))).raw=[].concat((0,r.Z)(e.raw),(0,r.Z)(p))}else"function"===typeof e&&e.__emotion_real!==e&&(f=function(t){var r=t.theme,i=(0,a.Z)(t,m);return e((0,o.Z)({theme:y(r)?n:r},i))});return _.apply(void 0,[f].concat((0,r.Z)(l)))};return _.withConfig&&(T.withConfig=_.withConfig),T}}({defaultTheme:k.Z,rootShouldForwardProp:w}),I=S},5469:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(4290),i=n(6728);var a=n(2248);function o(e){return function(e){var t=e.props,n=e.name,a=e.defaultTheme,o=(0,i.Z)(a);return(0,r.Z)({theme:o,name:n,props:t})}({props:e.props,name:e.name,defaultTheme:a.Z})}},1615:function(e,t,n){"use strict";var r=n(114);t.Z=r.Z},1171:function(e,t,n){"use strict";n.d(t,{Z:function(){return b}});var r=n(7462),i=n(7313),a=n(3366),o=n(3061),u=n(1921),s=n(1615),c=n(5469),l=n(8564),f=n(7430),d=n(2298);function h(e){return(0,d.Z)("MuiSvgIcon",e)}(0,f.Z)("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var p=n(6417),v=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],m=(0,l.ZP)("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"inherit"!==n.color&&t["color".concat((0,s.Z)(n.color))],t["fontSize".concat((0,s.Z)(n.fontSize))]]}})((function(e){var t,n,r,i,a,o,u,s,c,l,f,d,h,p,v,m,y,g=e.theme,b=e.ownerState;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:null==(t=g.transitions)||null==(n=t.create)?void 0:n.call(t,"fill",{duration:null==(r=g.transitions)||null==(i=r.duration)?void 0:i.shorter}),fontSize:{inherit:"inherit",small:(null==(a=g.typography)||null==(o=a.pxToRem)?void 0:o.call(a,20))||"1.25rem",medium:(null==(u=g.typography)||null==(s=u.pxToRem)?void 0:s.call(u,24))||"1.5rem",large:(null==(c=g.typography)||null==(l=c.pxToRem)?void 0:l.call(c,35))||"2.1875rem"}[b.fontSize],color:null!=(f=null==(d=(g.vars||g).palette)||null==(h=d[b.color])?void 0:h.main)?f:{action:null==(p=(g.vars||g).palette)||null==(v=p.action)?void 0:v.active,disabled:null==(m=(g.vars||g).palette)||null==(y=m.action)?void 0:y.disabled,inherit:void 0}[b.color]}})),y=i.forwardRef((function(e,t){var n=(0,c.Z)({props:e,name:"MuiSvgIcon"}),i=n.children,l=n.className,f=n.color,d=void 0===f?"inherit":f,y=n.component,g=void 0===y?"svg":y,b=n.fontSize,k=void 0===b?"medium":b,w=n.htmlColor,x=n.inheritViewBox,S=void 0!==x&&x,I=n.titleAccess,E=n.viewBox,_=void 0===E?"0 0 24 24":E,T=(0,a.Z)(n,v),C=(0,r.Z)({},n,{color:d,component:g,fontSize:k,instanceFontSize:e.fontSize,inheritViewBox:S,viewBox:_}),A={};S||(A.viewBox=_);var N=function(e){var t=e.color,n=e.fontSize,r=e.classes,i={root:["root","inherit"!==t&&"color".concat((0,s.Z)(t)),"fontSize".concat((0,s.Z)(n))]};return(0,u.Z)(i,h,r)}(C);return(0,p.jsxs)(m,(0,r.Z)({as:g,className:(0,o.Z)(N.root,l),focusable:"false",color:w,"aria-hidden":!I||void 0,role:I?"img":void 0,ref:t},A,T,{ownerState:C,children:[i,I?(0,p.jsx)("title",{children:I}):null]}))}));y.muiName="SvgIcon";var g=y;function b(e,t){function n(n,i){return(0,p.jsx)(g,(0,r.Z)({"data-testid":"".concat(t,"Icon"),ref:i},n,{children:e}))}return n.muiName=g.muiName,i.memo(i.forwardRef(n))}},8706:function(e,t,n){"use strict";var r=n(4312);t.Z=r.Z},3928:function(e,t,n){"use strict";n.r(t),n.d(t,{capitalize:function(){return i.Z},createChainedFunction:function(){return a},createSvgIcon:function(){return o.Z},debounce:function(){return u.Z},deprecatedPropType:function(){return s},isMuiElement:function(){return c.Z},ownerDocument:function(){return l.Z},ownerWindow:function(){return f.Z},requirePropFactory:function(){return d},setRef:function(){return h},unstable_ClassNameGenerator:function(){return w},unstable_useEnhancedEffect:function(){return p.Z},unstable_useId:function(){return v},unsupportedProp:function(){return m},useControlled:function(){return y.Z},useEventCallback:function(){return g.Z},useForkRef:function(){return b.Z},useIsFocusVisible:function(){return k.Z}});var r=n(1271),i=n(1615),a=n(4246).Z,o=n(1171),u=n(8706);var s=function(e,t){return function(){return null}},c=n(7816),l=n(6106),f=n(3533);n(7462);var d=function(e,t){return function(){return null}},h=n(9265).Z,p=n(4993),v=n(3362).Z;var m=function(e,t,n,r,i){return null},y=n(522),g=n(3236),b=n(6983),k=n(9127),w={configure:function(e){r.Z.configure(e)}}},7816:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(7313);var i=function(e,t){return r.isValidElement(e)&&-1!==t.indexOf(e.type.muiName)}},6106:function(e,t,n){"use strict";var r=n(9081);t.Z=r.Z},3533:function(e,t,n){"use strict";var r=n(3282);t.Z=r.Z},522:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(9439),i=n(7313);var a=function(e){var t=e.controlled,n=e.default,a=(e.name,e.state,i.useRef(void 0!==t).current),o=i.useState(n),u=(0,r.Z)(o,2),s=u[0],c=u[1];return[a?t:s,i.useCallback((function(e){a||c(e)}),[])]}},4993:function(e,t,n){"use strict";var r=n(2678);t.Z=r.Z},3236:function(e,t,n){"use strict";var r=n(2780);t.Z=r.Z},6983:function(e,t,n){"use strict";var r=n(7472);t.Z=r.Z},9127:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r,i=n(7313),a=!0,o=!1,u={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function s(e){e.metaKey||e.altKey||e.ctrlKey||(a=!0)}function c(){a=!1}function l(){"hidden"===this.visibilityState&&o&&(a=!0)}function f(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return a||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!u[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}var d=function(){var e=i.useCallback((function(e){var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",s,!0),t.addEventListener("mousedown",c,!0),t.addEventListener("pointerdown",c,!0),t.addEventListener("touchstart",c,!0),t.addEventListener("visibilitychange",l,!0))}),[]),t=i.useRef(!1);return{isFocusVisibleRef:t,onFocus:function(e){return!!f(e)&&(t.current=!0,!0)},onBlur:function(){return!!t.current&&(o=!0,window.clearTimeout(r),r=window.setTimeout((function(){o=!1}),100),t.current=!1,!0)},ref:e}}},5693:function(e,t,n){"use strict";var r=n(7313).createContext(null);t.Z=r},201:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(7313),i=n(5693);function a(){return r.useContext(i.Z)}},4472:function(e,t,n){"use strict";n.d(t,{ZP:function(){return k},Co:function(){return w}});var r=n(7313),i=n(7462),a=n(1816),o=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,u=(0,a.Z)((function(e){return o.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),s=n(6132),c=n(4911),l=n(1086),f=n(5696),d=u,h=function(e){return"theme"!==e},p=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?d:h},v=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},m=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;(0,c.hC)(t,n,r);(0,f.L)((function(){return(0,c.My)(t,n,r)}));return null},y=function e(t,n){var a,o,u=t.__emotion_real===t,f=u&&t.__emotion_base||t;void 0!==n&&(a=n.label,o=n.target);var d=v(t,n,u),h=d||p(f),y=!h("as");return function(){var g=arguments,b=u&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==a&&b.push("label:"+a+";"),null==g[0]||void 0===g[0].raw)b.push.apply(b,g);else{0,b.push(g[0][0]);for(var k=g.length,w=1;w<k;w++)b.push(g[w],g[0][w])}var x=(0,s.w)((function(e,t,n){var i=y&&e.as||f,a="",u=[],v=e;if(null==e.theme){for(var g in v={},e)v[g]=e[g];v.theme=(0,r.useContext)(s.T)}"string"===typeof e.className?a=(0,c.fp)(t.registered,u,e.className):null!=e.className&&(a=e.className+" ");var k=(0,l.O)(b.concat(u),t.registered,v);a+=t.key+"-"+k.name,void 0!==o&&(a+=" "+o);var w=y&&void 0===d?p(i):h,x={};for(var S in e)y&&"as"===S||w(S)&&(x[S]=e[S]);return x.className=a,x.ref=n,(0,r.createElement)(r.Fragment,null,(0,r.createElement)(m,{cache:t,serialized:k,isStringTag:"string"===typeof i}),(0,r.createElement)(i,x))}));return x.displayName=void 0!==a?a:"Styled("+("string"===typeof f?f:f.displayName||f.name||"Component")+")",x.defaultProps=t.defaultProps,x.__emotion_real=x,x.__emotion_base=f,x.__emotion_styles=b,x.__emotion_forwardProp=d,Object.defineProperty(x,"toString",{value:function(){return"."+o}}),x.withComponent=function(t,r){return e(t,(0,i.Z)({},n,r,{shouldForwardProp:v(x,r,!0)})).apply(void 0,b)},x}},g=y.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){g[e]=g(e)}));var b=g;function k(e,t){return b(e,t)}var w=function(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}},4929:function(e,t,n){"use strict";n.d(t,{L7:function(){return u},P$:function(){return s},VO:function(){return r},W8:function(){return o},k9:function(){return a}});var r={xs:0,sm:600,md:900,lg:1200,xl:1536},i={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(r[e],"px)")}};function a(e,t,n){var a=e.theme||{};if(Array.isArray(t)){var o=a.breakpoints||i;return t.reduce((function(e,r,i){return e[o.up(o.keys[i])]=n(t[i]),e}),{})}if("object"===typeof t){var u=a.breakpoints||i;return Object.keys(t).reduce((function(e,i){if(-1!==Object.keys(u.values||r).indexOf(i)){e[u.up(i)]=n(t[i],i)}else{var a=i;e[a]=t[a]}return e}),{})}return n(t)}function o(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(null==(e=t.keys)?void 0:e.reduce((function(e,n){return e[t.up(n)]={},e}),{}))||{}}function u(e,t){return e.reduce((function(e,t){var n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function s(e){var t,n=e.values,r=e.breakpoints,i=e.base||function(e,t){if("object"!==typeof e)return{};var n={},r=Object.keys(t);return Array.isArray(e)?r.forEach((function(t,r){r<e.length&&(n[t]=!0)})):r.forEach((function(t){null!=e[t]&&(n[t]=!0)})),n}(n,r),a=Object.keys(i);return 0===a.length?n:a.reduce((function(e,r,i){return Array.isArray(n)?(e[r]=null!=n[i]?n[i]:n[t],t=i):"object"===typeof n?(e[r]=null!=n[r]?n[r]:n[t],t=r):e[r]=n,e}),{})}},7551:function(e,t,n){"use strict";n.d(t,{$n:function(){return f},Fq:function(){return c},_j:function(){return l},mi:function(){return s}});var r=n(7219);function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function a(e){if(e.type)return e;if("#"===e.charAt(0))return a(function(e){e=e.slice(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error((0,r.Z)(9,e));var i,o=e.substring(t+1,e.length-1);if("color"===n){if(i=(o=o.split(" ")).shift(),4===o.length&&"/"===o[3].charAt(0)&&(o[3]=o[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i))throw new Error((0,r.Z)(10,i))}else o=o.split(",");return{type:n,values:o=o.map((function(e){return parseFloat(e)})),colorSpace:i}}function o(e){var t=e.type,n=e.colorSpace,r=e.values;return-1!==t.indexOf("rgb")?r=r.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function u(e){var t="hsl"===(e=a(e)).type||"hsla"===e.type?a(function(e){var t=(e=a(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,u=r*Math.min(i,1-i),s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-u*Math.max(Math.min(t-3,9-t,1),-1)},c="rgb",l=[Math.round(255*s(0)),Math.round(255*s(8)),Math.round(255*s(4))];return"hsla"===e.type&&(c+="a",l.push(t[3])),o({type:c,values:l})}(e)).values:e.values;return t=t.map((function(t){return"color"!==e.type&&(t/=255),t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function s(e,t){var n=u(e),r=u(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function c(e,t){return e=a(e),t=i(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,o(e)}function l(e,t){if(e=a(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return o(e)}function f(e,t){if(e=a(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(var r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return o(e)}},9456:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(7462),i=n(3366),a=n(3019),o=n(4942),u=["values","unit","step"],s=function(e){var t=Object.keys(e).map((function(t){return{key:t,val:e[t]}}))||[];return t.sort((function(e,t){return e.val-t.val})),t.reduce((function(e,t){return(0,r.Z)({},e,(0,o.Z)({},t.key,t.val))}),{})};var c={borderRadius:4},l=n(6886);var f=n(3649),d=n(3232),h=["breakpoints","palette","spacing","shape"];var p=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,o=e.palette,p=void 0===o?{}:o,v=e.spacing,m=e.shape,y=void 0===m?{}:m,g=(0,i.Z)(e,h),b=function(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:900,lg:1200,xl:1536}:t,a=e.unit,o=void 0===a?"px":a,c=e.step,l=void 0===c?5:c,f=(0,i.Z)(e,u),d=s(n),h=Object.keys(d);function p(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(o,")")}function v(e){var t="number"===typeof n[e]?n[e]:e;return"@media (max-width:".concat(t-l/100).concat(o,")")}function m(e,t){var r=h.indexOf(t);return"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(o,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[h[r]]?n[h[r]]:t)-l/100).concat(o,")")}return(0,r.Z)({keys:h,values:d,up:p,down:v,between:m,only:function(e){return h.indexOf(e)+1<h.length?m(e,h[h.indexOf(e)+1]):p(e)},not:function(e){var t=h.indexOf(e);return 0===t?p(h[1]):t===h.length-1?v(h[t]):m(e,h[h.indexOf(e)+1]).replace("@media","@media not all and")},unit:o},f)}(n),k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=(0,l.hB)({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0===n.length?[1]:n).map((function(e){var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}(v),w=(0,a.Z)({breakpoints:b,direction:"ltr",components:{},palette:(0,r.Z)({mode:"light"},p),spacing:k,shape:(0,r.Z)({},c,y)},g),x=arguments.length,S=new Array(x>1?x-1:0),I=1;I<x;I++)S[I-1]=arguments[I];return(w=S.reduce((function(e,t){return(0,a.Z)(e,t)}),w)).unstable_sxConfig=(0,r.Z)({},d.Z,null==g?void 0:g.unstable_sxConfig),w.unstable_sx=function(e){return(0,f.Z)({sx:e,theme:this})},w}},7330:function(e,t,n){"use strict";var r=n(3019);t.Z=function(e,t){return t?(0,r.Z)(e,t,{clone:!1}):e}},6886:function(e,t,n){"use strict";n.d(t,{hB:function(){return v},eI:function(){return p},NA:function(){return m},e6:function(){return b},o3:function(){return k}});var r=n(9439),i=n(4929),a=n(6428),o=n(7330);var u={m:"margin",p:"padding"},s={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},c={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},l=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!c[e])return[e];e=c[e]}var t=e.split(""),n=(0,r.Z)(t,2),i=n[0],a=n[1],o=u[i],l=s[a]||"";return Array.isArray(l)?l.map((function(e){return o+e})):[o+l]})),f=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],d=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],h=[].concat(f,d);function p(e,t,n,r){var i,o=null!=(i=(0,a.DW)(e,t,!1))?i:n;return"number"===typeof o?function(e){return"string"===typeof e?e:o*e}:Array.isArray(o)?function(e){return"string"===typeof e?e:o[e]}:"function"===typeof o?o:function(){}}function v(e){return p(e,"spacing",8)}function m(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function y(e,t,n,r){if(-1===t.indexOf(n))return null;var a=function(e,t){return function(n){return e.reduce((function(e,r){return e[r]=m(t,n),e}),{})}}(l(n),r),o=e[n];return(0,i.k9)(e,o,a)}function g(e,t){var n=v(e.theme);return Object.keys(e).map((function(r){return y(e,t,r,n)})).reduce(o.Z,{})}function b(e){return g(e,f)}function k(e){return g(e,d)}function w(e){return g(e,h)}b.propTypes={},b.filterProps=f,k.propTypes={},k.filterProps=d,w.propTypes={},w.filterProps=h},6428:function(e,t,n){"use strict";n.d(t,{DW:function(){return o},Jq:function(){return u}});var r=n(4942),i=n(114),a=n(4929);function o(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){var r="vars.".concat(t).split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e);if(null!=r)return r}return t.split(".").reduce((function(e,t){return e&&null!=e[t]?e[t]:null}),e)}function u(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:o(e,n)||i,t&&(r=t(r,i,e)),r}t.ZP=function(e){var t=e.prop,n=e.cssProperty,s=void 0===n?e.prop:n,c=e.themeKey,l=e.transform,f=function(e){if(null==e[t])return null;var n=e[t],f=o(e.theme,c)||{};return(0,a.k9)(e,n,(function(e){var n=u(f,l,e);return e===n&&"string"===typeof e&&(n=u(f,l,"".concat(t).concat("default"===e?"":(0,i.Z)(e)),e)),!1===s?n:(0,r.Z)({},s,n)}))};return f.propTypes={},f.filterProps=[t],f}},3232:function(e,t,n){"use strict";n.d(t,{Z:function(){return D}});var r=n(4942),i=n(114),a=n(6886),o=n(4929),u=n(6428),s=n(7330);var c=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return t.filterProps.forEach((function(n){e[n]=t})),e}),{}),i=function(e){return Object.keys(e).reduce((function(t,n){return r[n]?(0,s.Z)(t,r[n](e)):t}),{})};return i.propTypes={},i.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),i};function l(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var f=(0,u.ZP)({prop:"border",themeKey:"borders",transform:l}),d=(0,u.ZP)({prop:"borderTop",themeKey:"borders",transform:l}),h=(0,u.ZP)({prop:"borderRight",themeKey:"borders",transform:l}),p=(0,u.ZP)({prop:"borderBottom",themeKey:"borders",transform:l}),v=(0,u.ZP)({prop:"borderLeft",themeKey:"borders",transform:l}),m=(0,u.ZP)({prop:"borderColor",themeKey:"palette"}),y=(0,u.ZP)({prop:"borderTopColor",themeKey:"palette"}),g=(0,u.ZP)({prop:"borderRightColor",themeKey:"palette"}),b=(0,u.ZP)({prop:"borderBottomColor",themeKey:"palette"}),k=(0,u.ZP)({prop:"borderLeftColor",themeKey:"palette"}),w=function(e){if(void 0!==e.borderRadius&&null!==e.borderRadius){var t=(0,a.eI)(e.theme,"shape.borderRadius",4,"borderRadius");return(0,o.k9)(e,e.borderRadius,(function(e){return{borderRadius:(0,a.NA)(t,e)}}))}return null};w.propTypes={},w.filterProps=["borderRadius"];c(f,d,h,p,v,m,y,g,b,k,w);var x=function(e){if(void 0!==e.gap&&null!==e.gap){var t=(0,a.eI)(e.theme,"spacing",8,"gap");return(0,o.k9)(e,e.gap,(function(e){return{gap:(0,a.NA)(t,e)}}))}return null};x.propTypes={},x.filterProps=["gap"];var S=function(e){if(void 0!==e.columnGap&&null!==e.columnGap){var t=(0,a.eI)(e.theme,"spacing",8,"columnGap");return(0,o.k9)(e,e.columnGap,(function(e){return{columnGap:(0,a.NA)(t,e)}}))}return null};S.propTypes={},S.filterProps=["columnGap"];var I=function(e){if(void 0!==e.rowGap&&null!==e.rowGap){var t=(0,a.eI)(e.theme,"spacing",8,"rowGap");return(0,o.k9)(e,e.rowGap,(function(e){return{rowGap:(0,a.NA)(t,e)}}))}return null};I.propTypes={},I.filterProps=["rowGap"];c(x,S,I,(0,u.ZP)({prop:"gridColumn"}),(0,u.ZP)({prop:"gridRow"}),(0,u.ZP)({prop:"gridAutoFlow"}),(0,u.ZP)({prop:"gridAutoColumns"}),(0,u.ZP)({prop:"gridAutoRows"}),(0,u.ZP)({prop:"gridTemplateColumns"}),(0,u.ZP)({prop:"gridTemplateRows"}),(0,u.ZP)({prop:"gridTemplateAreas"}),(0,u.ZP)({prop:"gridArea"}));function E(e,t){return"grey"===t?t:e}c((0,u.ZP)({prop:"color",themeKey:"palette",transform:E}),(0,u.ZP)({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:E}),(0,u.ZP)({prop:"backgroundColor",themeKey:"palette",transform:E}));function _(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}var T=(0,u.ZP)({prop:"width",transform:_}),C=function(e){if(void 0!==e.maxWidth&&null!==e.maxWidth){return(0,o.k9)(e,e.maxWidth,(function(t){var n,r,i;return{maxWidth:(null==(n=e.theme)||null==(r=n.breakpoints)||null==(i=r.values)?void 0:i[t])||o.VO[t]||_(t)}}))}return null};C.filterProps=["maxWidth"];var A=(0,u.ZP)({prop:"minWidth",transform:_}),N=(0,u.ZP)({prop:"height",transform:_}),R=(0,u.ZP)({prop:"maxHeight",transform:_}),P=(0,u.ZP)({prop:"minHeight",transform:_}),O=((0,u.ZP)({prop:"size",cssProperty:"width",transform:_}),(0,u.ZP)({prop:"size",cssProperty:"height",transform:_}),c(T,C,A,N,R,P,(0,u.ZP)({prop:"boxSizing"})),function(e){return function(t){if(void 0!==t[e]&&null!==t[e]){return(0,o.k9)(t,t[e],(function(n){var a,o,u,s,c,l,f=null==(a=t.theme.typography)?void 0:a[n];("object"===typeof f&&(f=null),f)||(f=null==(o=t.theme.typography)?void 0:o["".concat(e).concat("default"===t[e]||t[e]===e?"":(0,i.Z)(null==(u=t[e])?void 0:u.toString()))]);f||(f=null!=(s=null==(c=t.theme.typography)||null==(l=c[n])?void 0:l[e])?s:n);return(0,r.Z)({},e,f)}))}return null}}),D={border:{themeKey:"borders",transform:l},borderTop:{themeKey:"borders",transform:l},borderRight:{themeKey:"borders",transform:l},borderBottom:{themeKey:"borders",transform:l},borderLeft:{themeKey:"borders",transform:l},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:w},color:{themeKey:"palette",transform:E},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:E},backgroundColor:{themeKey:"palette",transform:E},p:{style:a.o3},pt:{style:a.o3},pr:{style:a.o3},pb:{style:a.o3},pl:{style:a.o3},px:{style:a.o3},py:{style:a.o3},padding:{style:a.o3},paddingTop:{style:a.o3},paddingRight:{style:a.o3},paddingBottom:{style:a.o3},paddingLeft:{style:a.o3},paddingX:{style:a.o3},paddingY:{style:a.o3},paddingInline:{style:a.o3},paddingInlineStart:{style:a.o3},paddingInlineEnd:{style:a.o3},paddingBlock:{style:a.o3},paddingBlockStart:{style:a.o3},paddingBlockEnd:{style:a.o3},m:{style:a.e6},mt:{style:a.e6},mr:{style:a.e6},mb:{style:a.e6},ml:{style:a.e6},mx:{style:a.e6},my:{style:a.e6},margin:{style:a.e6},marginTop:{style:a.e6},marginRight:{style:a.e6},marginBottom:{style:a.e6},marginLeft:{style:a.e6},marginX:{style:a.e6},marginY:{style:a.e6},marginInline:{style:a.e6},marginInlineStart:{style:a.e6},marginInlineEnd:{style:a.e6},marginBlock:{style:a.e6},marginBlockStart:{style:a.e6},marginBlockEnd:{style:a.e6},displayPrint:{cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:x},rowGap:{style:I},columnGap:{style:S},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:_},maxWidth:{style:C},minWidth:{transform:_},height:{transform:_},maxHeight:{transform:_},minHeight:{transform:_},boxSizing:{},fontFamily:{themeKey:"typography",style:O("fontFamily")},fontSize:{themeKey:"typography",style:O("fontSize")},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography",style:O("fontWeight")},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}}},3649:function(e,t,n){"use strict";var r=n(4942),i=n(114),a=n(7330),o=n(6428),u=n(4929),s=n(3232);var c=function(){function e(e,t,n,a){var s,c=(s={},(0,r.Z)(s,e,t),(0,r.Z)(s,"theme",n),s),l=a[e];if(!l)return(0,r.Z)({},e,t);var f=l.cssProperty,d=void 0===f?e:f,h=l.themeKey,p=l.transform,v=l.style;if(null==t)return null;var m=(0,o.DW)(n,h)||{};if(v)return v(c);return(0,u.k9)(c,t,(function(t){var n=(0,o.Jq)(m,p,t);return t===n&&"string"===typeof t&&(n=(0,o.Jq)(m,p,"".concat(e).concat("default"===t?"":(0,i.Z)(t)),t)),!1===d?n:(0,r.Z)({},d,n)}))}return function t(n){var i,o=n||{},c=o.sx,l=o.theme,f=void 0===l?{}:l;if(!c)return null;var d=null!=(i=f.unstable_sxConfig)?i:s.Z;function h(n){var i=n;if("function"===typeof n)i=n(f);else if("object"!==typeof n)return n;if(!i)return null;var o=(0,u.W8)(f.breakpoints),s=Object.keys(o),c=o;return Object.keys(i).forEach((function(n){var o,s,l=(o=i[n],s=f,"function"===typeof o?o(s):o);if(null!==l&&void 0!==l)if("object"===typeof l)if(d[n])c=(0,a.Z)(c,e(n,l,f,d));else{var h=(0,u.k9)({theme:f},l,(function(e){return(0,r.Z)({},n,e)}));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return e.concat(Object.keys(t))}),[]),i=new Set(r);return t.every((function(e){return i.size===Object.keys(e).length}))}(h,l)?c=(0,a.Z)(c,h):c[n]=t({sx:l,theme:f})}else c=(0,a.Z)(c,e(n,l,f,d))})),(0,u.L7)(s,c)}return Array.isArray(c)?c.map(h):h(c)}}();c.filterProps=["sx"],t.Z=c},6728:function(e,t,n){"use strict";var r=n(9456),i=n(4976),a=(0,r.Z)();t.Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a;return(0,i.Z)(e)}},4290:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(9023);function i(e){var t=e.theme,n=e.name,i=e.props;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?(0,r.Z)(t.components[n].defaultProps,i):i}},4976:function(e,t,n){"use strict";var r=n(201);t.Z=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=(0,r.Z)();return n&&(e=n,0!==Object.keys(e).length)?n:t}},1271:function(e,t){"use strict";var n=function(e){return e},r=function(){var e=n;return{configure:function(t){e=t},generate:function(t){return e(t)},reset:function(){e=n}}}();t.Z=r},114:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(7219);function i(e){if("string"!==typeof e)throw new Error((0,r.Z)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},1921:function(e,t,n){"use strict";function r(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r={};return Object.keys(e).forEach((function(i){r[i]=e[i].reduce((function(e,r){if(r){var i=t(r);""!==i&&e.push(i),n&&n[r]&&e.push(n[r])}return e}),[]).join(" ")})),r}n.d(t,{Z:function(){return r}})},4246:function(e,t,n){"use strict";function r(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),(function(){}))}n.d(t,{Z:function(){return r}})},4312:function(e,t,n){"use strict";function r(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=this,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];clearTimeout(t),t=setTimeout((function(){e.apply(r,a)}),n)}return r.clear=function(){clearTimeout(t)},r}n.d(t,{Z:function(){return r}})},3019:function(e,t,n){"use strict";n.d(t,{P:function(){return i},Z:function(){return o}});var r=n(7462);function i(e){return null!==e&&"object"===typeof e&&e.constructor===Object}function a(e){if(!i(e))return e;var t={};return Object.keys(e).forEach((function(n){t[n]=a(e[n])})),t}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},u=n.clone?(0,r.Z)({},e):e;return i(e)&&i(t)&&Object.keys(t).forEach((function(r){"__proto__"!==r&&(i(t[r])&&r in e&&i(e[r])?u[r]=o(e[r],t[r],n):n.clone?u[r]=i(t[r])?a(t[r]):t[r]:u[r]=t[r])})),u}},7219:function(e,t,n){"use strict";function r(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}n.d(t,{Z:function(){return r}})},2298:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(1271),i={active:"active",checked:"checked",completed:"completed",disabled:"disabled",readOnly:"readOnly",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",a=i[t];return a?"".concat(n,"-").concat(a):"".concat(r.Z.generate(e),"-").concat(t)}},7430:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(2298);function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",i={};return t.forEach((function(t){i[t]=(0,r.Z)(e,t,n)})),i}},9081:function(e,t,n){"use strict";function r(e){return e&&e.ownerDocument||document}n.d(t,{Z:function(){return r}})},3282:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(9081);function i(e){return(0,r.Z)(e).defaultView||window}},9023:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(7462);function i(e,t){var n=(0,r.Z)({},t);return Object.keys(e).forEach((function(a){if(a.toString().match(/^(components|slots)$/))n[a]=(0,r.Z)({},e[a],n[a]);else if(a.toString().match(/^(componentsProps|slotProps)$/)){var o=e[a]||{},u=t[a];n[a]={},u&&Object.keys(u)?o&&Object.keys(o)?(n[a]=(0,r.Z)({},u),Object.keys(o).forEach((function(e){n[a][e]=i(o[e],u[e])}))):n[a]=u:n[a]=o}else void 0===n[a]&&(n[a]=e[a])})),n}},9265:function(e,t,n){"use strict";function r(e,t){"function"===typeof e?e(t):e&&(e.current=t)}n.d(t,{Z:function(){return r}})},2678:function(e,t,n){"use strict";var r=n(7313),i="undefined"!==typeof window?r.useLayoutEffect:r.useEffect;t.Z=i},2780:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(7313),i=n(2678);function a(e){var t=r.useRef(e);return(0,i.Z)((function(){t.current=e})),r.useCallback((function(){return t.current.apply(void 0,arguments)}),[])}},7472:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(7313),i=n(9265);function a(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.useMemo((function(){return t.every((function(e){return null==e}))?null:function(e){t.forEach((function(t){(0,i.Z)(t,e)}))}}),t)}},3362:function(e,t,n){"use strict";var r;n.d(t,{Z:function(){return s}});var i=n(9439),a=n(7313),o=0;var u=(r||(r=n.t(a,2))).useId;function s(e){if(void 0!==u){var t=u();return null!=e?e:t}return function(e){var t=a.useState(e),n=(0,i.Z)(t,2),r=n[0],u=n[1],s=e||r;return a.useEffect((function(){null==r&&u("mui-".concat(o+=1))}),[r]),s}(e)}},3061:function(e,t,n){"use strict";function r(e){var t,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}t.Z=function(){for(var e,t,n=0,i="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(i&&(i+=" "),i+=t);return i}},7861:function(e,t,n){"use strict";var r=n(2535),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=h(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!u||!u[y])){var g=d(n,y);try{c(t,y,g)}catch(b){}}}}return t}},229:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,k=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case h:return e;default:switch(e=e&&e.$$typeof){case c:case d:case m:case v:case s:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=d,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=h,t.isAsyncMode=function(e){return x(e)||w(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===d},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===h},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===h||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===d||e.$$typeof===g||e.$$typeof===b||e.$$typeof===k||e.$$typeof===y)},t.typeOf=w},2535:function(e,t,n){"use strict";e.exports=n(229)},534:function(e,t,n){"use strict";var r=n(7313),i=n(2224);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(h,e)&&(d.test(e)?p[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var k=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var L,F=Object.assign;function Z(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var j=!1;function V(e,t){if(!e||j)return"";j=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{j=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Z(e):""}function U(e){switch(e.tag){case 5:return Z(e.type);case 16:return Z("Lazy");case 13:return Z("Suspense");case 19:return Z("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case x:return"Portal";case E:return"Profiler";case I:return"StrictMode";case A:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case _:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function B(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function H(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Y(e,t){X(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&H(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function ae(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(he).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ke=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Se=null,Ie=null;function Ee(e){if(e=bi(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function _e(e){Se?Ie?Ie.push(e):Ie=[e]:Se=e}function Te(){if(Se){var e=Se,t=Ie;if(Ie=Se=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Ce(e,t){return e(t)}function Ae(){}var Ne=!1;function Re(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Ce(e,t,n)}finally{Ne=!1,(null!==Se||null!==Ie)&&(Ae(),Te())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Oe=!1;if(l)try{var De={};Object.defineProperty(De,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(le){Oe=!1}function Me(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Le=!1,Fe=null,Ze=!1,je=null,Ve={onError:function(e){Le=!0,Fe=e}};function Ue(e,t,n,r,i,a,o,u,s){Le=!1,Fe=null,Me.apply(Ve,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Be(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qe(e){if(ze(e)!==e)throw Error(a(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return qe(i),e;if(o===r)return qe(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,He=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,$e=i.unstable_requestPaint,Xe=i.unstable_now,Ye=i.unstable_getCurrentPriorityLevel,Je=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function kt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,St,It,Et,_t=!1,Tt=[],Ct=null,At=null,Nt=null,Rt=new Map,Pt=new Map,Ot=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Lt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=gi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Be(n)))return e.blockedOn=t,void Et(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Zt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ke=r,n.target.dispatchEvent(r),ke=null,t.shift()}return!0}function jt(e,t,n){Zt(e)&&n.delete(t)}function Vt(){_t=!1,null!==Ct&&Zt(Ct)&&(Ct=null),null!==At&&Zt(At)&&(At=null),null!==Nt&&Zt(Nt)&&(Nt=null),Rt.forEach(jt),Pt.forEach(jt)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,_t||(_t=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function zt(e){function t(t){return Ut(t,e)}if(0<Tt.length){Ut(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Ut(Ct,e),null!==At&&Ut(At,e),null!==Nt&&Ut(Nt,e),Rt.forEach(t),Pt.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Ft(n),null===n.blockedOn&&Ot.shift()}var Bt=k.ReactCurrentBatchConfig,qt=!0;function Wt(e,t,n,r){var i=bt,a=Bt.transition;Bt.transition=null;try{bt=1,Gt(e,t,n,r)}finally{bt=i,Bt.transition=a}}function Kt(e,t,n,r){var i=bt,a=Bt.transition;Bt.transition=null;try{bt=4,Gt(e,t,n,r)}finally{bt=i,Bt.transition=a}}function Gt(e,t,n,r){if(qt){var i=Qt(e,t,n,r);if(null===i)qr(e,t,r,Ht,n),Mt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Lt(Ct,e,t,n,r,i),!0;case"dragenter":return At=Lt(At,e,t,n,r,i),!0;case"mouseover":return Nt=Lt(Nt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Rt.set(a,Lt(Rt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Pt.set(a,Lt(Pt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var a=bi(i);if(null!==a&&wt(a),null===(a=Qt(e,t,n,r))&&qr(e,t,r,Ht,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else qr(e,t,r,null,n)}}var Ht=null;function Qt(e,t,n,r){if(Ht=null,null!==(e=gi(e=we(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Be(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ht=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ye()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Yt=null,Jt=null;function en(){if(Jt)return Jt;var e,t,n=Yt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Jt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=F({},cn,{view:0,detail:0}),dn=an(fn),hn=F({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=an(hn),vn=an(F({},hn,{dataTransfer:0})),mn=an(F({},fn,{relatedTarget:0})),yn=an(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(gn),kn=an(F({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function In(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function En(){return In}var _n=F({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(_n),Cn=an(F({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=an(F({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),Nn=an(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=F({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=an(Rn),On=[9,13,27,32],Dn=l&&"CompositionEvent"in window,Mn=null;l&&"documentMode"in document&&(Mn=document.documentMode);var Ln=l&&"TextEvent"in window&&!Mn,Fn=l&&(!Dn||Mn&&8<Mn&&11>=Mn),Zn=String.fromCharCode(32),jn=!1;function Vn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var Bn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Bn[e.type]:"textarea"===t}function Wn(e,t,n,r){_e(r),0<(t=Kr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Hn(e){Zr(e,0)}function Qn(e){if(G(ki(e)))return e}function $n(e,t){if("change"===e)return t}var Xn=!1;if(l){var Yn;if(l){var Jn="oninput"in document;if(!Jn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Jn="function"===typeof er.oninput}Yn=Jn}else Yn=!1;Xn=Yn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&Qn(Gn)){var t=[];Wn(t,Gn,e,we(e)),Re(Hn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Gn)}function ar(e,t){if("click"===e)return Qn(t)}function or(e,t){if("input"===e||"change"===e)return Qn(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=H();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=H((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&hr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,br=!1;function kr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==H(r)||("selectionStart"in(r=mr)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Kr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Sr={},Ir={};function Er(e){if(Sr[e])return Sr[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ir)return Sr[e]=n[t];return e}l&&(Ir=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var _r=Er("animationend"),Tr=Er("animationiteration"),Cr=Er("animationstart"),Ar=Er("transitionend"),Nr=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Nr.set(e,t),s(t,[e])}for(var Or=0;Or<Rr.length;Or++){var Dr=Rr[Or];Pr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Pr(_r,"onAnimationEnd"),Pr(Tr,"onAnimationIteration"),Pr(Cr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Ar,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(Ue.apply(this,arguments),Le){if(!Le)throw Error(a(198));var l=Fe;Le=!1,Fe=null,Ze||(Ze=!0,je=l)}}(r,t,void 0,e),e.currentTarget=null}function Zr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}}}if(Ze)throw e=je,Ze=!1,je=null,e}function jr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(Br(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),Br(n,e,r,t)}var Ur="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Ur]){e[Ur]=!0,o.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ur]||(t[Ur]=!0,Vr("selectionchange",!1,t))}}function Br(e,t,n,r){switch($t(t)){case 1:var i=Wt;break;case 4:i=Kt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function qr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=gi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Re((function(){var r=a,i=we(n),o=[];e:{var u=Nr.get(e);if(void 0!==u){var s=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=Tn;break;case"focusin":c="focus",s=mn;break;case"focusout":c="blur",s=mn;break;case"beforeblur":case"afterblur":s=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=An;break;case _r:case Tr:case Cr:s=yn;break;case Ar:s=Nn;break;case"scroll":s=dn;break;case"wheel":s=Pn;break;case"copy":case"cut":case"paste":s=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,d=l?null!==u?u+"Capture":null:u;l=[];for(var h,p=r;null!==p;){var v=(h=p).stateNode;if(5===h.tag&&null!==v&&(h=v,null!==d&&(null!=(v=Pe(p,d))&&l.push(Wr(p,v,h)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===ke||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=pn,v="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",d="onPointerEnter",p="pointer"),f=null==s?u:ki(s),h=null==c?u:ki(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=h,v=null,gi(i)===r&&((l=new l(d,p+"enter",c,n,i)).target=h,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(d=c,p=0,h=l=s;h;h=Gr(h))p++;for(h=0,v=d;v;v=Gr(v))h++;for(;0<p-h;)l=Gr(l),p--;for(;0<h-p;)d=Gr(d),h--;for(;p--;){if(l===d||null!==d&&l===d.alternate)break e;l=Gr(l),d=Gr(d)}l=null}else l=null;null!==s&&Hr(o,u,s,l,!1),null!==c&&null!==f&&Hr(o,f,c,l,!0)}if("select"===(s=(u=r?ki(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=$n;else if(qn(u))if(Xn)m=or;else{m=ir;var y=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=ar);switch(m&&(m=m(e,r))?Wn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ee(u,"number",u.value)),y=r?ki(r):window,e){case"focusin":(qn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,kr(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":kr(o,n,i)}var g;if(Dn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else zn?Vn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Fn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==b?"onCompositionEnd"===b&&zn&&(g=en()):(Yt="value"in(Xt=i)?Xt.value:Xt.textContent,zn=!0)),0<(y=Kr(r,b)).length&&(b=new kn(b,e,null,n,i),o.push({event:b,listeners:y}),g?b.data=g:null!==(g=Un(n))&&(b.data=g))),(g=Ln?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(jn=!0,Zn);case"textInput":return(e=t.data)===Zn&&jn?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Dn&&Vn(e,t)?(e=en(),Jt=Yt=Xt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new kn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Zr(o,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Pe(e,n))&&r.unshift(Wr(e,a,i)),null!=(a=Pe(e,t))&&r.push(Wr(e,a,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Hr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Pe(n,a))&&o.unshift(Wr(n,s,u)):i||null!=(s=Pe(n,a))&&o.push(Wr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Qr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace($r,"")}function Yr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(a(425))}function Jr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),di="__reactFiber$"+fi,hi="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[di])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ki(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[hi]||null}var xi=[],Si=-1;function Ii(e){return{current:e}}function Ei(e){0>Si||(e.current=xi[Si],xi[Si]=null,Si--)}function _i(e,t){Si++,xi[Si]=e.current,e.current=t}var Ti={},Ci=Ii(Ti),Ai=Ii(!1),Ni=Ti;function Ri(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oi(){Ei(Ai),Ei(Ci)}function Di(e,t,n){if(Ci.current!==Ti)throw Error(a(168));_i(Ci,t),_i(Ai,n)}function Mi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,B(e)||"Unknown",i));return F({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ni=Ci.current,_i(Ci,e),_i(Ai,Ai.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Mi(e,t,Ni),r.__reactInternalMemoizedMergedChildContext=e,Ei(Ai),Ei(Ci),_i(Ci,e)):Ei(Ai),_i(Ai,n)}var Zi=null,ji=!1,Vi=!1;function Ui(e){null===Zi?Zi=[e]:Zi.push(e)}function zi(){if(!Vi&&null!==Zi){Vi=!0;var e=0,t=bt;try{var n=Zi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Zi=null,ji=!1}catch(i){throw null!==Zi&&(Zi=Zi.slice(e+1)),Ge(Je,zi),i}finally{bt=t,Vi=!1}}return null}var Bi=[],qi=0,Wi=null,Ki=0,Gi=[],Hi=0,Qi=null,$i=1,Xi="";function Yi(e,t){Bi[qi++]=Ki,Bi[qi++]=Wi,Wi=e,Ki=t}function Ji(e,t,n){Gi[Hi++]=$i,Gi[Hi++]=Xi,Gi[Hi++]=Qi,Qi=e;var r=$i;e=Xi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,$i=1<<32-ot(t)+i|n<<i|r,Xi=a+e}else $i=1<<a|n<<i|r,Xi=e}function ea(e){null!==e.return&&(Yi(e,1),Ji(e,1,0))}function ta(e){for(;e===Wi;)Wi=Bi[--qi],Bi[qi]=null,Ki=Bi[--qi],Bi[qi]=null;for(;e===Qi;)Qi=Gi[--Hi],Gi[Hi]=null,Xi=Gi[--Hi],Gi[Hi]=null,$i=Gi[--Hi],Gi[Hi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Pc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ua(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qi?{id:$i,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function sa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!ua(e,t)){if(sa(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&ua(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(sa(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(sa(e))throw da(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function da(){for(var e=ra;e;)e=ci(e.nextSibling)}function ha(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=k.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=Ii(null),ga=null,ba=null,ka=null;function wa(){ka=ba=ga=null}function xa(e){var t=ya.current;Ei(ya),e._currentValue=t}function Sa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ia(e,t){ga=e,ka=ba=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ku=!0),e.firstContext=null)}function Ea(e){var t=e._currentValue;if(ka!==e)if(e={context:e,memoizedValue:t,next:null},null===ba){if(null===ga)throw Error(a(308));ba=e,ga.dependencies={lanes:0,firstContext:e}}else ba=ba.next=e;return t}var _a=null;function Ta(e){null===_a?_a=[e]:_a.push(e)}function Ca(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,Aa(e,r)}function Aa(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Na=!1;function Ra(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Oa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Da(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&As)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Aa(e,n)}return null===(i=r.interleaved)?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,Aa(e,n)}function Ma(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function La(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fa(e,t,n,r){var i=e.updateQueue;Na=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var d=u.lane,h=u.eventTime;if((r&d)===d){null!==l&&(l=l.next={eventTime:h,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(d=t,h=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(h,f,d);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=v.payload)?p.call(h,f,d):p)||void 0===d)break e;f=F({},f,d);break e;case 2:Na=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[u]:d.push(u))}else h={eventTime:h,lane:d,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=h,s=f):l=l.next=h,o|=d;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(d=u).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Fs|=o,e.lanes=o,e.memoizedState=f}}function Za(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var ja=(new r.Component).refs;function Va(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ua={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Oa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(rc(t,e,i,r),Ma(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Oa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(rc(t,e,i,r),Ma(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Oa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Da(e,i,r))&&(rc(t,e,r,n),Ma(t,e,r))}};function za(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function Ba(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Ea(a):(i=Pi(t)?Ni:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ri(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ua,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function qa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ua.enqueueReplaceState(t,t.state,null)}function Wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ja,Ra(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ea(a):(a=Pi(t)?Ni:Ci.current,i.context=Ri(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Va(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ua.enqueueReplaceState(i,i.state,null),Fa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ka(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===ja&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ga(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ha(e){return(0,e._init)(e._payload)}function Qa(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Dc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Zc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===S?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===P&&Ha(a)===t.type)?((r=i(t,n.props)).ref=Ka(e,t,n),r.return=e,r):((r=Mc(n.type,n.key,n.props,null,e.mode,r)).ref=Ka(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Zc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Mc(t.type,t.key,t.props,null,e.mode,n)).ref=Ka(e,null,t),n.return=e,n;case x:return(t=jc(t,e.mode,n)).return=e,t;case P:return d(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Lc(t,e.mode,n,null)).return=e,t;Ga(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case P:return h(e,t,(i=n._init)(n._payload),r)}if(te(n)||M(n))return null!==i?null:f(e,t,n,r,null);Ga(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||M(r))return f(t,e=e.get(n)||null,r,i,null);Ga(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=h(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),ia&&Yi(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=d(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Yi(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Yi(i,v),c}function m(i,u,s,c){var l=M(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var b=h(i,v,g.value,c);if(null===b){null===v&&(v=y);break}e&&v&&null===b.alternate&&t(i,v),u=o(b,u,m),null===f?l=b:f.sibling=b,f=b,v=y}if(g.done)return n(i,v),ia&&Yi(i,m),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=d(i,g.value,c))&&(u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return ia&&Yi(i,m),l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Yi(i,m),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===S&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===S){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&Ha(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ka(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===S?((a=Lc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Mc(o.type,o.key,o.props,null,r.mode,s)).ref=Ka(r,a,o),s.return=r,r=s)}return u(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=jc(o,r.mode,s)).return=r,r=a}return u(r);case P:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(M(o))return m(r,a,o,s);Ga(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Zc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var $a=Qa(!0),Xa=Qa(!1),Ya={},Ja=Ii(Ya),eo=Ii(Ya),to=Ii(Ya);function no(e){if(e===Ya)throw Error(a(174));return e}function ro(e,t){switch(_i(to,t),_i(eo,e),_i(Ja,Ya),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei(Ja),_i(Ja,t)}function io(){Ei(Ja),Ei(eo),Ei(to)}function ao(e){no(to.current);var t=no(Ja.current),n=se(t,e.type);t!==n&&(_i(eo,e),_i(Ja,n))}function oo(e){eo.current===e&&(Ei(Ja),Ei(eo))}var uo=Ii(0);function so(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=k.ReactCurrentDispatcher,ho=k.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,go=!1,bo=!1,ko=0,wo=0;function xo(){throw Error(a(321))}function So(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function Io(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?uu:su,e=n(r,i),bo){o=0;do{if(bo=!1,ko=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,fo.current=cu,e=n(r,i)}while(bo)}if(fo.current=ou,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,go=!1,t)throw Error(a(300));return e}function Eo(){var e=0!==ko;return ko=0,e}function _o(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function To(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function Co(e,t){return"function"===typeof t?t(e):t}function Ao(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var d={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=d,u=r):c=c.next=d,vo.lanes|=f,Fs|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ur(r,t.memoizedState)||(ku=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Fs|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function No(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(ku=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Ro(){}function Po(e,t){var n=vo,r=To(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,ku=!0),r=r.queue,qo(Mo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,jo(9,Do.bind(null,n,r,i,t),void 0,null),null===Ns)throw Error(a(349));0!==(30&po)||Oo(n,t,i)}return i}function Oo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Do(e,t,n,r){t.value=n,t.getSnapshot=r,Lo(t)&&Fo(e)}function Mo(e,t,n){return n((function(){Lo(t)&&Fo(e)}))}function Lo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Fo(e){var t=Aa(e,1);null!==t&&rc(t,e,1,-1)}function Zo(e){var t=_o();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=nu.bind(null,vo,e),[t.memoizedState,e]}function jo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Vo(){return To().memoizedState}function Uo(e,t,n,r){var i=_o();vo.flags|=e,i.memoizedState=jo(1|t,n,void 0,void 0===r?null:r)}function zo(e,t,n,r){var i=To();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&So(r,o.deps))return void(i.memoizedState=jo(t,n,a,r))}vo.flags|=e,i.memoizedState=jo(1|t,n,a,r)}function Bo(e,t){return Uo(8390656,8,e,t)}function qo(e,t){return zo(2048,8,e,t)}function Wo(e,t){return zo(4,2,e,t)}function Ko(e,t){return zo(4,4,e,t)}function Go(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ho(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4,4,Go.bind(null,t,e),n)}function Qo(){}function $o(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&So(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&So(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Yo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,ku=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),vo.lanes|=n,Fs|=n,e.baseState=!0),t)}function Jo(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{bt=n,ho.transition=r}}function eu(){return To().memoizedState}function tu(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ru(e))iu(t,n);else if(null!==(n=Ca(e,t,n,r))){rc(n,e,r,tc()),au(n,t,r)}}function nu(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ru(e))iu(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o)){var s=t.interleaved;return null===s?(i.next=i,Ta(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ca(e,t,i,r))&&(rc(n,e,r,i=tc()),au(n,t,r))}}function ru(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function iu(e,t){bo=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function au(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var ou={readContext:Ea,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useInsertionEffect:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useSyncExternalStore:xo,useId:xo,unstable_isNewReconciler:!1},uu={readContext:Ea,useCallback:function(e,t){return _o().memoizedState=[e,void 0===t?null:t],e},useContext:Ea,useEffect:Bo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Uo(4194308,4,Go.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Uo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Uo(4,2,e,t)},useMemo:function(e,t){var n=_o();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=_o();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tu.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},_o().memoizedState=e},useState:Zo,useDebugValue:Qo,useDeferredValue:function(e){return _o().memoizedState=e},useTransition:function(){var e=Zo(!1),t=e[0];return e=Jo.bind(null,e[1]),_o().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=_o();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Ns)throw Error(a(349));0!==(30&po)||Oo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Bo(Mo.bind(null,r,o,e),[e]),r.flags|=2048,jo(9,Do.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=_o(),t=Ns.identifierPrefix;if(ia){var n=Xi;t=":"+t+"R"+(n=($i&~(1<<32-ot($i)-1)).toString(32)+n),0<(n=ko++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},su={readContext:Ea,useCallback:$o,useContext:Ea,useEffect:qo,useImperativeHandle:Ho,useInsertionEffect:Wo,useLayoutEffect:Ko,useMemo:Xo,useReducer:Ao,useRef:Vo,useState:function(){return Ao(Co)},useDebugValue:Qo,useDeferredValue:function(e){return Yo(To(),mo.memoizedState,e)},useTransition:function(){return[Ao(Co)[0],To().memoizedState]},useMutableSource:Ro,useSyncExternalStore:Po,useId:eu,unstable_isNewReconciler:!1},cu={readContext:Ea,useCallback:$o,useContext:Ea,useEffect:qo,useImperativeHandle:Ho,useInsertionEffect:Wo,useLayoutEffect:Ko,useMemo:Xo,useReducer:No,useRef:Vo,useState:function(){return No(Co)},useDebugValue:Qo,useDeferredValue:function(e){var t=To();return null===mo?t.memoizedState=e:Yo(t,mo.memoizedState,e)},useTransition:function(){return[No(Co)[0],To().memoizedState]},useMutableSource:Ro,useSyncExternalStore:Po,useId:eu,unstable_isNewReconciler:!1};function lu(e,t){try{var n="",r=t;do{n+=U(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function du(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var hu="function"===typeof WeakMap?WeakMap:Map;function pu(e,t,n){(n=Oa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ws||(Ws=!0,Ks=r),du(0,t)},n}function vu(e,t,n){(n=Oa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){du(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){du(0,t),"function"!==typeof r&&(null===Gs?Gs=new Set([this]):Gs.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hu;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=_c.bind(null,e,t,n),t.then(e,e))}function yu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Oa(-1,1)).tag=2,Da(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bu=k.ReactCurrentOwner,ku=!1;function wu(e,t,n,r){t.child=null===e?Xa(t,null,n,r):$a(t,e.child,n,r)}function xu(e,t,n,r,i){n=n.render;var a=t.ref;return Ia(t,i),r=Io(e,t,n,r,a,i),n=Eo(),null===e||ku?(ia&&n&&ea(t),t.flags|=1,wu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wu(e,t,i))}function Su(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Oc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Mc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Iu(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return Wu(e,t,i)}return t.flags|=1,(e=Dc(a,r)).ref=t.ref,e.return=t,t.child=e}function Iu(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(ku=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Wu(e,t,i);0!==(131072&e.flags)&&(ku=!0)}}return Tu(e,t,n,r,i)}function Eu(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_i(Ds,Os),Os|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_i(Ds,Os),Os|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,_i(Ds,Os),Os|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,_i(Ds,Os),Os|=r;return wu(e,t,i,n),t.child}function _u(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Tu(e,t,n,r,i){var a=Pi(n)?Ni:Ci.current;return a=Ri(t,a),Ia(t,i),n=Io(e,t,n,r,a,i),r=Eo(),null===e||ku?(ia&&r&&ea(t),t.flags|=1,wu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wu(e,t,i))}function Cu(e,t,n,r,i){if(Pi(n)){var a=!0;Li(t)}else a=!1;if(Ia(t,i),null===t.stateNode)qu(e,t),Ba(t,n,r),Wa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ea(c):c=Ri(t,c=Pi(n)?Ni:Ci.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&qa(t,o,r,c),Na=!1;var d=t.memoizedState;o.state=d,Fa(t,r,o,i),s=t.memoizedState,u!==r||d!==s||Ai.current||Na?("function"===typeof l&&(Va(t,n,l,r),s=t.memoizedState),(u=Na||za(t,n,u,r,d,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Pa(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:ma(t.type,u),o.props=c,f=t.pendingProps,d=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Ea(s):s=Ri(t,s=Pi(n)?Ni:Ci.current);var h=n.getDerivedStateFromProps;(l="function"===typeof h||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||d!==s)&&qa(t,o,r,s),Na=!1,d=t.memoizedState,o.state=d,Fa(t,r,o,i);var p=t.memoizedState;u!==f||d!==p||Ai.current||Na?("function"===typeof h&&(Va(t,n,h,r),p=t.memoizedState),(c=Na||za(t,n,c,r,d,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Au(e,t,n,r,a,i)}function Au(e,t,n,r,i,a){_u(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Wu(e,t,a);r=t.stateNode,bu.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=$a(t,e.child,null,a),t.child=$a(t,null,u,a)):wu(e,t,u,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Nu(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),ro(e,t.containerInfo)}function Ru(e,t,n,r,i){return ha(),pa(i),t.flags|=256,wu(e,t,n,r),t.child}var Pu,Ou,Du,Mu,Lu={dehydrated:null,treeContext:null,retryLane:0};function Fu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Zu(e,t,n){var r,i=t.pendingProps,o=uo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),_i(uo,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,u?(i=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=Fc(s,i,0,null),e=Lc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Fu(n),t.memoizedState=Lu,e):ju(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,u){if(n)return 256&t.flags?(t.flags&=-257,Vu(e,t,u,r=fu(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Fc({mode:"visible",children:r.children},i,0,null),(o=Lc(o,i,u,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&$a(t,e.child,null,u),t.child.memoizedState=Fu(u),t.memoizedState=Lu,o);if(0===(1&t.mode))return Vu(e,t,u,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,Vu(e,t,u,r=fu(o=Error(a(419)),r,void 0))}if(s=0!==(u&e.childLanes),ku||s){if(null!==(r=Ns)){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|u))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Aa(e,i),rc(r,e,i,-1))}return mc(),Vu(e,t,u,r=fu(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Gi[Hi++]=$i,Gi[Hi++]=Xi,Gi[Hi++]=Qi,$i=e.id,Xi=e.overflow,Qi=t),t=ju(t,r.children),t.flags|=4096,t)}(e,t,s,i,r,o,n);if(u){u=i.fallback,s=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Dc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?u=Dc(r,u):(u=Lc(u,s,n,null)).flags|=2,u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,s=null===(s=e.child.memoizedState)?Fu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Lu,i}return e=(u=e.child).sibling,i=Dc(u,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function ju(e,t){return(t=Fc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Vu(e,t,n,r){return null!==r&&pa(r),$a(t,e.child,null,n),(e=ju(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Uu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Sa(e.return,t,n)}function zu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Bu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(wu(e,t,r.children,n),0!==(2&(r=uo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Uu(e,n,t);else if(19===e.tag)Uu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(_i(uo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===so(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===so(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zu(t,!0,n,null,a);break;case"together":zu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qu(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fs|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Dc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ku(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Hu(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gu(t),null;case 1:case 17:return Pi(t.type)&&Oi(),Gu(t),null;case 3:return r=t.stateNode,io(),Ei(Ai),Ei(Ci),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(uc(aa),aa=null))),Ou(e,t),Gu(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Du(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Gu(t),null}if(e=no(Ja.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[di]=t,r[hi]=o,e=0!==(1&t.mode),n){case"dialog":jr("cancel",r),jr("close",r);break;case"iframe":case"object":case"embed":jr("load",r);break;case"video":case"audio":for(i=0;i<Mr.length;i++)jr(Mr[i],r);break;case"source":jr("error",r);break;case"img":case"image":case"link":jr("error",r),jr("load",r);break;case"details":jr("toggle",r);break;case"input":$(r,o),jr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},jr("invalid",r);break;case"textarea":ie(r,o),jr("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Yr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Yr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&jr("scroll",r)}switch(n){case"input":K(r),J(r,o,!0);break;case"textarea":K(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Jr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[di]=t,e[hi]=r,Pu(e,t,!1,!1),t.stateNode=e;e:{switch(s=be(n,r),n){case"dialog":jr("cancel",e),jr("close",e),i=r;break;case"iframe":case"object":case"embed":jr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Mr.length;i++)jr(Mr[i],e);i=r;break;case"source":jr("error",e),i=r;break;case"img":case"image":case"link":jr("error",e),jr("load",e),i=r;break;case"details":jr("toggle",e),i=r;break;case"input":$(e,r),i=Q(e,r),jr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),jr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),jr("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&de(e,l):"number"===typeof l&&de(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&jr("scroll",e):null!=l&&b(e,o,l,s))}switch(n){case"input":K(e),J(e,r,!1);break;case"textarea":K(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gu(t),null;case 6:if(e&&null!=t.stateNode)Mu(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Ja.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Yr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Yr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Gu(t),null;case 13:if(Ei(uo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))da(),ha(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[di]=t}else ha(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gu(t),o=!1}else null!==aa&&(uc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&uo.current)?0===Ms&&(Ms=3):mc())),null!==t.updateQueue&&(t.flags|=4),Gu(t),null);case 4:return io(),Ou(e,t),null===e&&zr(t.stateNode.containerInfo),Gu(t),null;case 10:return xa(t.type._context),Gu(t),null;case 19:if(Ei(uo),null===(o=t.memoizedState))return Gu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)Ku(o,!1);else{if(0!==Ms||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=so(e))){for(t.flags|=128,Ku(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return _i(uo,1&uo.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>Bs&&(t.flags|=128,r=!0,Ku(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=so(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ku(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!ia)return Gu(t),null}else 2*Xe()-o.renderingStartTime>Bs&&1073741824!==n&&(t.flags|=128,r=!0,Ku(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=uo.current,_i(uo,r?1&n|2:1&n),t):(Gu(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Os)&&(Gu(t),6&t.subtreeFlags&&(t.flags|=8192)):Gu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Qu(e,t){switch(ta(t),t.tag){case 1:return Pi(t.type)&&Oi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ei(Ai),Ei(Ci),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ei(uo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));ha()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(uo),null;case 4:return io(),null;case 10:return xa(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Pu=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ou=function(){},Du=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Ja.current);var a,o=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Jr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&jr("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Mu=function(e,t,n,r){n!==r&&(t.flags|=4)};var $u=!1,Xu=!1,Yu="function"===typeof WeakSet?WeakSet:Set,Ju=null;function es(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ec(e,t,r)}else n.current=null}function ts(e,t,n){try{n()}catch(r){Ec(e,t,r)}}var ns=!1;function rs(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&ts(t,n,a)}i=i.next}while(i!==r)}}function is(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function as(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function os(e){var t=e.alternate;null!==t&&(e.alternate=null,os(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[hi],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function us(e){return 5===e.tag||3===e.tag||4===e.tag}function ss(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||us(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}function ls(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ls(e,t,n),e=e.sibling;null!==e;)ls(e,t,n),e=e.sibling}var fs=null,ds=!1;function hs(e,t,n){for(n=n.child;null!==n;)ps(e,t,n),n=n.sibling}function ps(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:Xu||es(n,t);case 6:var r=fs,i=ds;fs=null,hs(e,t,n),ds=i,null!==(fs=r)&&(ds?(e=fs,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):fs.removeChild(n.stateNode));break;case 18:null!==fs&&(ds?(e=fs,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),zt(e)):si(fs,n.stateNode));break;case 4:r=fs,i=ds,fs=n.stateNode.containerInfo,ds=!0,hs(e,t,n),fs=r,ds=i;break;case 0:case 11:case 14:case 15:if(!Xu&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&ts(n,t,o),i=i.next}while(i!==r)}hs(e,t,n);break;case 1:if(!Xu&&(es(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Ec(n,t,u)}hs(e,t,n);break;case 21:hs(e,t,n);break;case 22:1&n.mode?(Xu=(r=Xu)||null!==n.memoizedState,hs(e,t,n),Xu=r):hs(e,t,n);break;default:hs(e,t,n)}}function vs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Yu),t.forEach((function(t){var r=Ac.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ms(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:fs=s.stateNode,ds=!1;break e;case 3:case 4:fs=s.stateNode.containerInfo,ds=!0;break e}s=s.return}if(null===fs)throw Error(a(160));ps(o,u,i),fs=null,ds=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Ec(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ys(t,e),t=t.sibling}function ys(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ms(t,e),gs(e),4&r){try{rs(3,e,e.return),is(3,e)}catch(m){Ec(e,e.return,m)}try{rs(5,e,e.return)}catch(m){Ec(e,e.return,m)}}break;case 1:ms(t,e),gs(e),512&r&&null!==n&&es(n,n.return);break;case 5:if(ms(t,e),gs(e),512&r&&null!==n&&es(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(m){Ec(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===o.type&&null!=o.name&&X(i,o),be(s,u);var l=be(s,o);for(u=0;u<c.length;u+=2){var f=c[u],d=c[u+1];"style"===f?me(i,d):"dangerouslySetInnerHTML"===f?fe(i,d):"children"===f?de(i,d):b(i,f,d,l)}switch(s){case"input":Y(i,o);break;case"textarea":ae(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):h!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[hi]=o}catch(m){Ec(e,e.return,m)}}break;case 6:if(ms(t,e),gs(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Ec(e,e.return,m)}}break;case 3:if(ms(t,e),gs(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(m){Ec(e,e.return,m)}break;case 4:default:ms(t,e),gs(e);break;case 13:ms(t,e),gs(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(zs=Xe())),4&r&&vs(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Xu=(l=Xu)||f,ms(t,e),Xu=l):ms(t,e),gs(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Ju=e,f=e.child;null!==f;){for(d=Ju=f;null!==Ju;){switch(p=(h=Ju).child,h.tag){case 0:case 11:case 14:case 15:rs(4,h,h.return);break;case 1:es(h,h.return);var v=h.stateNode;if("function"===typeof v.componentWillUnmount){r=h,n=h.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Ec(r,n,m)}}break;case 5:es(h,h.return);break;case 22:if(null!==h.memoizedState){xs(d);continue}}null!==p?(p.return=h,Ju=p):xs(d)}f=f.sibling}e:for(f=null,d=e;;){if(5===d.tag){if(null===f){f=d;try{i=d.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=d.stateNode,u=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=ve("display",u))}catch(m){Ec(e,e.return,m)}}}else if(6===d.tag){if(null===f)try{d.stateNode.nodeValue=l?"":d.memoizedProps}catch(m){Ec(e,e.return,m)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ms(t,e),gs(e),4&r&&vs(e);case 21:}}function gs(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(us(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),ls(e,ss(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;cs(e,ss(e),o);break;default:throw Error(a(161))}}catch(u){Ec(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bs(e,t,n){Ju=e,ks(e,t,n)}function ks(e,t,n){for(var r=0!==(1&e.mode);null!==Ju;){var i=Ju,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||$u;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||Xu;u=$u;var c=Xu;if($u=o,(Xu=s)&&!c)for(Ju=i;null!==Ju;)s=(o=Ju).child,22===o.tag&&null!==o.memoizedState?Ss(i):null!==s?(s.return=o,Ju=s):Ss(i);for(;null!==a;)Ju=a,ks(a,t,n),a=a.sibling;Ju=i,$u=u,Xu=c}ws(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Ju=a):ws(e)}}function ws(e){for(;null!==Ju;){var t=Ju;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xu||is(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Za(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Za(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var d=f.dehydrated;null!==d&&zt(d)}}}break;default:throw Error(a(163))}Xu||512&t.flags&&as(t)}catch(h){Ec(t,t.return,h)}}if(t===e){Ju=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ju=n;break}Ju=t.return}}function xs(e){for(;null!==Ju;){var t=Ju;if(t===e){Ju=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ju=n;break}Ju=t.return}}function Ss(e){for(;null!==Ju;){var t=Ju;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{is(4,t)}catch(s){Ec(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){Ec(t,i,s)}}var a=t.return;try{as(t)}catch(s){Ec(t,a,s)}break;case 5:var o=t.return;try{as(t)}catch(s){Ec(t,o,s)}}}catch(s){Ec(t,t.return,s)}if(t===e){Ju=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Ju=u;break}Ju=t.return}}var Is,Es=Math.ceil,_s=k.ReactCurrentDispatcher,Ts=k.ReactCurrentOwner,Cs=k.ReactCurrentBatchConfig,As=0,Ns=null,Rs=null,Ps=0,Os=0,Ds=Ii(0),Ms=0,Ls=null,Fs=0,Zs=0,js=0,Vs=null,Us=null,zs=0,Bs=1/0,qs=null,Ws=!1,Ks=null,Gs=null,Hs=!1,Qs=null,$s=0,Xs=0,Ys=null,Js=-1,ec=0;function tc(){return 0!==(6&As)?Xe():-1!==Js?Js:Js=Xe()}function nc(e){return 0===(1&e.mode)?1:0!==(2&As)&&0!==Ps?Ps&-Ps:null!==va.transition?(0===ec&&(ec=vt()),ec):0!==(e=bt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function rc(e,t,n,r){if(50<Xs)throw Xs=0,Ys=null,Error(a(185));yt(e,n,r),0!==(2&As)&&e===Ns||(e===Ns&&(0===(2&As)&&(Zs|=n),4===Ms&&sc(e,Ps)),ic(e,r),1===n&&0===As&&0===(1&t.mode)&&(Bs=Xe()+500,ji&&zi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=ht(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=dt(e,e===Ns?Ps:0);if(0===r)null!==n&&He(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&He(n),1===t)0===e.tag?function(e){ji=!0,Ui(e)}(cc.bind(null,e)):Ui(cc.bind(null,e)),oi((function(){0===(6&As)&&zi()})),n=null;else{switch(kt(r)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nc(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if(Js=-1,ec=0,0!==(6&As))throw Error(a(327));var n=e.callbackNode;if(Sc()&&e.callbackNode!==n)return null;var r=dt(e,e===Ns?Ps:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yc(e,r);else{t=r;var i=As;As|=2;var o=vc();for(Ns===e&&Ps===t||(qs=null,Bs=Xe()+500,hc(e,t));;)try{bc();break}catch(s){pc(e,s)}wa(),_s.current=o,As=i,null!==Rs?t=0:(Ns=null,Ps=0,t=Ms)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Ls,hc(e,0),sc(e,r),ic(e,Xe()),n;if(6===t)sc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yc(e,r))&&(0!==(o=pt(e))&&(r=o,t=oc(e,o))),1===t))throw n=Ls,hc(e,0),sc(e,r),ic(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:xc(e,Us,qs);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=zs+500-Xe())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(xc.bind(null,e,Us,qs),t);break}xc(e,Us,qs);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Es(r/1960))-r)){e.timeoutHandle=ri(xc.bind(null,e,Us,qs),r);break}xc(e,Us,qs);break;default:throw Error(a(329))}}}return ic(e,Xe()),e.callbackNode===n?ac.bind(null,e):null}function oc(e,t){var n=Vs;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=Us,Us=n,null!==t&&uc(t)),e}function uc(e){null===Us?Us=e:Us.push.apply(Us,e)}function sc(e,t){for(t&=~js,t&=~Zs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&As))throw Error(a(327));Sc();var t=dt(e,0);if(0===(1&t))return ic(e,Xe()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Ls,hc(e,0),sc(e,t),ic(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,Us,qs),ic(e,Xe()),null}function lc(e,t){var n=As;As|=1;try{return e(t)}finally{0===(As=n)&&(Bs=Xe()+500,ji&&zi())}}function fc(e){null!==Qs&&0===Qs.tag&&0===(6&As)&&Sc();var t=As;As|=1;var n=Cs.transition,r=bt;try{if(Cs.transition=null,bt=1,e)return e()}finally{bt=r,Cs.transition=n,0===(6&(As=t))&&zi()}}function dc(){Os=Ds.current,Ei(Ds)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Rs)for(n=Rs.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oi();break;case 3:io(),Ei(Ai),Ei(Ci),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ei(uo);break;case 10:xa(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Ns=e,Rs=e=Dc(e.current,null),Ps=Os=t,Ms=0,Ls=null,js=Zs=Fs=0,Us=Vs=null,null!==_a){for(t=0;t<_a.length;t++)if(null!==(r=(n=_a[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}_a=null}return e}function pc(e,t){for(;;){var n=Rs;try{if(wa(),fo.current=ou,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,yo=mo=vo=null,bo=!1,ko=0,Ts.current=null,null===n||null===n.return){Ms=1,Ls=t,Rs=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=Ps,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,d=f.tag;if(0===(1&f.mode)&&(0===d||11===d||15===d)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=yu(u);if(null!==p){p.flags&=-257,gu(p,u,s,0,t),1&p.mode&&mu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){mu(o,l,t),mc();break e}c=Error(a(426))}else if(ia&&1&s.mode){var y=yu(u);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gu(y,u,s,0,t),pa(lu(c,s));break e}}o=c=lu(c,s),4!==Ms&&(Ms=2),null===Vs?Vs=[o]:Vs.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,La(o,pu(0,c,t));break e;case 1:s=c;var g=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Gs||!Gs.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,La(o,vu(o,s,t));break e}}o=o.return}while(null!==o)}wc(n)}catch(k){t=k,Rs===n&&null!==n&&(Rs=n=n.return);continue}break}}function vc(){var e=_s.current;return _s.current=ou,null===e?ou:e}function mc(){0!==Ms&&3!==Ms&&2!==Ms||(Ms=4),null===Ns||0===(268435455&Fs)&&0===(268435455&Zs)||sc(Ns,Ps)}function yc(e,t){var n=As;As|=2;var r=vc();for(Ns===e&&Ps===t||(qs=null,hc(e,t));;)try{gc();break}catch(i){pc(e,i)}if(wa(),As=n,_s.current=r,null!==Rs)throw Error(a(261));return Ns=null,Ps=0,Ms}function gc(){for(;null!==Rs;)kc(Rs)}function bc(){for(;null!==Rs&&!Qe();)kc(Rs)}function kc(e){var t=Is(e.alternate,e,Os);e.memoizedProps=e.pendingProps,null===t?wc(e):Rs=t,Ts.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Hu(n,t,Os)))return void(Rs=n)}else{if(null!==(n=Qu(n,t)))return n.flags&=32767,void(Rs=n);if(null===e)return Ms=6,void(Rs=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Rs=t);Rs=t=e}while(null!==t);0===Ms&&(Ms=5)}function xc(e,t,n){var r=bt,i=Cs.transition;try{Cs.transition=null,bt=1,function(e,t,n,r){do{Sc()}while(null!==Qs);if(0!==(6&As))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Ns&&(Rs=Ns=null,Ps=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Hs||(Hs=!0,Nc(tt,(function(){return Sc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Cs.transition,Cs.transition=null;var u=bt;bt=1;var s=As;As|=4,Ts.current=null,function(e,t){if(ei=qt,hr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,d=e,h=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(s=u+i),d!==o||0!==r&&3!==d.nodeType||(c=u+r),3===d.nodeType&&(u+=d.nodeValue.length),null!==(p=d.firstChild);)h=d,d=p;for(;;){if(d===e)break t;if(h===n&&++l===i&&(s=u),h===o&&++f===r&&(c=u),null!==(p=d.nextSibling))break;h=(d=h).parentNode}d=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},qt=!1,Ju=t;null!==Ju;)if(e=(t=Ju).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ju=e;else for(;null!==Ju;){t=Ju;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,b=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var k=t.stateNode.containerInfo;1===k.nodeType?k.textContent="":9===k.nodeType&&k.documentElement&&k.removeChild(k.documentElement);break;default:throw Error(a(163))}}catch(w){Ec(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Ju=e;break}Ju=t.return}v=ns,ns=!1}(e,n),ys(n,e),pr(ti),qt=!!ei,ti=ei=null,e.current=n,bs(n,e,i),$e(),As=s,bt=u,Cs.transition=o}else e.current=n;if(Hs&&(Hs=!1,Qs=e,$s=i),o=e.pendingLanes,0===o&&(Gs=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ws)throw Ws=!1,e=Ks,Ks=null,e;0!==(1&$s)&&0!==e.tag&&Sc(),o=e.pendingLanes,0!==(1&o)?e===Ys?Xs++:(Xs=0,Ys=e):Xs=0,zi()}(e,t,n,r)}finally{Cs.transition=i,bt=r}return null}function Sc(){if(null!==Qs){var e=kt($s),t=Cs.transition,n=bt;try{if(Cs.transition=null,bt=16>e?16:e,null===Qs)var r=!1;else{if(e=Qs,Qs=null,$s=0,0!==(6&As))throw Error(a(331));var i=As;for(As|=4,Ju=e.current;null!==Ju;){var o=Ju,u=o.child;if(0!==(16&Ju.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Ju=l;null!==Ju;){var f=Ju;switch(f.tag){case 0:case 11:case 15:rs(8,f,o)}var d=f.child;if(null!==d)d.return=f,Ju=d;else for(;null!==Ju;){var h=(f=Ju).sibling,p=f.return;if(os(f),f===l){Ju=null;break}if(null!==h){h.return=p,Ju=h;break}Ju=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Ju=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Ju=u;else e:for(;null!==Ju;){if(0!==(2048&(o=Ju).flags))switch(o.tag){case 0:case 11:case 15:rs(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Ju=g;break e}Ju=o.return}}var b=e.current;for(Ju=b;null!==Ju;){var k=(u=Ju).child;if(0!==(2064&u.subtreeFlags)&&null!==k)k.return=u,Ju=k;else e:for(u=b;null!==Ju;){if(0!==(2048&(s=Ju).flags))try{switch(s.tag){case 0:case 11:case 15:is(9,s)}}catch(x){Ec(s,s.return,x)}if(s===u){Ju=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Ju=w;break e}Ju=s.return}}if(As=i,zi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{bt=n,Cs.transition=t}}return!1}function Ic(e,t,n){e=Da(e,t=pu(0,t=lu(n,t),1),1),t=tc(),null!==e&&(yt(e,1,t),ic(e,t))}function Ec(e,t,n){if(3===e.tag)Ic(e,e,n);else for(;null!==t;){if(3===t.tag){Ic(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gs||!Gs.has(r))){t=Da(t,e=vu(t,e=lu(n,e),1),1),e=tc(),null!==t&&(yt(t,1,e),ic(t,e));break}}t=t.return}}function _c(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Ns===e&&(Ps&n)===n&&(4===Ms||3===Ms&&(130023424&Ps)===Ps&&500>Xe()-zs?hc(e,0):js|=n),ic(e,t)}function Tc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=tc();null!==(e=Aa(e,t))&&(yt(e,t,n),ic(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tc(e,n)}function Ac(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Tc(e,n)}function Nc(e,t){return Ge(e,t)}function Rc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pc(e,t,n,r){return new Rc(e,t,n,r)}function Oc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dc(e,t){var n=e.alternate;return null===n?((n=Pc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Mc(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Oc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case S:return Lc(n.children,i,o,t);case I:u=8,i|=8;break;case E:return(e=Pc(12,n,t,2|i)).elementType=E,e.lanes=o,e;case A:return(e=Pc(13,n,t,i)).elementType=A,e.lanes=o,e;case N:return(e=Pc(19,n,t,i)).elementType=N,e.lanes=o,e;case O:return Fc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case _:u=10;break e;case T:u=9;break e;case C:u=11;break e;case R:u=14;break e;case P:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Pc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Lc(e,t,n,r){return(e=Pc(7,e,r,t)).lanes=n,e}function Fc(e,t,n,r){return(e=Pc(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function Zc(e,t,n){return(e=Pc(6,e,null,t)).lanes=n,e}function jc(e,t,n){return(t=Pc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Uc(e,t,n,r,i,a,o,u,s){return e=new Vc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Pc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ra(a),e}function zc(e){if(!e)return Ti;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Mi(e,n,t)}return t}function Bc(e,t,n,r,i,a,o,u,s){return(e=Uc(n,r,!0,e,0,a,0,u,s)).context=zc(null),n=e.current,(a=Oa(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Da(n,a,i),e.current.lanes=i,yt(e,i,r),ic(e,r),e}function qc(e,t,n,r){var i=t.current,a=tc(),o=nc(i);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Oa(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Da(i,t,o))&&(rc(e,i,o,a),Ma(e,i,o)),o}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Kc(e,t),(e=e.alternate)&&Kc(e,t)}Is=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ai.current)ku=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ku=!1,function(e,t,n){switch(t.tag){case 3:Nu(t),ha();break;case 5:ao(t);break;case 1:Pi(t.type)&&Li(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;_i(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(_i(uo,1&uo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Zu(e,t,n):(_i(uo,1&uo.current),null!==(e=Wu(e,t,n))?e.sibling:null);_i(uo,1&uo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Bu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),_i(uo,uo.current),r)break;return null;case 22:case 23:return t.lanes=0,Eu(e,t,n)}return Wu(e,t,n)}(e,t,n);ku=0!==(131072&e.flags)}else ku=!1,ia&&0!==(1048576&t.flags)&&Ji(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qu(e,t),e=t.pendingProps;var i=Ri(t,Ci.current);Ia(t,n),i=Io(null,t,r,e,i,n);var o=Eo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(o=!0,Li(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ra(t),i.updater=Ua,t.stateNode=i,i._reactInternals=t,Wa(t,r,e,n),t=Au(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),wu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qu(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Oc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===R)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Tu(null,t,r,e,n);break e;case 1:t=Cu(null,t,r,e,n);break e;case 11:t=xu(null,t,r,e,n);break e;case 14:t=Su(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Tu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Nu(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Pa(e,t),Fa(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ru(e,t,r,n,i=lu(Error(a(423)),t));break e}if(r!==i){t=Ru(e,t,r,n,i=lu(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Xa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ha(),r===i){t=Wu(e,t,n);break e}wu(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),_u(e,t),wu(e,t,u,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Zu(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=$a(t,null,r,n):wu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return wu(e,t,t.pendingProps,n),t.child;case 8:case 12:return wu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,_i(ya,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!Ai.current){t=Wu(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Oa(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Sa(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),Sa(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}wu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ia(t,n),r=r(i=Ea(i)),t.flags|=1,wu(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),Su(e,t,r,i=ma(r.type,i),n);case 15:return Iu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),qu(e,t),t.tag=1,Pi(r)?(e=!0,Li(t)):e=!1,Ia(t,n),Ba(t,r,i),Wa(t,r,i,n),Au(null,t,r,!0,e,n);case 19:return Bu(e,t,n);case 22:return Eu(e,t,n)}throw Error(a(156,t.tag))};var Hc="function"===typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function $c(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Wc(o);u.call(e)}}qc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Wc(o);a.call(e)}}var o=Bc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=o,e[pi]=o.current,zr(8===e.nodeType?e.parentNode:e),fc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Wc(s);u.call(e)}}var s=Uc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=s,e[pi]=s.current,zr(8===e.nodeType?e.parentNode:e),fc((function(){qc(t,s,n,r)})),s}(n,t,e,i,r);return Wc(o)}$c.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));qc(e,t,null,null)},$c.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;fc((function(){qc(null,e,null,null)})),t[pi]=null}},$c.prototype.unstable_scheduleHydration=function(e){if(e){var t=It();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),ic(t,Xe()),0===(6&As)&&(Bs=Xe()+500,zi()))}break;case 13:fc((function(){var t=Aa(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Gc(e,1)}},xt=function(e){if(13===e.tag){var t=Aa(e,134217728);if(null!==t)rc(t,e,134217728,tc());Gc(e,134217728)}},St=function(e){if(13===e.tag){var t=nc(e),n=Aa(e,t);if(null!==n)rc(n,e,t,tc());Gc(e,t)}},It=function(){return bt},Et=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},xe=function(e,t,n){switch(t){case"input":if(Y(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));G(r),Y(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=lc,Ae=fc;var tl={usingClientEntryPoint:!1,Events:[bi,ki,wi,_e,Te,lc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(a(299));var n=!1,r="",i=Hc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Uc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return fc(e)},t.hydrate=function(e,t,n){if(!Yc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Hc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=Bc(t,null,e,1,null!=n?n:null,i,0,o,u),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $c(t)},t.render=function(e,t,n){if(!Yc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Yc(e))throw Error(a(40));return!!e._reactRootContainer&&(fc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Yc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},1739:function(e,t,n){"use strict";var r=n(1168);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},1168:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(534)},5918:function(e,t,n){"use strict";var r=n(7313),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},306:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var k=b.prototype=new g;k.constructor=b,v(k,y.prototype),k.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,S={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!I.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:S.current}}function _(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+C(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),A(o,t,i,"",(function(e){return e}))):null!=o&&(_(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(u=e[c],c);s+=A(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=A(u=u.value,t,i,l=a+C(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function N(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},O={transition:null},D={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:O,ReactCurrentOwner:S};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=S.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)x.call(t,c)&&!I.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.2.0"},7313:function(e,t,n){"use strict";e.exports=n(306)},6417:function(e,t,n){"use strict";e.exports=n(5918)},3095:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,d=null,h=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function k(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,k(e),!v)if(null!==r(c))v=!0,O(x);else{var t=r(l);null!==t&&D(w,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,g(_),_=-1),p=!0;var a=h;try{for(k(n),d=r(c);null!==d&&(!(d.expirationTime>n)||e&&!A());){var o=d.callback;if("function"===typeof o){d.callback=null,h=d.priorityLevel;var u=o(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?d.callback=u:d===r(c)&&i(c),k(n)}else i(c);d=r(c)}if(null!==d)var s=!0;else{var f=r(l);null!==f&&D(w,f.startTime-n),s=!1}return s}finally{d=null,h=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,I=!1,E=null,_=-1,T=5,C=-1;function A(){return!(t.unstable_now()-C<T)}function N(){if(null!==E){var e=t.unstable_now();C=e;var n=!0;try{n=E(!0,e)}finally{n?S():(I=!1,E=null)}}else I=!1}if("function"===typeof b)S=function(){b(N)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,P=R.port2;R.port1.onmessage=N,S=function(){P.postMessage(null)}}else S=function(){y(N,0)};function O(e){E=e,I||(I=!0,S())}function D(e,n){_=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,O(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(_),_=-1):m=!0,D(w,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,O(x))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},2224:function(e,t,n){"use strict";e.exports=n(3095)},4836:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},907:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},3878:function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,{Z:function(){return r}})},4942:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(9142);function i(e,t,n){return(t=(0,r.Z)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},7462:function(e,t,n){"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,{Z:function(){return r}})},9199:function(e,t,n){"use strict";function r(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,{Z:function(){return r}})},5267:function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,{Z:function(){return r}})},3366:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,{Z:function(){return r}})},9439:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(3878);var i=n(181),a=n(5267);function o(e,t){return(0,r.Z)(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,u=[],s=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(u.push(r.value),u.length!==t);s=!0);}catch(l){c=!0,i=l}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return u}}(e,t)||(0,i.Z)(e,t)||(0,a.Z)()}},3433:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(907);var i=n(9199),a=n(181);function o(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||(0,i.Z)(e)||(0,a.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},9142:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(1002);function i(e){var t=function(e,t){if("object"!==(0,r.Z)(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==(0,r.Z)(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===(0,r.Z)(t)?t:String(t)}},1002:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{Z:function(){return r}})},181:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(907);function i(e,t){if(e){if("string"===typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}!function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var u=2&i&&r;"object"==typeof u&&!~e.indexOf(u);u=t(u))Object.getOwnPropertyNames(u).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return oo},SDK_VERSION:function(){return bu},_DEFAULT_ENTRY_NAME:function(){return ou},_addComponent:function(){return lu},_addOrOverwriteComponent:function(){return fu},_apps:function(){return su},_clearComponents:function(){return vu},_components:function(){return cu},_getProvider:function(){return hu},_registerComponent:function(){return du},_removeServiceInstance:function(){return pu},deleteApp:function(){return Su},getApp:function(){return wu},getApps:function(){return xu},initializeApp:function(){return ku},onLog:function(){return _u},registerVersion:function(){return Eu},setLogLevel:function(){return Tu}});var t=n(7313),r=n.t(t,2),i=n(1739);n.p;var a=n(7462),o=n(5693),u=n(201),s="function"===typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__",c=n(6417);var l=function(e){var n=e.children,r=e.theme,i=(0,u.Z)(),l=t.useMemo((function(){var e=null===i?r:function(e,t){return"function"===typeof t?t(e):(0,a.Z)({},e,t)}(i,r);return null!=e&&(e[s]=null!==i),e}),[r,i]);return(0,c.jsx)(o.Z.Provider,{value:l,children:n})},f=n(6132),d=n(6728),h={};function p(e){var t=(0,d.Z)();return(0,c.jsx)(f.T.Provider,{value:"object"===typeof t?t:h,children:e.children})}var v=function(e){var t=e.children,n=e.theme;return(0,c.jsx)(l,{theme:n,children:(0,c.jsx)(p,{children:t})})},m=n(9439),y=n(5469),g=(n(5296),n(7861),n(4911)),b=n(1086),k=n(5696),w=(0,f.w)((function(e,n){var r=e.styles,i=(0,b.O)([r],void 0,(0,t.useContext)(f.T)),a=(0,t.useRef)();return(0,k.j)((function(){var e=n.key+"-global",t=new n.sheet.constructor({key:e,nonce:n.sheet.nonce,container:n.sheet.container,speedy:n.sheet.isSpeedy}),r=!1,o=document.querySelector('style[data-emotion="'+e+" "+i.name+'"]');return n.sheet.tags.length&&(t.before=n.sheet.tags[0]),null!==o&&(r=!0,o.setAttribute("data-emotion",e),t.hydrate([o])),a.current=[t,r],function(){t.flush()}}),[n]),(0,k.j)((function(){var e=a.current,t=e[0];if(e[1])e[1]=!1;else{if(void 0!==i.next&&(0,g.My)(n,i.next,!0),t.tags.length){var r=t.tags[t.tags.length-1].nextElementSibling;t.before=r,t.flush()}n.insert("",i,t,!1)}}),[n,i.name]),null}));function x(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,b.O)(t)}var S=function(){var e=x.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function I(e){var t=e.styles,n=e.defaultTheme,r=void 0===n?{}:n,i="function"===typeof t?function(e){return t(void 0===(n=e)||null===n||0===Object.keys(n).length?r:e);var n}:t;return(0,c.jsx)(w,{styles:i})}var E=n(2248);var _=function(e){return(0,c.jsx)(I,(0,a.Z)({},e,{defaultTheme:E.Z}))},T=function(e,t){return(0,a.Z)({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},t&&!e.vars&&{colorScheme:e.palette.mode})},C=function(e){return(0,a.Z)({color:(e.vars||e).palette.text.primary},e.typography.body1,{backgroundColor:(e.vars||e).palette.background.default,"@media print":{backgroundColor:(e.vars||e).palette.common.white}})};var A=function(e){var n=(0,y.Z)({props:e,name:"MuiCssBaseline"}),r=n.children,i=n.enableColorScheme,o=void 0!==i&&i;return(0,c.jsxs)(t.Fragment,{children:[(0,c.jsx)(_,{styles:function(e){return function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i={};r&&e.colorSchemes&&Object.entries(e.colorSchemes).forEach((function(t){var n,r=(0,m.Z)(t,2),a=r[0],o=r[1];i[e.getColorSchemeSelector(a).replace(/\s*&/,"")]={colorScheme:null==(n=o.palette)?void 0:n.mode}}));var o=(0,a.Z)({html:T(e,r),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:(0,a.Z)({margin:0},C(e),{"&::backdrop":{backgroundColor:(e.vars||e).palette.background.default}})},i),u=null==(t=e.components)||null==(n=t.MuiCssBaseline)?void 0:n.styleOverrides;return u&&(o=[o,u]),o}(e,o)}}),r]})},N=n(4976),R=n(4290),P=n(4993);function O(e,n,r,i,a){var o=t.useState((function(){return a&&r?r(e).matches:i?i(e).matches:n})),u=(0,m.Z)(o,2),s=u[0],c=u[1];return(0,P.Z)((function(){var t=!0;if(r){var n=r(e),i=function(){t&&c(n.matches)};return i(),n.addListener(i),function(){t=!1,n.removeListener(i)}}}),[e,r]),s}var D=r.useSyncExternalStore;function M(e,n,r,i,a){var o=t.useCallback((function(){return n}),[n]),u=t.useMemo((function(){if(a&&r)return function(){return r(e).matches};if(null!==i){var t=i(e).matches;return function(){return t}}return o}),[o,e,i,a,r]),s=t.useMemo((function(){if(null===r)return[o,function(){return function(){}}];var t=r(e);return[function(){return t.matches},function(e){return t.addListener(e),function(){t.removeListener(e)}}]}),[o,r,e]),c=(0,m.Z)(s,2),l=c[0],f=c[1];return D(f,l,u)}var L=n(3366),F=n(3061),Z=n(1921),j=n(8564),V=n(7551),U=function(e){return((e<1?5.11916*Math.pow(e,2):4.5*Math.log(e+1)+2)/100).toFixed(2)},z=n(7430),B=n(2298);function q(e){return(0,B.Z)("MuiPaper",e)}(0,z.Z)("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);var W=["className","component","elevation","square","variant"],K=(0,j.ZP)("div",{name:"MuiPaper",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],!n.square&&t.rounded,"elevation"===n.variant&&t["elevation".concat(n.elevation)]]}})((function(e){var t,n=e.theme,r=e.ownerState;return(0,a.Z)({backgroundColor:(n.vars||n).palette.background.paper,color:(n.vars||n).palette.text.primary,transition:n.transitions.create("box-shadow")},!r.square&&{borderRadius:n.shape.borderRadius},"outlined"===r.variant&&{border:"1px solid ".concat((n.vars||n).palette.divider)},"elevation"===r.variant&&(0,a.Z)({boxShadow:(n.vars||n).shadows[r.elevation]},!n.vars&&"dark"===n.palette.mode&&{backgroundImage:"linear-gradient(".concat((0,V.Fq)("#fff",U(r.elevation)),", ").concat((0,V.Fq)("#fff",U(r.elevation)),")")},n.vars&&{backgroundImage:null==(t=n.vars.overlays)?void 0:t[r.elevation]}))})),G=t.forwardRef((function(e,t){var n=(0,y.Z)({props:e,name:"MuiPaper"}),r=n.className,i=n.component,o=void 0===i?"div":i,u=n.elevation,s=void 0===u?1:u,l=n.square,f=void 0!==l&&l,d=n.variant,h=void 0===d?"elevation":d,p=(0,L.Z)(n,W),v=(0,a.Z)({},n,{component:o,elevation:s,square:f,variant:h}),m=function(e){var t=e.square,n=e.elevation,r=e.variant,i=e.classes,a={root:["root",r,!t&&"rounded","elevation"===r&&"elevation".concat(n)]};return(0,Z.Z)(a,q,i)}(v);return(0,c.jsx)(K,(0,a.Z)({as:o,ownerState:v,className:(0,F.Z)(m.root,r),ref:t},p))})),H=G;function Q(e){return(0,B.Z)("MuiCard",e)}(0,z.Z)("MuiCard",["root"]);var $=["className","raised"],X=(0,j.ZP)(H,{name:"MuiCard",slot:"Root",overridesResolver:function(e,t){return t.root}})((function(){return{overflow:"hidden"}})),Y=t.forwardRef((function(e,t){var n=(0,y.Z)({props:e,name:"MuiCard"}),r=n.className,i=n.raised,o=void 0!==i&&i,u=(0,L.Z)(n,$),s=(0,a.Z)({},n,{raised:o}),l=function(e){var t=e.classes;return(0,Z.Z)({root:["root"]},Q,t)}(s);return(0,c.jsx)(X,(0,a.Z)({className:(0,F.Z)(l.root,r),elevation:o?8:void 0,ref:t,ownerState:s},u))}));function J(e){return(0,B.Z)("MuiCardContent",e)}(0,z.Z)("MuiCardContent",["root"]);var ee=["className","component"],te=(0,j.ZP)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:function(e,t){return t.root}})((function(){return{padding:16,"&:last-child":{paddingBottom:24}}})),ne=t.forwardRef((function(e,t){var n=(0,y.Z)({props:e,name:"MuiCardContent"}),r=n.className,i=n.component,o=void 0===i?"div":i,u=(0,L.Z)(n,ee),s=(0,a.Z)({},n,{component:o}),l=function(e){var t=e.classes;return(0,Z.Z)({root:["root"]},J,t)}(s);return(0,c.jsx)(te,(0,a.Z)({as:o,className:(0,F.Z)(l.root,r),ownerState:s,ref:t},u))})),re=n(3433),ie=n(4942),ae=n(4929),oe=n(3019),ue=n(3232),se=["sx"],ce=function(e){var t,n,r={systemProps:{},otherProps:{}},i=null!=(t=null==e||null==(n=e.theme)?void 0:n.unstable_sxConfig)?t:ue.Z;return Object.keys(e).forEach((function(t){i[t]?r.systemProps[t]=e[t]:r.otherProps[t]=e[t]})),r};function le(e){var t,n=e.sx,r=(0,L.Z)(e,se),i=ce(r),o=i.systemProps,u=i.otherProps;return t=Array.isArray(n)?[o].concat((0,re.Z)(n)):"function"===typeof n?function(){var e=n.apply(void 0,arguments);return(0,oe.P)(e)?(0,a.Z)({},o,e):o}:(0,a.Z)({},o,n),(0,a.Z)({},u,{sx:t})}function fe(){return(0,d.Z)(E.Z)}var de=t.createContext();function he(e){return(0,B.Z)("MuiGrid",e)}var pe=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],ve=(0,z.Z)("MuiGrid",["root","container","item","zeroMinWidth"].concat((0,re.Z)([0,1,2,3,4,5,6,7,8,9,10].map((function(e){return"spacing-xs-".concat(e)}))),(0,re.Z)(["column-reverse","column","row-reverse","row"].map((function(e){return"direction-xs-".concat(e)}))),(0,re.Z)(["nowrap","wrap-reverse","wrap"].map((function(e){return"wrap-xs-".concat(e)}))),(0,re.Z)(pe.map((function(e){return"grid-xs-".concat(e)}))),(0,re.Z)(pe.map((function(e){return"grid-sm-".concat(e)}))),(0,re.Z)(pe.map((function(e){return"grid-md-".concat(e)}))),(0,re.Z)(pe.map((function(e){return"grid-lg-".concat(e)}))),(0,re.Z)(pe.map((function(e){return"grid-xl-".concat(e)}))))),me=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function ye(e){var t=parseFloat(e);return"".concat(t).concat(String(e).replace(String(t),"")||"px")}function ge(e){var t=e.breakpoints,n=e.values,r="";Object.keys(n).forEach((function(e){""===r&&0!==n[e]&&(r=e)}));var i=Object.keys(t).sort((function(e,n){return t[e]-t[n]}));return i.slice(0,i.indexOf(r))}var be=(0,j.ZP)("div",{name:"MuiGrid",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState,r=n.container,i=n.direction,a=n.item,o=n.spacing,u=n.wrap,s=n.zeroMinWidth,c=n.breakpoints,l=[];r&&(l=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e||e<=0)return[];if("string"===typeof e&&!Number.isNaN(Number(e))||"number"===typeof e)return[n["spacing-xs-".concat(String(e))]];var r=[];return t.forEach((function(t){var i=e[t];Number(i)>0&&r.push(n["spacing-".concat(t,"-").concat(String(i))])})),r}(o,c,t));var f=[];return c.forEach((function(e){var r=n[e];r&&f.push(t["grid-".concat(e,"-").concat(String(r))])})),[t.root,r&&t.container,a&&t.item,s&&t.zeroMinWidth].concat((0,re.Z)(l),["row"!==i&&t["direction-xs-".concat(String(i))],"wrap"!==u&&t["wrap-xs-".concat(String(u))]],f)}})((function(e){var t=e.ownerState;return(0,a.Z)({boxSizing:"border-box"},t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},t.item&&{margin:0},t.zeroMinWidth&&{minWidth:0},"wrap"!==t.wrap&&{flexWrap:t.wrap})}),(function(e){var t=e.theme,n=e.ownerState,r=(0,ae.P$)({values:n.direction,breakpoints:t.breakpoints.values});return(0,ae.k9)({theme:t},r,(function(e){var t={flexDirection:e};return 0===e.indexOf("column")&&(t["& > .".concat(ve.item)]={maxWidth:"none"}),t}))}),(function(e){var t=e.theme,n=e.ownerState,r=n.container,i=n.rowSpacing,a={};if(r&&0!==i){var o,u=(0,ae.P$)({values:i,breakpoints:t.breakpoints.values});"object"===typeof u&&(o=ge({breakpoints:t.breakpoints.values,values:u})),a=(0,ae.k9)({theme:t},u,(function(e,n){var r,i=t.spacing(e);return"0px"!==i?(0,ie.Z)({marginTop:"-".concat(ye(i))},"& > .".concat(ve.item),{paddingTop:ye(i)}):null!=(r=o)&&r.includes(n)?{}:(0,ie.Z)({marginTop:0},"& > .".concat(ve.item),{paddingTop:0})}))}return a}),(function(e){var t=e.theme,n=e.ownerState,r=n.container,i=n.columnSpacing,a={};if(r&&0!==i){var o,u=(0,ae.P$)({values:i,breakpoints:t.breakpoints.values});"object"===typeof u&&(o=ge({breakpoints:t.breakpoints.values,values:u})),a=(0,ae.k9)({theme:t},u,(function(e,n){var r,i=t.spacing(e);return"0px"!==i?(0,ie.Z)({width:"calc(100% + ".concat(ye(i),")"),marginLeft:"-".concat(ye(i))},"& > .".concat(ve.item),{paddingLeft:ye(i)}):null!=(r=o)&&r.includes(n)?{}:(0,ie.Z)({width:"100%",marginLeft:0},"& > .".concat(ve.item),{paddingLeft:0})}))}return a}),(function(e){var t,n=e.theme,r=e.ownerState;return n.breakpoints.keys.reduce((function(e,i){var o={};if(r[i]&&(t=r[i]),!t)return e;if(!0===t)o={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if("auto"===t)o={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{var u=(0,ae.P$)({values:r.columns,breakpoints:n.breakpoints.values}),s="object"===typeof u?u[i]:u;if(void 0===s||null===s)return e;var c="".concat(Math.round(t/s*1e8)/1e6,"%"),l={};if(r.container&&r.item&&0!==r.columnSpacing){var f=n.spacing(r.columnSpacing);if("0px"!==f){var d="calc(".concat(c," + ").concat(ye(f),")");l={flexBasis:d,maxWidth:d}}}o=(0,a.Z)({flexBasis:c,flexGrow:0,maxWidth:c},l)}return 0===n.breakpoints.values[i]?Object.assign(e,o):e[n.breakpoints.up(i)]=o,e}),{})}));var ke=function(e){var t=e.classes,n=e.container,r=e.direction,i=e.item,a=e.spacing,o=e.wrap,u=e.zeroMinWidth,s=e.breakpoints,c=[];n&&(c=function(e,t){if(!e||e<=0)return[];if("string"===typeof e&&!Number.isNaN(Number(e))||"number"===typeof e)return["spacing-xs-".concat(String(e))];var n=[];return t.forEach((function(t){var r=e[t];if(Number(r)>0){var i="spacing-".concat(t,"-").concat(String(r));n.push(i)}})),n}(a,s));var l=[];s.forEach((function(t){var n=e[t];n&&l.push("grid-".concat(t,"-").concat(String(n)))}));var f={root:["root",n&&"container",i&&"item",u&&"zeroMinWidth"].concat((0,re.Z)(c),["row"!==r&&"direction-xs-".concat(String(r)),"wrap"!==o&&"wrap-xs-".concat(String(o))],l)};return(0,Z.Z)(f,he,t)},we=t.forwardRef((function(e,n){var r=(0,y.Z)({props:e,name:"MuiGrid"}),i=fe().breakpoints,o=le(r),u=o.className,s=o.columns,l=o.columnSpacing,f=o.component,d=void 0===f?"div":f,h=o.container,p=void 0!==h&&h,v=o.direction,m=void 0===v?"row":v,g=o.item,b=void 0!==g&&g,k=o.rowSpacing,w=o.spacing,x=void 0===w?0:w,S=o.wrap,I=void 0===S?"wrap":S,E=o.zeroMinWidth,_=void 0!==E&&E,T=(0,L.Z)(o,me),C=k||x,A=l||x,N=t.useContext(de),R=p?s||12:N,P={},O=(0,a.Z)({},T);i.keys.forEach((function(e){null!=T[e]&&(P[e]=T[e],delete O[e])}));var D=(0,a.Z)({},o,{columns:R,container:p,direction:m,item:b,rowSpacing:C,columnSpacing:A,wrap:I,zeroMinWidth:_,spacing:x},P,{breakpoints:i.keys}),M=ke(D);return(0,c.jsx)(de.Provider,{value:R,children:(0,c.jsx)(be,(0,a.Z)({ownerState:D,className:(0,F.Z)(M.root,u),as:d,ref:n},O))})})),xe=we,Se=n(1615);function Ie(e){return(0,B.Z)("MuiTypography",e)}(0,z.Z)("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);var Ee=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],_e=(0,j.ZP)("span",{name:"MuiTypography",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.variant&&t[n.variant],"inherit"!==n.align&&t["align".concat((0,Se.Z)(n.align))],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})((function(e){var t=e.theme,n=e.ownerState;return(0,a.Z)({margin:0},n.variant&&t.typography[n.variant],"inherit"!==n.align&&{textAlign:n.align},n.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n.gutterBottom&&{marginBottom:"0.35em"},n.paragraph&&{marginBottom:16})})),Te={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Ce={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},Ae=t.forwardRef((function(e,t){var n=(0,y.Z)({props:e,name:"MuiTypography"}),r=function(e){return Ce[e]||e}(n.color),i=le((0,a.Z)({},n,{color:r})),o=i.align,u=void 0===o?"inherit":o,s=i.className,l=i.component,f=i.gutterBottom,d=void 0!==f&&f,h=i.noWrap,p=void 0!==h&&h,v=i.paragraph,m=void 0!==v&&v,g=i.variant,b=void 0===g?"body1":g,k=i.variantMapping,w=void 0===k?Te:k,x=(0,L.Z)(i,Ee),S=(0,a.Z)({},i,{align:u,color:r,className:s,component:l,gutterBottom:d,noWrap:p,paragraph:m,variant:b,variantMapping:w}),I=l||(m?"p":w[b]||Te[b])||"span",E=function(e){var t=e.align,n=e.gutterBottom,r=e.noWrap,i=e.paragraph,a=e.variant,o=e.classes,u={root:["root",a,"inherit"!==e.align&&"align".concat((0,Se.Z)(t)),n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return(0,Z.Z)(u,Ie,o)}(S);return(0,c.jsx)(_e,(0,a.Z)({as:I,ref:t,ownerState:S,className:(0,F.Z)(E.root,s)},x))})),Ne=Ae,Re=n(4472),Pe=n(3649),Oe=["className","component"];var De=n(1271),Me=n(5169),Le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.defaultTheme,r=e.defaultClassName,i=void 0===r?"MuiBox-root":r,o=e.generateClassName,u=(0,Re.ZP)("div",{shouldForwardProp:function(e){return"theme"!==e&&"sx"!==e&&"as"!==e}})(Pe.Z),s=t.forwardRef((function(e,t){var r=(0,d.Z)(n),s=le(e),l=s.className,f=s.component,h=void 0===f?"div":f,p=(0,L.Z)(s,Oe);return(0,c.jsx)(u,(0,a.Z)({as:h,ref:t,className:(0,F.Z)(l,o?o(i):i),theme:r},p))}));return s}({defaultTheme:(0,Me.Z)(),defaultClassName:"MuiBox-root",generateClassName:De.Z.generate}),Fe=Le,Ze=n(3362),je=n(7219),Ve=n(1168),Ue=n(7472),ze=n(3282),Be=n(4312),qe=n(2678),We=["onChange","maxRows","minRows","style","value"];function Ke(e){return parseInt(e,10)||0}var Ge={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"};function He(e){return void 0===e||null===e||0===Object.keys(e).length||0===e.outerHeightStyle&&!e.overflow}var Qe=t.forwardRef((function(e,n){var r=e.onChange,i=e.maxRows,o=e.minRows,u=void 0===o?1:o,s=e.style,l=e.value,f=(0,L.Z)(e,We),d=t.useRef(null!=l).current,h=t.useRef(null),p=(0,Ue.Z)(n,h),v=t.useRef(null),y=t.useRef(0),g=t.useState({outerHeightStyle:0}),b=(0,m.Z)(g,2),k=b[0],w=b[1],x=t.useCallback((function(){var t=h.current,n=(0,ze.Z)(t).getComputedStyle(t);if("0px"===n.width)return{outerHeightStyle:0};var r=v.current;r.style.width=n.width,r.value=t.value||e.placeholder||"x","\n"===r.value.slice(-1)&&(r.value+=" ");var a=n.boxSizing,o=Ke(n.paddingBottom)+Ke(n.paddingTop),s=Ke(n.borderBottomWidth)+Ke(n.borderTopWidth),c=r.scrollHeight;r.value="x";var l=r.scrollHeight,f=c;return u&&(f=Math.max(Number(u)*l,f)),i&&(f=Math.min(Number(i)*l,f)),{outerHeightStyle:(f=Math.max(f,l))+("border-box"===a?o+s:0),overflow:Math.abs(f-c)<=1}}),[i,u,e.placeholder]),S=function(e,t){var n=t.outerHeightStyle,r=t.overflow;return y.current<20&&(n>0&&Math.abs((e.outerHeightStyle||0)-n)>1||e.overflow!==r)?(y.current+=1,{overflow:r,outerHeightStyle:n}):e},I=t.useCallback((function(){var e=x();He(e)||w((function(t){return S(t,e)}))}),[x]);t.useEffect((function(){var e,t=(0,Be.Z)((function(){y.current=0,h.current&&function(){var e=x();He(e)||Ve.flushSync((function(){w((function(t){return S(t,e)}))}))}()})),n=h.current,r=(0,ze.Z)(n);return r.addEventListener("resize",t),"undefined"!==typeof ResizeObserver&&(e=new ResizeObserver(t)).observe(n),function(){t.clear(),r.removeEventListener("resize",t),e&&e.disconnect()}})),(0,qe.Z)((function(){I()})),t.useEffect((function(){y.current=0}),[l]);return(0,c.jsxs)(t.Fragment,{children:[(0,c.jsx)("textarea",(0,a.Z)({value:l,onChange:function(e){y.current=0,d||I(),r&&r(e)},ref:p,rows:u,style:(0,a.Z)({height:k.outerHeightStyle,overflow:k.overflow?"hidden":void 0},s)},f)),(0,c.jsx)("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:v,tabIndex:-1,style:(0,a.Z)({},Ge,s,{padding:0})})]})})),$e=Qe;function Xe(e){return"string"===typeof e}function Ye(e){var t=e.props,n=e.states,r=e.muiFormControl;return n.reduce((function(e,n){return e[n]=t[n],r&&"undefined"===typeof t[n]&&(e[n]=r[n]),e}),{})}var Je=t.createContext(void 0);function et(){return t.useContext(Je)}var tt=n(6983);function nt(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function rt(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(nt(e.value)&&""!==e.value||t&&nt(e.defaultValue)&&""!==e.defaultValue)}function it(e){return(0,B.Z)("MuiInputBase",e)}var at=(0,z.Z)("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),ot=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],ut=function(e,t){var n=e.ownerState;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,"small"===n.size&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t["color".concat((0,Se.Z)(n.color))],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},st=function(e,t){var n=e.ownerState;return[t.input,"small"===n.size&&t.inputSizeSmall,n.multiline&&t.inputMultiline,"search"===n.type&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},ct=(0,j.ZP)("div",{name:"MuiInputBase",slot:"Root",overridesResolver:ut})((function(e){var t=e.theme,n=e.ownerState;return(0,a.Z)({},t.typography.body1,(0,ie.Z)({color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center"},"&.".concat(at.disabled),{color:(t.vars||t).palette.text.disabled,cursor:"default"}),n.multiline&&(0,a.Z)({padding:"4px 0 5px"},"small"===n.size&&{paddingTop:1}),n.fullWidth&&{width:"100%"})})),lt=(0,j.ZP)("input",{name:"MuiInputBase",slot:"Input",overridesResolver:st})((function(e){var t,n=e.theme,r=e.ownerState,i="light"===n.palette.mode,o=(0,a.Z)({color:"currentColor"},n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:i?.42:.5},{transition:n.transitions.create("opacity",{duration:n.transitions.duration.shorter})}),u={opacity:"0 !important"},s=n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:i?.42:.5};return(0,a.Z)((t={font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":o,"&::-moz-placeholder":o,"&:-ms-input-placeholder":o,"&::-ms-input-placeholder":o,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"}},(0,ie.Z)(t,"label[data-shrink=false] + .".concat(at.formControl," &"),{"&::-webkit-input-placeholder":u,"&::-moz-placeholder":u,"&:-ms-input-placeholder":u,"&::-ms-input-placeholder":u,"&:focus::-webkit-input-placeholder":s,"&:focus::-moz-placeholder":s,"&:focus:-ms-input-placeholder":s,"&:focus::-ms-input-placeholder":s}),(0,ie.Z)(t,"&.".concat(at.disabled),{opacity:1,WebkitTextFillColor:(n.vars||n).palette.text.disabled}),(0,ie.Z)(t,"&:-webkit-autofill",{animationDuration:"5000s",animationName:"mui-auto-fill"}),t),"small"===r.size&&{paddingTop:1},r.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},"search"===r.type&&{MozAppearance:"textfield"})})),ft=(0,c.jsx)(_,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),dt=t.forwardRef((function(e,n){var r,i=(0,y.Z)({props:e,name:"MuiInputBase"}),o=i["aria-describedby"],u=i.autoComplete,s=i.autoFocus,l=i.className,f=i.components,d=void 0===f?{}:f,h=i.componentsProps,p=void 0===h?{}:h,v=i.defaultValue,g=i.disabled,b=i.disableInjectingGlobalStyles,k=i.endAdornment,w=i.fullWidth,x=void 0!==w&&w,S=i.id,I=i.inputComponent,E=void 0===I?"input":I,_=i.inputProps,T=void 0===_?{}:_,C=i.inputRef,A=i.maxRows,N=i.minRows,R=i.multiline,O=void 0!==R&&R,D=i.name,M=i.onBlur,j=i.onChange,V=i.onClick,U=i.onFocus,z=i.onKeyDown,B=i.onKeyUp,q=i.placeholder,W=i.readOnly,K=i.renderSuffix,G=i.rows,H=i.slotProps,Q=void 0===H?{}:H,$=i.slots,X=void 0===$?{}:$,Y=i.startAdornment,J=i.type,ee=void 0===J?"text":J,te=i.value,ne=(0,L.Z)(i,ot),re=null!=T.value?T.value:te,ie=t.useRef(null!=re).current,ae=t.useRef(),oe=t.useCallback((function(e){0}),[]),ue=(0,tt.Z)(ae,C,T.ref,oe),se=t.useState(!1),ce=(0,m.Z)(se,2),le=ce[0],fe=ce[1],de=et();var he=Ye({props:i,muiFormControl:de,states:["color","disabled","error","hiddenLabel","size","required","filled"]});he.focused=de?de.focused:le,t.useEffect((function(){!de&&g&&le&&(fe(!1),M&&M())}),[de,g,le,M]);var pe=de&&de.onFilled,ve=de&&de.onEmpty,me=t.useCallback((function(e){rt(e)?pe&&pe():ve&&ve()}),[pe,ve]);(0,P.Z)((function(){ie&&me({value:re})}),[re,me,ie]);t.useEffect((function(){me(ae.current)}),[]);var ye=E,ge=T;O&&"input"===ye&&(ge=G?(0,a.Z)({type:void 0,minRows:G,maxRows:G},ge):(0,a.Z)({type:void 0,maxRows:A,minRows:N},ge),ye=$e);t.useEffect((function(){de&&de.setAdornedStart(Boolean(Y))}),[de,Y]);var be=(0,a.Z)({},i,{color:he.color||"primary",disabled:he.disabled,endAdornment:k,error:he.error,focused:he.focused,formControl:de,fullWidth:x,hiddenLabel:he.hiddenLabel,multiline:O,size:he.size,startAdornment:Y,type:ee}),ke=function(e){var t=e.classes,n=e.color,r=e.disabled,i=e.error,a=e.endAdornment,o=e.focused,u=e.formControl,s=e.fullWidth,c=e.hiddenLabel,l=e.multiline,f=e.readOnly,d=e.size,h=e.startAdornment,p=e.type,v={root:["root","color".concat((0,Se.Z)(n)),r&&"disabled",i&&"error",s&&"fullWidth",o&&"focused",u&&"formControl","small"===d&&"sizeSmall",l&&"multiline",h&&"adornedStart",a&&"adornedEnd",c&&"hiddenLabel",f&&"readOnly"],input:["input",r&&"disabled","search"===p&&"inputTypeSearch",l&&"inputMultiline","small"===d&&"inputSizeSmall",c&&"inputHiddenLabel",h&&"inputAdornedStart",a&&"inputAdornedEnd",f&&"readOnly"]};return(0,Z.Z)(v,it,t)}(be),we=X.root||d.Root||ct,xe=Q.root||p.root||{},Ie=X.input||d.Input||lt;return ge=(0,a.Z)({},ge,null!=(r=Q.input)?r:p.input),(0,c.jsxs)(t.Fragment,{children:[!b&&ft,(0,c.jsxs)(we,(0,a.Z)({},xe,!Xe(we)&&{ownerState:(0,a.Z)({},be,xe.ownerState)},{ref:n,onClick:function(e){ae.current&&e.currentTarget===e.target&&ae.current.focus(),V&&V(e)}},ne,{className:(0,F.Z)(ke.root,xe.className,l,W&&"MuiInputBase-readOnly"),children:[Y,(0,c.jsx)(Je.Provider,{value:null,children:(0,c.jsx)(Ie,(0,a.Z)({ownerState:be,"aria-invalid":he.error,"aria-describedby":o,autoComplete:u,autoFocus:s,defaultValue:v,disabled:he.disabled,id:S,onAnimationStart:function(e){me("mui-auto-fill-cancel"===e.animationName?ae.current:{value:"x"})},name:D,placeholder:q,readOnly:W,required:he.required,rows:G,value:re,onKeyDown:z,onKeyUp:B,type:ee},ge,!Xe(Ie)&&{as:ye,ownerState:(0,a.Z)({},be,ge.ownerState)},{ref:ue,className:(0,F.Z)(ke.input,ge.className,W&&"MuiInputBase-readOnly"),onBlur:function(e){M&&M(e),T.onBlur&&T.onBlur(e),de&&de.onBlur?de.onBlur(e):fe(!1)},onChange:function(e){if(!ie){var t=e.target||ae.current;if(null==t)throw new Error((0,je.Z)(1));me({value:t.value})}for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];T.onChange&&T.onChange.apply(T,[e].concat(r)),j&&j.apply(void 0,[e].concat(r))},onFocus:function(e){he.disabled?e.stopPropagation():(U&&U(e),T.onFocus&&T.onFocus(e),de&&de.onFocus?de.onFocus(e):fe(!0))}}))}),k,K?K((0,a.Z)({},he,{startAdornment:Y})):null]}))]})})),ht=dt;function pt(e){return(0,B.Z)("MuiInput",e)}var vt=(0,a.Z)({},at,(0,z.Z)("MuiInput",["root","underline","input"])),mt=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],yt=(0,j.ZP)(ct,{shouldForwardProp:function(e){return(0,j.FO)(e)||"classes"===e},name:"MuiInput",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[].concat((0,re.Z)(ut(e,t)),[!n.disableUnderline&&t.underline])}})((function(e){var t,n=e.theme,r=e.ownerState,i="light"===n.palette.mode?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return n.vars&&(i="rgba(".concat(n.vars.palette.common.onBackgroundChannel," / ").concat(n.vars.opacity.inputUnderline,")")),(0,a.Z)({position:"relative"},r.formControl&&{"label + &":{marginTop:16}},!r.disableUnderline&&(t={"&:after":{borderBottom:"2px solid ".concat((n.vars||n).palette[r.color].main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"}},(0,ie.Z)(t,"&.".concat(vt.focused,":after"),{transform:"scaleX(1) translateX(0)"}),(0,ie.Z)(t,"&.".concat(vt.error),{"&:before, &:after":{borderBottomColor:(n.vars||n).palette.error.main}}),(0,ie.Z)(t,"&:before",{borderBottom:"1px solid ".concat(i),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"}),(0,ie.Z)(t,"&:hover:not(.".concat(vt.disabled,", .").concat(vt.error,"):before"),{borderBottom:"2px solid ".concat((n.vars||n).palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(i)}}),(0,ie.Z)(t,"&.".concat(vt.disabled,":before"),{borderBottomStyle:"dotted"}),t))})),gt=(0,j.ZP)(lt,{name:"MuiInput",slot:"Input",overridesResolver:st})({}),bt=t.forwardRef((function(e,t){var n,r,i,o,u=(0,y.Z)({props:e,name:"MuiInput"}),s=u.disableUnderline,l=u.components,f=void 0===l?{}:l,d=u.componentsProps,h=u.fullWidth,p=void 0!==h&&h,v=u.inputComponent,m=void 0===v?"input":v,g=u.multiline,b=void 0!==g&&g,k=u.slotProps,w=u.slots,x=void 0===w?{}:w,S=u.type,I=void 0===S?"text":S,E=(0,L.Z)(u,mt),_=function(e){var t=e.classes,n={root:["root",!e.disableUnderline&&"underline"],input:["input"]},r=(0,Z.Z)(n,pt,t);return(0,a.Z)({},t,r)}(u),T={root:{ownerState:{disableUnderline:s}}},C=(null!=k?k:d)?(0,oe.Z)(null!=k?k:d,T):T,A=null!=(n=null!=(r=x.root)?r:f.Root)?n:yt,N=null!=(i=null!=(o=x.input)?o:f.Input)?i:gt;return(0,c.jsx)(ht,(0,a.Z)({slots:{root:A,input:N},slotProps:C,fullWidth:p,inputComponent:m,multiline:b,ref:t,type:I},E,{classes:_}))}));bt.muiName="Input";var kt=bt;function wt(e){return(0,B.Z)("MuiFilledInput",e)}var xt=(0,a.Z)({},at,(0,z.Z)("MuiFilledInput",["root","underline","input"])),St=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],It=(0,j.ZP)(ct,{shouldForwardProp:function(e){return(0,j.FO)(e)||"classes"===e},name:"MuiFilledInput",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[].concat((0,re.Z)(ut(e,t)),[!n.disableUnderline&&t.underline])}})((function(e){var t,n,r,i=e.theme,o=e.ownerState,u="light"===i.palette.mode,s=u?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",c=u?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",l=u?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",f=u?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return(0,a.Z)((t={position:"relative",backgroundColor:i.vars?i.vars.palette.FilledInput.bg:c,borderTopLeftRadius:(i.vars||i).shape.borderRadius,borderTopRightRadius:(i.vars||i).shape.borderRadius,transition:i.transitions.create("background-color",{duration:i.transitions.duration.shorter,easing:i.transitions.easing.easeOut}),"&:hover":{backgroundColor:i.vars?i.vars.palette.FilledInput.hoverBg:l,"@media (hover: none)":{backgroundColor:i.vars?i.vars.palette.FilledInput.bg:c}}},(0,ie.Z)(t,"&.".concat(xt.focused),{backgroundColor:i.vars?i.vars.palette.FilledInput.bg:c}),(0,ie.Z)(t,"&.".concat(xt.disabled),{backgroundColor:i.vars?i.vars.palette.FilledInput.disabledBg:f}),t),!o.disableUnderline&&(n={"&:after":{borderBottom:"2px solid ".concat(null==(r=(i.vars||i).palette[o.color||"primary"])?void 0:r.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:i.transitions.create("transform",{duration:i.transitions.duration.shorter,easing:i.transitions.easing.easeOut}),pointerEvents:"none"}},(0,ie.Z)(n,"&.".concat(xt.focused,":after"),{transform:"scaleX(1) translateX(0)"}),(0,ie.Z)(n,"&.".concat(xt.error),{"&:before, &:after":{borderBottomColor:(i.vars||i).palette.error.main}}),(0,ie.Z)(n,"&:before",{borderBottom:"1px solid ".concat(i.vars?"rgba(".concat(i.vars.palette.common.onBackgroundChannel," / ").concat(i.vars.opacity.inputUnderline,")"):s),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:i.transitions.create("border-bottom-color",{duration:i.transitions.duration.shorter}),pointerEvents:"none"}),(0,ie.Z)(n,"&:hover:not(.".concat(xt.disabled,", .").concat(xt.error,"):before"),{borderBottom:"1px solid ".concat((i.vars||i).palette.text.primary)}),(0,ie.Z)(n,"&.".concat(xt.disabled,":before"),{borderBottomStyle:"dotted"}),n),o.startAdornment&&{paddingLeft:12},o.endAdornment&&{paddingRight:12},o.multiline&&(0,a.Z)({padding:"25px 12px 8px"},"small"===o.size&&{paddingTop:21,paddingBottom:4},o.hiddenLabel&&{paddingTop:16,paddingBottom:17}))})),Et=(0,j.ZP)(lt,{name:"MuiFilledInput",slot:"Input",overridesResolver:st})((function(e){var t=e.theme,n=e.ownerState;return(0,a.Z)({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&(0,ie.Z)({"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.getColorSchemeSelector("dark"),{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}),"small"===n.size&&{paddingTop:21,paddingBottom:4},n.hiddenLabel&&{paddingTop:16,paddingBottom:17},n.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0},n.hiddenLabel&&"small"===n.size&&{paddingTop:8,paddingBottom:9})})),_t=t.forwardRef((function(e,t){var n,r,i,o,u=(0,y.Z)({props:e,name:"MuiFilledInput"}),s=u.components,l=void 0===s?{}:s,f=u.componentsProps,d=u.fullWidth,h=void 0!==d&&d,p=u.inputComponent,v=void 0===p?"input":p,m=u.multiline,g=void 0!==m&&m,b=u.slotProps,k=u.slots,w=void 0===k?{}:k,x=u.type,S=void 0===x?"text":x,I=(0,L.Z)(u,St),E=(0,a.Z)({},u,{fullWidth:h,inputComponent:v,multiline:g,type:S}),_=function(e){var t=e.classes,n={root:["root",!e.disableUnderline&&"underline"],input:["input"]},r=(0,Z.Z)(n,wt,t);return(0,a.Z)({},t,r)}(u),T={root:{ownerState:E},input:{ownerState:E}},C=(null!=b?b:f)?(0,oe.Z)(null!=b?b:f,T):T,A=null!=(n=null!=(r=w.root)?r:l.Root)?n:It,N=null!=(i=null!=(o=w.input)?o:l.Input)?i:Et;return(0,c.jsx)(ht,(0,a.Z)({slots:{root:A,input:N},componentsProps:C,fullWidth:h,inputComponent:v,multiline:g,ref:t,type:S},I,{classes:_}))}));_t.muiName="Input";var Tt,Ct=_t,At=["children","classes","className","label","notched"],Nt=(0,j.ZP)("fieldset")({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),Rt=(0,j.ZP)("legend")((function(e){var t=e.ownerState,n=e.theme;return(0,a.Z)({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:n.transitions.create("width",{duration:150,easing:n.transitions.easing.easeOut})},t.withLabel&&(0,a.Z)({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:n.transitions.create("max-width",{duration:50,easing:n.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:n.transitions.create("max-width",{duration:100,easing:n.transitions.easing.easeOut,delay:50})}))}));function Pt(e){return(0,B.Z)("MuiOutlinedInput",e)}var Ot=(0,a.Z)({},at,(0,z.Z)("MuiOutlinedInput",["root","notchedOutline","input"])),Dt=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],Mt=(0,j.ZP)(ct,{shouldForwardProp:function(e){return(0,j.FO)(e)||"classes"===e},name:"MuiOutlinedInput",slot:"Root",overridesResolver:ut})((function(e){var t,n=e.theme,r=e.ownerState,i="light"===n.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return(0,a.Z)((t={position:"relative",borderRadius:(n.vars||n).shape.borderRadius},(0,ie.Z)(t,"&:hover .".concat(Ot.notchedOutline),{borderColor:(n.vars||n).palette.text.primary}),(0,ie.Z)(t,"@media (hover: none)",(0,ie.Z)({},"&:hover .".concat(Ot.notchedOutline),{borderColor:n.vars?"rgba(".concat(n.vars.palette.common.onBackgroundChannel," / 0.23)"):i})),(0,ie.Z)(t,"&.".concat(Ot.focused," .").concat(Ot.notchedOutline),{borderColor:(n.vars||n).palette[r.color].main,borderWidth:2}),(0,ie.Z)(t,"&.".concat(Ot.error," .").concat(Ot.notchedOutline),{borderColor:(n.vars||n).palette.error.main}),(0,ie.Z)(t,"&.".concat(Ot.disabled," .").concat(Ot.notchedOutline),{borderColor:(n.vars||n).palette.action.disabled}),t),r.startAdornment&&{paddingLeft:14},r.endAdornment&&{paddingRight:14},r.multiline&&(0,a.Z)({padding:"16.5px 14px"},"small"===r.size&&{padding:"8.5px 14px"}))})),Lt=(0,j.ZP)((function(e){var t=e.className,n=e.label,r=e.notched,i=(0,L.Z)(e,At),o=null!=n&&""!==n,u=(0,a.Z)({},e,{notched:r,withLabel:o});return(0,c.jsx)(Nt,(0,a.Z)({"aria-hidden":!0,className:t,ownerState:u},i,{children:(0,c.jsx)(Rt,{ownerState:u,children:o?(0,c.jsx)("span",{children:n}):Tt||(Tt=(0,c.jsx)("span",{className:"notranslate",children:"\u200b"}))})}))}),{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:function(e,t){return t.notchedOutline}})((function(e){var t=e.theme,n="light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?"rgba(".concat(t.vars.palette.common.onBackgroundChannel," / 0.23)"):n}})),Ft=(0,j.ZP)(lt,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:st})((function(e){var t=e.theme,n=e.ownerState;return(0,a.Z)({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderRadius:"inherit"}},t.vars&&(0,ie.Z)({"&:-webkit-autofill":{borderRadius:"inherit"}},t.getColorSchemeSelector("dark"),{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}),"small"===n.size&&{padding:"8.5px 14px"},n.multiline&&{padding:0},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0})})),Zt=t.forwardRef((function(e,n){var r,i,o,u,s,l=(0,y.Z)({props:e,name:"MuiOutlinedInput"}),f=l.components,d=void 0===f?{}:f,h=l.fullWidth,p=void 0!==h&&h,v=l.inputComponent,m=void 0===v?"input":v,g=l.label,b=l.multiline,k=void 0!==b&&b,w=l.notched,x=l.slots,S=void 0===x?{}:x,I=l.type,E=void 0===I?"text":I,_=(0,L.Z)(l,Dt),T=function(e){var t=e.classes,n=(0,Z.Z)({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},Pt,t);return(0,a.Z)({},t,n)}(l),C=et(),A=Ye({props:l,muiFormControl:C,states:["required"]}),N=(0,a.Z)({},l,{color:A.color||"primary",disabled:A.disabled,error:A.error,focused:A.focused,formControl:C,fullWidth:p,hiddenLabel:A.hiddenLabel,multiline:k,size:A.size,type:E}),R=null!=(r=null!=(i=S.root)?i:d.Root)?r:Mt,P=null!=(o=null!=(u=S.input)?u:d.Input)?o:Ft;return(0,c.jsx)(ht,(0,a.Z)({slots:{root:R,input:P},renderSuffix:function(e){return(0,c.jsx)(Lt,{ownerState:N,className:T.notchedOutline,label:null!=g&&""!==g&&A.required?s||(s=(0,c.jsxs)(t.Fragment,{children:[g,"\u2009","*"]})):g,notched:"undefined"!==typeof w?w:Boolean(e.startAdornment||e.filled||e.focused)})},fullWidth:p,inputComponent:m,multiline:k,ref:n,type:E},_,{classes:(0,a.Z)({},T,{notchedOutline:null})}))}));Zt.muiName="Input";var jt=Zt;function Vt(e){return(0,B.Z)("MuiFormLabel",e)}var Ut=(0,z.Z)("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),zt=["children","className","color","component","disabled","error","filled","focused","required"],Bt=(0,j.ZP)("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return(0,a.Z)({},t.root,"secondary"===n.color&&t.colorSecondary,n.filled&&t.filled)}})((function(e){var t,n=e.theme,r=e.ownerState;return(0,a.Z)({color:(n.vars||n).palette.text.secondary},n.typography.body1,(t={lineHeight:"1.4375em",padding:0,position:"relative"},(0,ie.Z)(t,"&.".concat(Ut.focused),{color:(n.vars||n).palette[r.color].main}),(0,ie.Z)(t,"&.".concat(Ut.disabled),{color:(n.vars||n).palette.text.disabled}),(0,ie.Z)(t,"&.".concat(Ut.error),{color:(n.vars||n).palette.error.main}),t))})),qt=(0,j.ZP)("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:function(e,t){return t.asterisk}})((function(e){var t=e.theme;return(0,ie.Z)({},"&.".concat(Ut.error),{color:(t.vars||t).palette.error.main})})),Wt=t.forwardRef((function(e,t){var n=(0,y.Z)({props:e,name:"MuiFormLabel"}),r=n.children,i=n.className,o=n.component,u=void 0===o?"label":o,s=(0,L.Z)(n,zt),l=Ye({props:n,muiFormControl:et(),states:["color","required","focused","disabled","error","filled"]}),f=(0,a.Z)({},n,{color:l.color||"primary",component:u,disabled:l.disabled,error:l.error,filled:l.filled,focused:l.focused,required:l.required}),d=function(e){var t=e.classes,n=e.color,r=e.focused,i=e.disabled,a=e.error,o=e.filled,u=e.required,s={root:["root","color".concat((0,Se.Z)(n)),i&&"disabled",a&&"error",o&&"filled",r&&"focused",u&&"required"],asterisk:["asterisk",a&&"error"]};return(0,Z.Z)(s,Vt,t)}(f);return(0,c.jsxs)(Bt,(0,a.Z)({as:u,ownerState:f,className:(0,F.Z)(d.root,i),ref:t},s,{children:[r,l.required&&(0,c.jsxs)(qt,{ownerState:f,"aria-hidden":!0,className:d.asterisk,children:["\u2009","*"]})]}))}));function Kt(e){return(0,B.Z)("MuiInputLabel",e)}(0,z.Z)("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);var Gt=["disableAnimation","margin","shrink","variant","className"],Ht=(0,j.ZP)(Wt,{shouldForwardProp:function(e){return(0,j.FO)(e)||"classes"===e},name:"MuiInputLabel",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[(0,ie.Z)({},"& .".concat(Ut.asterisk),t.asterisk),t.root,n.formControl&&t.formControl,"small"===n.size&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,t[n.variant]]}})((function(e){var t=e.theme,n=e.ownerState;return(0,a.Z)({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},n.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},"small"===n.size&&{transform:"translate(0, 17px) scale(1)"},n.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!n.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},"filled"===n.variant&&(0,a.Z)({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(12px, 13px) scale(1)"},n.shrink&&(0,a.Z)({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},"small"===n.size&&{transform:"translate(12px, 4px) scale(0.75)"})),"outlined"===n.variant&&(0,a.Z)({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(14px, 9px) scale(1)"},n.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))})),Qt=t.forwardRef((function(e,t){var n=(0,y.Z)({name:"MuiInputLabel",props:e}),r=n.disableAnimation,i=void 0!==r&&r,o=n.shrink,u=n.className,s=(0,L.Z)(n,Gt),l=et(),f=o;"undefined"===typeof f&&l&&(f=l.filled||l.focused||l.adornedStart);var d=Ye({props:n,muiFormControl:l,states:["size","variant","required"]}),h=(0,a.Z)({},n,{disableAnimation:i,formControl:l,shrink:f,size:d.size,variant:d.variant,required:d.required}),p=function(e){var t=e.classes,n=e.formControl,r=e.size,i=e.shrink,o={root:["root",n&&"formControl",!e.disableAnimation&&"animated",i&&"shrink","small"===r&&"sizeSmall",e.variant],asterisk:[e.required&&"asterisk"]},u=(0,Z.Z)(o,Kt,t);return(0,a.Z)({},t,u)}(h);return(0,c.jsx)(Ht,(0,a.Z)({"data-shrink":f,ownerState:h,ref:t,className:(0,F.Z)(p.root,u)},s,{classes:p}))})),$t=n(7816);function Xt(e){return(0,B.Z)("MuiFormControl",e)}(0,z.Z)("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);var Yt=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],Jt=(0,j.ZP)("div",{name:"MuiFormControl",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return(0,a.Z)({},t.root,t["margin".concat((0,Se.Z)(n.margin))],n.fullWidth&&t.fullWidth)}})((function(e){var t=e.ownerState;return(0,a.Z)({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},"normal"===t.margin&&{marginTop:16,marginBottom:8},"dense"===t.margin&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})})),en=t.forwardRef((function(e,n){var r=(0,y.Z)({props:e,name:"MuiFormControl"}),i=r.children,o=r.className,u=r.color,s=void 0===u?"primary":u,l=r.component,f=void 0===l?"div":l,d=r.disabled,h=void 0!==d&&d,p=r.error,v=void 0!==p&&p,g=r.focused,b=r.fullWidth,k=void 0!==b&&b,w=r.hiddenLabel,x=void 0!==w&&w,S=r.margin,I=void 0===S?"none":S,E=r.required,_=void 0!==E&&E,T=r.size,C=void 0===T?"medium":T,A=r.variant,N=void 0===A?"outlined":A,R=(0,L.Z)(r,Yt),P=(0,a.Z)({},r,{color:s,component:f,disabled:h,error:v,fullWidth:k,hiddenLabel:x,margin:I,required:_,size:C,variant:N}),O=function(e){var t=e.classes,n=e.margin,r=e.fullWidth,i={root:["root","none"!==n&&"margin".concat((0,Se.Z)(n)),r&&"fullWidth"]};return(0,Z.Z)(i,Xt,t)}(P),D=t.useState((function(){var e=!1;return i&&t.Children.forEach(i,(function(t){if((0,$t.Z)(t,["Input","Select"])){var n=(0,$t.Z)(t,["Select"])?t.props.input:t;n&&n.props.startAdornment&&(e=!0)}})),e})),M=(0,m.Z)(D,2),j=M[0],V=M[1],U=t.useState((function(){var e=!1;return i&&t.Children.forEach(i,(function(t){(0,$t.Z)(t,["Input","Select"])&&rt(t.props,!0)&&(e=!0)})),e})),z=(0,m.Z)(U,2),B=z[0],q=z[1],W=t.useState(!1),K=(0,m.Z)(W,2),G=K[0],H=K[1];h&&G&&H(!1);var Q,$=void 0===g||h?G:g,X=t.useMemo((function(){return{adornedStart:j,setAdornedStart:V,color:s,disabled:h,error:v,filled:B,focused:$,fullWidth:k,hiddenLabel:x,size:C,onBlur:function(){H(!1)},onEmpty:function(){q(!1)},onFilled:function(){q(!0)},onFocus:function(){H(!0)},registerEffect:Q,required:_,variant:N}}),[j,s,h,v,B,$,k,x,Q,_,C,N]);return(0,c.jsx)(Je.Provider,{value:X,children:(0,c.jsx)(Jt,(0,a.Z)({as:f,ownerState:P,className:(0,F.Z)(O.root,o),ref:n},R,{children:i}))})})),tn=en;function nn(e){return(0,B.Z)("MuiFormHelperText",e)}var rn,an=(0,z.Z)("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),on=["children","className","component","disabled","error","filled","focused","margin","required","variant"],un=(0,j.ZP)("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.size&&t["size".concat((0,Se.Z)(n.size))],n.contained&&t.contained,n.filled&&t.filled]}})((function(e){var t,n=e.theme,r=e.ownerState;return(0,a.Z)({color:(n.vars||n).palette.text.secondary},n.typography.caption,(t={textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0},(0,ie.Z)(t,"&.".concat(an.disabled),{color:(n.vars||n).palette.text.disabled}),(0,ie.Z)(t,"&.".concat(an.error),{color:(n.vars||n).palette.error.main}),t),"small"===r.size&&{marginTop:4},r.contained&&{marginLeft:14,marginRight:14})})),sn=t.forwardRef((function(e,t){var n=(0,y.Z)({props:e,name:"MuiFormHelperText"}),r=n.children,i=n.className,o=n.component,u=void 0===o?"p":o,s=(0,L.Z)(n,on),l=Ye({props:n,muiFormControl:et(),states:["variant","size","disabled","error","filled","focused","required"]}),f=(0,a.Z)({},n,{component:u,contained:"filled"===l.variant||"outlined"===l.variant,variant:l.variant,size:l.size,disabled:l.disabled,error:l.error,filled:l.filled,focused:l.focused,required:l.required}),d=function(e){var t=e.classes,n=e.contained,r=e.size,i=e.disabled,a=e.error,o=e.filled,u=e.focused,s=e.required,c={root:["root",i&&"disabled",a&&"error",r&&"size".concat((0,Se.Z)(r)),n&&"contained",u&&"focused",o&&"filled",s&&"required"]};return(0,Z.Z)(c,nn,t)}(f);return(0,c.jsx)(un,(0,a.Z)({as:u,ownerState:f,className:(0,F.Z)(d.root,i),ref:t},s,{children:" "===r?rn||(rn=(0,c.jsx)("span",{className:"notranslate",children:"\u200b"})):r}))})),cn=(n(478),n(6106));var ln=t.createContext({});function fn(e){return(0,B.Z)("MuiList",e)}(0,z.Z)("MuiList",["root","padding","dense","subheader"]);var dn=["children","className","component","dense","disablePadding","subheader"],hn=(0,j.ZP)("ul",{name:"MuiList",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})((function(e){var t=e.ownerState;return(0,a.Z)({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})})),pn=t.forwardRef((function(e,n){var r=(0,y.Z)({props:e,name:"MuiList"}),i=r.children,o=r.className,u=r.component,s=void 0===u?"ul":u,l=r.dense,f=void 0!==l&&l,d=r.disablePadding,h=void 0!==d&&d,p=r.subheader,v=(0,L.Z)(r,dn),m=t.useMemo((function(){return{dense:f}}),[f]),g=(0,a.Z)({},r,{component:s,dense:f,disablePadding:h}),b=function(e){var t=e.classes,n={root:["root",!e.disablePadding&&"padding",e.dense&&"dense",e.subheader&&"subheader"]};return(0,Z.Z)(n,fn,t)}(g);return(0,c.jsx)(ln.Provider,{value:m,children:(0,c.jsxs)(hn,(0,a.Z)({as:s,className:(0,F.Z)(b.root,o),ref:n,ownerState:g},v,{children:[p,i]}))})}));function vn(e){var t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}var mn=vn,yn=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function gn(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function bn(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function kn(e,t){if(void 0===t)return!0;var n=e.innerText;return void 0===n&&(n=e.textContent),0!==(n=n.trim().toLowerCase()).length&&(t.repeating?n[0]===t.keys[0]:0===n.indexOf(t.keys.join("")))}function wn(e,t,n,r,i,a){for(var o=!1,u=i(e,t,!!t&&n);u;){if(u===e.firstChild){if(o)return!1;o=!0}var s=!r&&(u.disabled||"true"===u.getAttribute("aria-disabled"));if(u.hasAttribute("tabindex")&&kn(u,a)&&!s)return u.focus(),!0;u=i(e,u,n)}return!1}var xn=t.forwardRef((function(e,n){var r=e.actions,i=e.autoFocus,o=void 0!==i&&i,u=e.autoFocusItem,s=void 0!==u&&u,l=e.children,f=e.className,d=e.disabledItemsFocusable,h=void 0!==d&&d,p=e.disableListWrap,v=void 0!==p&&p,m=e.onKeyDown,y=e.variant,g=void 0===y?"selectedMenu":y,b=(0,L.Z)(e,yn),k=t.useRef(null),w=t.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});(0,P.Z)((function(){o&&k.current.focus()}),[o]),t.useImperativeHandle(r,(function(){return{adjustStyleForScrollbar:function(e,t){var n=!k.current.style.width;if(e.clientHeight<k.current.clientHeight&&n){var r="".concat(mn((0,cn.Z)(e)),"px");k.current.style["rtl"===t.direction?"paddingLeft":"paddingRight"]=r,k.current.style.width="calc(100% + ".concat(r,")")}return k.current}}}),[]);var x=(0,tt.Z)(k,n),S=-1;t.Children.forEach(l,(function(e,n){t.isValidElement(e)&&(e.props.disabled||("selectedMenu"===g&&e.props.selected||-1===S)&&(S=n),S===n&&(e.props.disabled||e.props.muiSkipListHighlight||e.type.muiSkipListHighlight)&&(S+=1)>=l.length&&(S=-1))}));var I=t.Children.map(l,(function(e,n){if(n===S){var r={};return s&&(r.autoFocus=!0),void 0===e.props.tabIndex&&"selectedMenu"===g&&(r.tabIndex=0),t.cloneElement(e,r)}return e}));return(0,c.jsx)(pn,(0,a.Z)({role:"menu",ref:x,className:f,onKeyDown:function(e){var t=k.current,n=e.key,r=(0,cn.Z)(t).activeElement;if("ArrowDown"===n)e.preventDefault(),wn(t,r,v,h,gn);else if("ArrowUp"===n)e.preventDefault(),wn(t,r,v,h,bn);else if("Home"===n)e.preventDefault(),wn(t,null,v,h,gn);else if("End"===n)e.preventDefault(),wn(t,null,v,h,bn);else if(1===n.length){var i=w.current,a=n.toLowerCase(),o=performance.now();i.keys.length>0&&(o-i.lastTime>500?(i.keys=[],i.repeating=!0,i.previousKeyMatched=!0):i.repeating&&a!==i.keys[0]&&(i.repeating=!1)),i.lastTime=o,i.keys.push(a);var u=r&&!i.repeating&&kn(r,i);i.previousKeyMatched&&(u||wn(t,r,!1,h,gn,i))?e.preventDefault():i.previousKeyMatched=!1}m&&m(e)},tabIndex:o?0:-1},b,{children:I}))})),Sn=xn,In=n(8706),En=n(3533);function _n(e,t){return _n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_n(e,t)}function Tn(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,_n(e,t)}var Cn=!1,An=t.createContext(null),Nn="unmounted",Rn="exited",Pn="entering",On="entered",Dn="exiting",Mn=function(e){function n(t,n){var r;r=e.call(this,t,n)||this;var i,a=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(i=Rn,r.appearStatus=Pn):i=On:i=t.unmountOnExit||t.mountOnEnter?Nn:Rn,r.state={status:i},r.nextCallback=null,r}Tn(n,e),n.getDerivedStateFromProps=function(e,t){return e.in&&t.status===Nn?{status:Rn}:null};var r=n.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==Pn&&n!==On&&(t=Pn):n!==Pn&&n!==On||(t=Dn)}this.updateStatus(!1,t)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},r.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===Pn){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:Ve.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Rn&&this.setState({status:Nn})},r.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[Ve.findDOMNode(this),r],a=i[0],o=i[1],u=this.getTimeouts(),s=r?u.appear:u.enter;!e&&!n||Cn?this.safeSetState({status:On},(function(){t.props.onEntered(a)})):(this.props.onEnter(a,o),this.safeSetState({status:Pn},(function(){t.props.onEntering(a,o),t.onTransitionEnd(s,(function(){t.safeSetState({status:On},(function(){t.props.onEntered(a,o)}))}))})))},r.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:Ve.findDOMNode(this);t&&!Cn?(this.props.onExit(r),this.safeSetState({status:Dn},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:Rn},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:Rn},(function(){e.props.onExited(r)}))},r.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},r.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},r.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:Ve.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],a=i[0],o=i[1];this.props.addEndListener(a,o)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},r.render=function(){var e=this.state.status;if(e===Nn)return null;var n=this.props,r=n.children,i=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,(0,L.Z)(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return t.createElement(An.Provider,{value:null},"function"===typeof r?r(e,i):t.cloneElement(t.Children.only(r),i))},n}(t.Component);function Ln(){}Mn.contextType=An,Mn.propTypes={},Mn.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Ln,onEntering:Ln,onEntered:Ln,onExit:Ln,onExiting:Ln,onExited:Ln},Mn.UNMOUNTED=Nn,Mn.EXITED=Rn,Mn.ENTERING=Pn,Mn.ENTERED=On,Mn.EXITING=Dn;var Fn=Mn,Zn=function(e){return e.scrollTop};function jn(e,t){var n,r,i=e.timeout,a=e.easing,o=e.style,u=void 0===o?{}:o;return{duration:null!=(n=u.transitionDuration)?n:"number"===typeof i?i:i[t.mode]||0,easing:null!=(r=u.transitionTimingFunction)?r:"object"===typeof a?a[t.mode]:a,delay:u.transitionDelay}}var Vn=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function Un(e){return"scale(".concat(e,", ").concat(Math.pow(e,2),")")}var zn={entering:{opacity:1,transform:Un(1)},entered:{opacity:1,transform:"none"}},Bn="undefined"!==typeof navigator&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),qn=t.forwardRef((function(e,n){var r=e.addEndListener,i=e.appear,o=void 0===i||i,u=e.children,s=e.easing,l=e.in,f=e.onEnter,d=e.onEntered,h=e.onEntering,p=e.onExit,v=e.onExited,m=e.onExiting,y=e.style,g=e.timeout,b=void 0===g?"auto":g,k=e.TransitionComponent,w=void 0===k?Fn:k,x=(0,L.Z)(e,Vn),S=t.useRef(),I=t.useRef(),E=fe(),_=t.useRef(null),T=(0,tt.Z)(_,u.ref,n),C=function(e){return function(t){if(e){var n=_.current;void 0===t?e(n):e(n,t)}}},A=C(h),N=C((function(e,t){Zn(e);var n,r=jn({style:y,timeout:b,easing:s},{mode:"enter"}),i=r.duration,a=r.delay,o=r.easing;"auto"===b?(n=E.transitions.getAutoHeightDuration(e.clientHeight),I.current=n):n=i,e.style.transition=[E.transitions.create("opacity",{duration:n,delay:a}),E.transitions.create("transform",{duration:Bn?n:.666*n,delay:a,easing:o})].join(","),f&&f(e,t)})),R=C(d),P=C(m),O=C((function(e){var t,n=jn({style:y,timeout:b,easing:s},{mode:"exit"}),r=n.duration,i=n.delay,a=n.easing;"auto"===b?(t=E.transitions.getAutoHeightDuration(e.clientHeight),I.current=t):t=r,e.style.transition=[E.transitions.create("opacity",{duration:t,delay:i}),E.transitions.create("transform",{duration:Bn?t:.666*t,delay:Bn?i:i||.333*t,easing:a})].join(","),e.style.opacity=0,e.style.transform=Un(.75),p&&p(e)})),D=C(v);return t.useEffect((function(){return function(){clearTimeout(S.current)}}),[]),(0,c.jsx)(w,(0,a.Z)({appear:o,in:l,nodeRef:_,onEnter:N,onEntered:R,onEntering:A,onExit:O,onExited:D,onExiting:P,addEndListener:function(e){"auto"===b&&(S.current=setTimeout(e,I.current||0)),r&&r(_.current,e)},timeout:"auto"===b?null:b},x,{children:function(e,n){return t.cloneElement(u,(0,a.Z)({style:(0,a.Z)({opacity:0,transform:Un(.75),visibility:"exited"!==e||l?void 0:"hidden"},zn[e],y,u.props.style),ref:T},n))}}))}));qn.muiSupportAuto=!0;var Wn=qn,Kn=n(9081),Gn=n(2780),Hn=n(4246),Qn=n(9265);var $n=t.forwardRef((function(e,n){var r=e.children,i=e.container,a=e.disablePortal,o=void 0!==a&&a,u=t.useState(null),s=(0,m.Z)(u,2),l=s[0],f=s[1],d=(0,Ue.Z)(t.isValidElement(r)?r.ref:null,n);if((0,qe.Z)((function(){o||f(function(e){return"function"===typeof e?e():e}(i)||document.body)}),[i,o]),(0,qe.Z)((function(){if(l&&!o)return(0,Qn.Z)(n,l),function(){(0,Qn.Z)(n,null)}}),[n,l,o]),o){if(t.isValidElement(r)){var h={ref:d};return t.cloneElement(r,h)}return(0,c.jsx)(t.Fragment,{children:r})}return(0,c.jsx)(t.Fragment,{children:l?Ve.createPortal(r,l):l})}));function Xn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Yn=n(9142);function Jn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(0,Yn.Z)(r.key),r)}}function er(e,t,n){return t&&Jn(e.prototype,t),n&&Jn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function tr(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function nr(e){return parseInt((0,ze.Z)(e).getComputedStyle(e).paddingRight,10)||0}function rr(e,t,n,r,i){var a=[t,n].concat((0,re.Z)(r));[].forEach.call(e.children,(function(e){var t=-1===a.indexOf(e),n=!function(e){var t=-1!==["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName),n="INPUT"===e.tagName&&"hidden"===e.getAttribute("type");return t||n}(e);t&&n&&tr(e,i)}))}function ir(e,t){var n=-1;return e.some((function(e,r){return!!t(e)&&(n=r,!0)})),n}function ar(e,t){var n=[],r=e.container;if(!t.disableScrollLock){if(function(e){var t=(0,Kn.Z)(e);return t.body===e?(0,ze.Z)(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(r)){var i=vn((0,Kn.Z)(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight="".concat(nr(r)+i,"px");var a=(0,Kn.Z)(r).querySelectorAll(".mui-fixed");[].forEach.call(a,(function(e){n.push({value:e.style.paddingRight,property:"padding-right",el:e}),e.style.paddingRight="".concat(nr(e)+i,"px")}))}var o;if(r.parentNode instanceof DocumentFragment)o=(0,Kn.Z)(r).body;else{var u=r.parentElement,s=(0,ze.Z)(r);o="HTML"===(null==u?void 0:u.nodeName)&&"scroll"===s.getComputedStyle(u).overflowY?u:r}n.push({value:o.style.overflow,property:"overflow",el:o},{value:o.style.overflowX,property:"overflow-x",el:o},{value:o.style.overflowY,property:"overflow-y",el:o}),o.style.overflow="hidden"}return function(){n.forEach((function(e){var t=e.value,n=e.el,r=e.property;t?n.style.setProperty(r,t):n.style.removeProperty(r)}))}}var or=function(){function e(){Xn(this,e),this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}return er(e,[{key:"add",value:function(e,t){var n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&tr(e.modalRef,!1);var r=function(e){var t=[];return[].forEach.call(e.children,(function(e){"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);rr(t,e.mount,e.modalRef,r,!0);var i=ir(this.containers,(function(e){return e.container===t}));return-1!==i?(this.containers[i].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:r}),n)}},{key:"mount",value:function(e,t){var n=ir(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];r.restore||(r.restore=ar(r,t))}},{key:"remove",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.modals.indexOf(e);if(-1===n)return n;var r=ir(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),i=this.containers[r];if(i.modals.splice(i.modals.indexOf(e),1),this.modals.splice(n,1),0===i.modals.length)i.restore&&i.restore(),e.modalRef&&tr(e.modalRef,t),rr(i.container,e.mount,e.modalRef,i.hiddenSiblings,!1),this.containers.splice(r,1);else{var a=i.modals[i.modals.length-1];a.modalRef&&tr(a.modalRef,!1)}return n}},{key:"isTopModal",value:function(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}]),e}(),ur=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function sr(e){var t=[],n=[];return Array.from(e.querySelectorAll(ur)).forEach((function(e,r){var i=function(e){var t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?"true"===e.contentEditable||("AUDIO"===e.nodeName||"VIDEO"===e.nodeName||"DETAILS"===e.nodeName)&&null===e.getAttribute("tabindex")?0:e.tabIndex:t}(e);-1!==i&&function(e){return!(e.disabled||"INPUT"===e.tagName&&"hidden"===e.type||function(e){if("INPUT"!==e.tagName||"radio"!==e.type)return!1;if(!e.name)return!1;var t=function(t){return e.ownerDocument.querySelector('input[type="radio"]'.concat(t))},n=t('[name="'.concat(e.name,'"]:checked'));return n||(n=t('[name="'.concat(e.name,'"]'))),n!==e}(e))}(e)&&(0===i?t.push(e):n.push({documentOrder:r,tabIndex:i,node:e}))})),n.sort((function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex})).map((function(e){return e.node})).concat(t)}function cr(){return!0}var lr=function(e){var n=e.children,r=e.disableAutoFocus,i=void 0!==r&&r,a=e.disableEnforceFocus,o=void 0!==a&&a,u=e.disableRestoreFocus,s=void 0!==u&&u,l=e.getTabbable,f=void 0===l?sr:l,d=e.isEnabled,h=void 0===d?cr:d,p=e.open,v=t.useRef(!1),m=t.useRef(null),y=t.useRef(null),g=t.useRef(null),b=t.useRef(null),k=t.useRef(!1),w=t.useRef(null),x=(0,Ue.Z)(n.ref,w),S=t.useRef(null);t.useEffect((function(){p&&w.current&&(k.current=!i)}),[i,p]),t.useEffect((function(){if(p&&w.current){var e=(0,Kn.Z)(w.current);return w.current.contains(e.activeElement)||(w.current.hasAttribute("tabIndex")||w.current.setAttribute("tabIndex","-1"),k.current&&w.current.focus()),function(){s||(g.current&&g.current.focus&&(v.current=!0,g.current.focus()),g.current=null)}}}),[p]),t.useEffect((function(){if(p&&w.current){var e=(0,Kn.Z)(w.current),t=function(t){var n=w.current;if(null!==n)if(e.hasFocus()&&!o&&h()&&!v.current){if(!n.contains(e.activeElement)){if(t&&b.current!==t.target||e.activeElement!==b.current)b.current=null;else if(null!==b.current)return;if(!k.current)return;var r=[];if(e.activeElement!==m.current&&e.activeElement!==y.current||(r=f(w.current)),r.length>0){var i,a,u=Boolean((null==(i=S.current)?void 0:i.shiftKey)&&"Tab"===(null==(a=S.current)?void 0:a.key)),s=r[0],c=r[r.length-1];"string"!==typeof s&&"string"!==typeof c&&(u?c.focus():s.focus())}else n.focus()}}else v.current=!1},n=function(t){S.current=t,!o&&h()&&"Tab"===t.key&&e.activeElement===w.current&&t.shiftKey&&(v.current=!0,y.current&&y.current.focus())};e.addEventListener("focusin",t),e.addEventListener("keydown",n,!0);var r=setInterval((function(){e.activeElement&&"BODY"===e.activeElement.tagName&&t(null)}),50);return function(){clearInterval(r),e.removeEventListener("focusin",t),e.removeEventListener("keydown",n,!0)}}}),[i,o,s,h,p,f]);var I=function(e){null===g.current&&(g.current=e.relatedTarget),k.current=!0};return(0,c.jsxs)(t.Fragment,{children:[(0,c.jsx)("div",{tabIndex:p?0:-1,onFocus:I,ref:m,"data-testid":"sentinelStart"}),t.cloneElement(n,{ref:x,onFocus:function(e){null===g.current&&(g.current=e.relatedTarget),k.current=!0,b.current=e.target;var t=n.props.onFocus;t&&t(e)}}),(0,c.jsx)("div",{tabIndex:p?0:-1,onFocus:I,ref:y,"data-testid":"sentinelEnd"})]})};function fr(e){return(0,B.Z)("MuiModal",e)}(0,z.Z)("MuiModal",["root","hidden","backdrop"]);function dr(e){if(void 0===e)return{};var t={};return Object.keys(e).filter((function(t){return!(t.match(/^on[A-Z]/)&&"function"===typeof e[t])})).forEach((function(n){t[n]=e[n]})),t}function hr(e){var t=e.getSlotProps,n=e.additionalProps,r=e.externalSlotProps,i=e.externalForwardedProps,o=e.className;if(!t){var u=(0,F.Z)(null==i?void 0:i.className,null==r?void 0:r.className,o,null==n?void 0:n.className),s=(0,a.Z)({},null==n?void 0:n.style,null==i?void 0:i.style,null==r?void 0:r.style),c=(0,a.Z)({},n,i,r);return u.length>0&&(c.className=u),Object.keys(s).length>0&&(c.style=s),{props:c,internalRef:void 0}}var l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(void 0===e)return{};var n={};return Object.keys(e).filter((function(n){return n.match(/^on[A-Z]/)&&"function"===typeof e[n]&&!t.includes(n)})).forEach((function(t){n[t]=e[t]})),n}((0,a.Z)({},i,r)),f=dr(r),d=dr(i),h=t(l),p=(0,F.Z)(null==h?void 0:h.className,null==n?void 0:n.className,o,null==i?void 0:i.className,null==r?void 0:r.className),v=(0,a.Z)({},null==h?void 0:h.style,null==n?void 0:n.style,null==i?void 0:i.style,null==r?void 0:r.style),m=(0,a.Z)({},h,n,d,f);return p.length>0&&(m.className=p),Object.keys(v).length>0&&(m.style=v),{props:m,internalRef:h.ref}}function pr(e,t){return"function"===typeof e?e(t):e}var vr=["elementType","externalSlotProps","ownerState"];function mr(e){var t,n=e.elementType,r=e.externalSlotProps,i=e.ownerState,o=(0,L.Z)(e,vr),u=pr(r,i),s=hr((0,a.Z)({},o,{externalSlotProps:u})),c=s.props,l=s.internalRef,f=(0,Ue.Z)(l,null==u?void 0:u.ref,null==(t=e.additionalProps)?void 0:t.ref),d=function(e,t,n){return void 0===e||Xe(e)?t:(0,a.Z)({},t,{ownerState:(0,a.Z)({},t.ownerState,n)})}(n,(0,a.Z)({},c,{ref:f}),i);return d}var yr={disableDefaultClasses:!1},gr=t.createContext(yr);var br=["children","closeAfterTransition","component","container","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onKeyDown","open","onTransitionEnter","onTransitionExited","slotProps","slots"],kr=function(e){var n=e.open,r=e.exited,i={root:["root",!n&&r&&"hidden"],backdrop:["backdrop"]};return(0,Z.Z)(i,function(e){var n=t.useContext(gr).disableDefaultClasses;return function(t){return n?"":e(t)}}(fr))};var wr=new or,xr=t.forwardRef((function(e,n){var r,i,o=e.children,u=e.closeAfterTransition,s=void 0!==u&&u,l=e.component,f=e.container,d=e.disableAutoFocus,h=void 0!==d&&d,p=e.disableEnforceFocus,v=void 0!==p&&p,y=e.disableEscapeKeyDown,g=void 0!==y&&y,b=e.disablePortal,k=void 0!==b&&b,w=e.disableRestoreFocus,x=void 0!==w&&w,S=e.disableScrollLock,I=void 0!==S&&S,E=e.hideBackdrop,_=void 0!==E&&E,T=e.keepMounted,C=void 0!==T&&T,A=e.manager,N=void 0===A?wr:A,R=e.onBackdropClick,P=e.onClose,O=e.onKeyDown,D=e.open,M=e.onTransitionEnter,F=e.onTransitionExited,Z=e.slotProps,j=void 0===Z?{}:Z,V=e.slots,U=void 0===V?{}:V,z=(0,L.Z)(e,br),B=t.useState(!D),q=(0,m.Z)(B,2),W=q[0],K=q[1],G=t.useRef({}),H=t.useRef(null),Q=t.useRef(null),$=(0,Ue.Z)(Q,n),X=function(e){return!!e&&e.props.hasOwnProperty("in")}(o),Y=null==(r=e["aria-hidden"])||r,J=function(){return G.current.modalRef=Q.current,G.current.mountNode=H.current,G.current},ee=function(){N.mount(J(),{disableScrollLock:I}),Q.current&&(Q.current.scrollTop=0)},te=(0,Gn.Z)((function(){var e=function(e){return"function"===typeof e?e():e}(f)||(0,Kn.Z)(H.current).body;N.add(J(),e),Q.current&&ee()})),ne=t.useCallback((function(){return N.isTopModal(J())}),[N]),re=(0,Gn.Z)((function(e){H.current=e,e&&Q.current&&(D&&ne()?ee():tr(Q.current,Y))})),ie=t.useCallback((function(){N.remove(J(),Y)}),[N,Y]);t.useEffect((function(){return function(){ie()}}),[ie]),t.useEffect((function(){D?te():X&&s||ie()}),[D,ie,X,s,te]);var ae=(0,a.Z)({},e,{closeAfterTransition:s,disableAutoFocus:h,disableEnforceFocus:v,disableEscapeKeyDown:g,disablePortal:k,disableRestoreFocus:x,disableScrollLock:I,exited:W,hideBackdrop:_,keepMounted:C}),oe=kr(ae),ue={};void 0===o.props.tabIndex&&(ue.tabIndex="-1"),X&&(ue.onEnter=(0,Hn.Z)((function(){K(!1),M&&M()}),o.props.onEnter),ue.onExited=(0,Hn.Z)((function(){K(!0),F&&F(),s&&ie()}),o.props.onExited));var se=null!=(i=null!=l?l:U.root)?i:"div",ce=mr({elementType:se,externalSlotProps:j.root,externalForwardedProps:z,additionalProps:{ref:$,role:"presentation",onKeyDown:function(e){O&&O(e),"Escape"===e.key&&ne()&&(g||(e.stopPropagation(),P&&P(e,"escapeKeyDown")))}},className:oe.root,ownerState:ae}),le=U.backdrop,fe=mr({elementType:le,externalSlotProps:j.backdrop,additionalProps:{"aria-hidden":!0,onClick:function(e){e.target===e.currentTarget&&(R&&R(e),P&&P(e,"backdropClick"))},open:D},className:oe.backdrop,ownerState:ae});return C||D||X&&!W?(0,c.jsx)($n,{ref:re,container:f,disablePortal:k,children:(0,c.jsxs)(se,(0,a.Z)({},ce,{children:[!_&&le?(0,c.jsx)(le,(0,a.Z)({},fe)):null,(0,c.jsx)(lr,{disableEnforceFocus:v,disableAutoFocus:h,disableRestoreFocus:x,isEnabled:ne,open:D,children:t.cloneElement(o,ue)})]}))}):null})),Sr=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],Ir={entering:{opacity:1},entered:{opacity:1}},Er=t.forwardRef((function(e,n){var r=fe(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},o=e.addEndListener,u=e.appear,s=void 0===u||u,l=e.children,f=e.easing,d=e.in,h=e.onEnter,p=e.onEntered,v=e.onEntering,m=e.onExit,y=e.onExited,g=e.onExiting,b=e.style,k=e.timeout,w=void 0===k?i:k,x=e.TransitionComponent,S=void 0===x?Fn:x,I=(0,L.Z)(e,Sr),E=t.useRef(null),_=(0,tt.Z)(E,l.ref,n),T=function(e){return function(t){if(e){var n=E.current;void 0===t?e(n):e(n,t)}}},C=T(v),A=T((function(e,t){Zn(e);var n=jn({style:b,timeout:w,easing:f},{mode:"enter"});e.style.webkitTransition=r.transitions.create("opacity",n),e.style.transition=r.transitions.create("opacity",n),h&&h(e,t)})),N=T(p),R=T(g),P=T((function(e){var t=jn({style:b,timeout:w,easing:f},{mode:"exit"});e.style.webkitTransition=r.transitions.create("opacity",t),e.style.transition=r.transitions.create("opacity",t),m&&m(e)})),O=T(y);return(0,c.jsx)(S,(0,a.Z)({appear:s,in:d,nodeRef:E,onEnter:A,onEntered:N,onEntering:C,onExit:P,onExited:O,onExiting:R,addEndListener:function(e){o&&o(E.current,e)},timeout:w},I,{children:function(e,n){return t.cloneElement(l,(0,a.Z)({style:(0,a.Z)({opacity:0,visibility:"exited"!==e||d?void 0:"hidden"},Ir[e],b,l.props.style),ref:_},n))}}))})),_r=Er;function Tr(e){return(0,B.Z)("MuiBackdrop",e)}(0,z.Z)("MuiBackdrop",["root","invisible"]);var Cr=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],Ar=(0,j.ZP)("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.invisible&&t.invisible]}})((function(e){var t=e.ownerState;return(0,a.Z)({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})})),Nr=t.forwardRef((function(e,t){var n,r,i,o=(0,y.Z)({props:e,name:"MuiBackdrop"}),u=o.children,s=o.className,l=o.component,f=void 0===l?"div":l,d=o.components,h=void 0===d?{}:d,p=o.componentsProps,v=void 0===p?{}:p,m=o.invisible,g=void 0!==m&&m,b=o.open,k=o.slotProps,w=void 0===k?{}:k,x=o.slots,S=void 0===x?{}:x,I=o.TransitionComponent,E=void 0===I?_r:I,_=o.transitionDuration,T=(0,L.Z)(o,Cr),C=(0,a.Z)({},o,{component:f,invisible:g}),A=function(e){var t=e.classes,n={root:["root",e.invisible&&"invisible"]};return(0,Z.Z)(n,Tr,t)}(C),N=null!=(n=w.root)?n:v.root;return(0,c.jsx)(E,(0,a.Z)({in:b,timeout:_},T,{children:(0,c.jsx)(Ar,(0,a.Z)({"aria-hidden":!0},N,{as:null!=(r=null!=(i=S.root)?i:h.Root)?r:f,className:(0,F.Z)(A.root,s,null==N?void 0:N.className),ownerState:(0,a.Z)({},C,null==N?void 0:N.ownerState),classes:A,ref:t,children:u}))}))})),Rr=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","slotProps","slots","theme"],Pr=(0,j.ZP)("div",{name:"MuiModal",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,!n.open&&n.exited&&t.hidden]}})((function(e){var t=e.theme,n=e.ownerState;return(0,a.Z)({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!n.open&&n.exited&&{visibility:"hidden"})})),Or=(0,j.ZP)(Nr,{name:"MuiModal",slot:"Backdrop",overridesResolver:function(e,t){return t.backdrop}})({zIndex:-1}),Dr=t.forwardRef((function(e,n){var r,i,o,u,s,l,f=(0,y.Z)({name:"MuiModal",props:e}),d=f.BackdropComponent,h=void 0===d?Or:d,p=f.BackdropProps,v=f.classes,g=f.className,b=f.closeAfterTransition,k=void 0!==b&&b,w=f.children,x=f.component,S=f.components,I=void 0===S?{}:S,E=f.componentsProps,_=void 0===E?{}:E,T=f.disableAutoFocus,C=void 0!==T&&T,A=f.disableEnforceFocus,N=void 0!==A&&A,R=f.disableEscapeKeyDown,P=void 0!==R&&R,O=f.disablePortal,D=void 0!==O&&O,M=f.disableRestoreFocus,Z=void 0!==M&&M,j=f.disableScrollLock,V=void 0!==j&&j,U=f.hideBackdrop,z=void 0!==U&&U,B=f.keepMounted,q=void 0!==B&&B,W=f.slotProps,K=f.slots,G=f.theme,H=(0,L.Z)(f,Rr),Q=t.useState(!0),$=(0,m.Z)(Q,2),X=$[0],Y=$[1],J={closeAfterTransition:k,disableAutoFocus:C,disableEnforceFocus:N,disableEscapeKeyDown:P,disablePortal:D,disableRestoreFocus:Z,disableScrollLock:V,hideBackdrop:z,keepMounted:q},ee=(0,a.Z)({},f,J,{exited:X}),te=null!=(r=null!=(i=null==K?void 0:K.root)?i:I.Root)?r:Pr,ne=null!=(o=null!=(u=null==K?void 0:K.backdrop)?u:I.Backdrop)?o:h,re=null!=(s=null==W?void 0:W.root)?s:_.root,ie=null!=(l=null==W?void 0:W.backdrop)?l:_.backdrop;return(0,c.jsx)(xr,(0,a.Z)({slots:{root:te,backdrop:ne},slotProps:{root:function(){return(0,a.Z)({},pr(re,ee),!Xe(te)&&{as:x,theme:G},{className:(0,F.Z)(g,null==re?void 0:re.className,null==v?void 0:v.root,!ee.open&&ee.exited&&(null==v?void 0:v.hidden))})},backdrop:function(){return(0,a.Z)({},p,pr(ie,ee),{className:(0,F.Z)(null==ie?void 0:ie.className,null==v?void 0:v.backdrop)})}},onTransitionEnter:function(){return Y(!1)},onTransitionExited:function(){return Y(!0)},ref:n},H,J,{children:w}))})),Mr=Dr;function Lr(e){return(0,B.Z)("MuiPopover",e)}(0,z.Z)("MuiPopover",["root","paper"]);var Fr=["onEntering"],Zr=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"];function jr(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function Vr(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function Ur(e){return[e.horizontal,e.vertical].map((function(e){return"number"===typeof e?"".concat(e,"px"):e})).join(" ")}function zr(e){return"function"===typeof e?e():e}var Br=(0,j.ZP)(Mr,{name:"MuiPopover",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),qr=(0,j.ZP)(H,{name:"MuiPopover",slot:"Paper",overridesResolver:function(e,t){return t.paper}})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Wr=t.forwardRef((function(e,n){var r=(0,y.Z)({props:e,name:"MuiPopover"}),i=r.action,o=r.anchorEl,u=r.anchorOrigin,s=void 0===u?{vertical:"top",horizontal:"left"}:u,l=r.anchorPosition,f=r.anchorReference,d=void 0===f?"anchorEl":f,h=r.children,p=r.className,v=r.container,g=r.elevation,b=void 0===g?8:g,k=r.marginThreshold,w=void 0===k?16:k,x=r.open,S=r.PaperProps,I=void 0===S?{}:S,E=r.transformOrigin,_=void 0===E?{vertical:"top",horizontal:"left"}:E,T=r.TransitionComponent,C=void 0===T?Wn:T,A=r.transitionDuration,N=void 0===A?"auto":A,R=r.TransitionProps,P=(void 0===R?{}:R).onEntering,O=(0,L.Z)(r.TransitionProps,Fr),D=(0,L.Z)(r,Zr),M=t.useRef(),j=(0,tt.Z)(M,I.ref),V=(0,a.Z)({},r,{anchorOrigin:s,anchorReference:d,elevation:b,marginThreshold:w,PaperProps:I,transformOrigin:_,TransitionComponent:C,transitionDuration:N,TransitionProps:O}),U=function(e){var t=e.classes;return(0,Z.Z)({root:["root"],paper:["paper"]},Lr,t)}(V),z=t.useCallback((function(){if("anchorPosition"===d)return l;var e=zr(o),t=(e&&1===e.nodeType?e:(0,cn.Z)(M.current).body).getBoundingClientRect();return{top:t.top+jr(t,s.vertical),left:t.left+Vr(t,s.horizontal)}}),[o,s.horizontal,s.vertical,l,d]),B=t.useCallback((function(e){return{vertical:jr(e,_.vertical),horizontal:Vr(e,_.horizontal)}}),[_.horizontal,_.vertical]),q=t.useCallback((function(e){var t={width:e.offsetWidth,height:e.offsetHeight},n=B(t);if("none"===d)return{top:null,left:null,transformOrigin:Ur(n)};var r=z(),i=r.top-n.vertical,a=r.left-n.horizontal,u=i+t.height,s=a+t.width,c=(0,En.Z)(zr(o)),l=c.innerHeight-w,f=c.innerWidth-w;if(i<w){var h=i-w;i-=h,n.vertical+=h}else if(u>l){var p=u-l;i-=p,n.vertical+=p}if(a<w){var v=a-w;a-=v,n.horizontal+=v}else if(s>f){var m=s-f;a-=m,n.horizontal+=m}return{top:"".concat(Math.round(i),"px"),left:"".concat(Math.round(a),"px"),transformOrigin:Ur(n)}}),[o,d,z,B,w]),W=t.useState(x),K=(0,m.Z)(W,2),G=K[0],H=K[1],Q=t.useCallback((function(){var e=M.current;if(e){var t=q(e);null!==t.top&&(e.style.top=t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin,H(!0)}}),[q]);t.useEffect((function(){x&&Q()})),t.useImperativeHandle(i,(function(){return x?{updatePosition:function(){Q()}}:null}),[x,Q]),t.useEffect((function(){if(x){var e=(0,In.Z)((function(){Q()})),t=(0,En.Z)(o);return t.addEventListener("resize",e),function(){e.clear(),t.removeEventListener("resize",e)}}}),[o,x,Q]);var $=N;"auto"!==N||C.muiSupportAuto||($=void 0);var X=v||(o?(0,cn.Z)(zr(o)).body:void 0);return(0,c.jsx)(Br,(0,a.Z)({BackdropProps:{invisible:!0},className:(0,F.Z)(U.root,p),container:X,open:x,ref:n,ownerState:V},D,{children:(0,c.jsx)(C,(0,a.Z)({appear:!0,in:x,onEntering:function(e,t){P&&P(e,t),Q()},onExited:function(){H(!1)},timeout:$},O,{children:(0,c.jsx)(qr,(0,a.Z)({elevation:b},I,{ref:j,className:(0,F.Z)(U.paper,I.className)},G?void 0:{style:(0,a.Z)({},I.style,{opacity:0})},{ownerState:V,children:h}))}))}))}));function Kr(e){return(0,B.Z)("MuiMenu",e)}(0,z.Z)("MuiMenu",["root","paper","list"]);var Gr=["onEntering"],Hr=["autoFocus","children","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant"],Qr={vertical:"top",horizontal:"right"},$r={vertical:"top",horizontal:"left"},Xr=(0,j.ZP)(Wr,{shouldForwardProp:function(e){return(0,j.FO)(e)||"classes"===e},name:"MuiMenu",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),Yr=(0,j.ZP)(H,{name:"MuiMenu",slot:"Paper",overridesResolver:function(e,t){return t.paper}})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),Jr=(0,j.ZP)(Sn,{name:"MuiMenu",slot:"List",overridesResolver:function(e,t){return t.list}})({outline:0}),ei=t.forwardRef((function(e,n){var r=(0,y.Z)({props:e,name:"MuiMenu"}),i=r.autoFocus,o=void 0===i||i,u=r.children,s=r.disableAutoFocusItem,l=void 0!==s&&s,f=r.MenuListProps,d=void 0===f?{}:f,h=r.onClose,p=r.open,v=r.PaperProps,m=void 0===v?{}:v,g=r.PopoverClasses,b=r.transitionDuration,k=void 0===b?"auto":b,w=r.TransitionProps,x=(void 0===w?{}:w).onEntering,S=r.variant,I=void 0===S?"selectedMenu":S,E=(0,L.Z)(r.TransitionProps,Gr),_=(0,L.Z)(r,Hr),T=fe(),C="rtl"===T.direction,A=(0,a.Z)({},r,{autoFocus:o,disableAutoFocusItem:l,MenuListProps:d,onEntering:x,PaperProps:m,transitionDuration:k,TransitionProps:E,variant:I}),N=function(e){var t=e.classes;return(0,Z.Z)({root:["root"],paper:["paper"],list:["list"]},Kr,t)}(A),R=o&&!l&&p,P=t.useRef(null),O=-1;return t.Children.map(u,(function(e,n){t.isValidElement(e)&&(e.props.disabled||("selectedMenu"===I&&e.props.selected||-1===O)&&(O=n))})),(0,c.jsx)(Xr,(0,a.Z)({onClose:h,anchorOrigin:{vertical:"bottom",horizontal:C?"right":"left"},transformOrigin:C?Qr:$r,PaperProps:(0,a.Z)({as:Yr},m,{classes:(0,a.Z)({},m.classes,{root:N.paper})}),className:N.root,open:p,ref:n,transitionDuration:k,TransitionProps:(0,a.Z)({onEntering:function(e,t){P.current&&P.current.adjustStyleForScrollbar(e,T),x&&x(e,t)}},E),ownerState:A},_,{classes:g,children:(0,c.jsx)(Jr,(0,a.Z)({onKeyDown:function(e){"Tab"===e.key&&(e.preventDefault(),h&&h(e,"tabKeyDown"))},actions:P,autoFocus:o&&(-1===O||l),autoFocusItem:R,variant:I},d,{className:(0,F.Z)(N.list,d.className),children:u}))}))})),ti=ei;function ni(e){return(0,B.Z)("MuiNativeSelect",e)}var ri=(0,z.Z)("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput"]),ii=["className","disabled","IconComponent","inputRef","variant"],ai=function(e){var t,n=e.ownerState,r=e.theme;return(0,a.Z)((t={MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":(0,a.Z)({},r.vars?{backgroundColor:"rgba(".concat(r.vars.palette.common.onBackgroundChannel," / 0.05)")}:{backgroundColor:"light"===r.palette.mode?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"}},(0,ie.Z)(t,"&.".concat(ri.disabled),{cursor:"default"}),(0,ie.Z)(t,"&[multiple]",{height:"auto"}),(0,ie.Z)(t,"&:not([multiple]) option, &:not([multiple]) optgroup",{backgroundColor:(r.vars||r).palette.background.paper}),(0,ie.Z)(t,"&&&",{paddingRight:24,minWidth:16}),t),"filled"===n.variant&&{"&&&":{paddingRight:32}},"outlined"===n.variant&&{borderRadius:(r.vars||r).shape.borderRadius,"&:focus":{borderRadius:(r.vars||r).shape.borderRadius},"&&&":{paddingRight:32}})},oi=(0,j.ZP)("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:j.FO,overridesResolver:function(e,t){var n=e.ownerState;return[t.select,t[n.variant],(0,ie.Z)({},"&.".concat(ri.multiple),t.multiple)]}})(ai),ui=function(e){var t=e.ownerState,n=e.theme;return(0,a.Z)((0,ie.Z)({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(n.vars||n).palette.action.active},"&.".concat(ri.disabled),{color:(n.vars||n).palette.action.disabled}),t.open&&{transform:"rotate(180deg)"},"filled"===t.variant&&{right:7},"outlined"===t.variant&&{right:7})},si=(0,j.ZP)("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:function(e,t){var n=e.ownerState;return[t.icon,n.variant&&t["icon".concat((0,Se.Z)(n.variant))],n.open&&t.iconOpen]}})(ui),ci=t.forwardRef((function(e,n){var r=e.className,i=e.disabled,o=e.IconComponent,u=e.inputRef,s=e.variant,l=void 0===s?"standard":s,f=(0,L.Z)(e,ii),d=(0,a.Z)({},e,{disabled:i,variant:l}),h=function(e){var t=e.classes,n=e.variant,r=e.disabled,i=e.multiple,a=e.open,o={select:["select",n,r&&"disabled",i&&"multiple"],icon:["icon","icon".concat((0,Se.Z)(n)),a&&"iconOpen",r&&"disabled"]};return(0,Z.Z)(o,ni,t)}(d);return(0,c.jsxs)(t.Fragment,{children:[(0,c.jsx)(oi,(0,a.Z)({ownerState:d,className:(0,F.Z)(h.select,r),disabled:i,ref:u||n},f)),e.multiple?null:(0,c.jsx)(si,{as:o,ownerState:d,className:h.icon})]})})),li=ci,fi=n(522);function di(e){return(0,B.Z)("MuiSelect",e)}var hi,pi=(0,z.Z)("MuiSelect",["select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput"]),vi=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],mi=(0,j.ZP)("div",{name:"MuiSelect",slot:"Select",overridesResolver:function(e,t){var n=e.ownerState;return[(0,ie.Z)({},"&.".concat(pi.select),t.select),(0,ie.Z)({},"&.".concat(pi.select),t[n.variant]),(0,ie.Z)({},"&.".concat(pi.multiple),t.multiple)]}})(ai,(0,ie.Z)({},"&.".concat(pi.select),{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"})),yi=(0,j.ZP)("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:function(e,t){var n=e.ownerState;return[t.icon,n.variant&&t["icon".concat((0,Se.Z)(n.variant))],n.open&&t.iconOpen]}})(ui),gi=(0,j.ZP)("input",{shouldForwardProp:function(e){return(0,j.Dz)(e)&&"classes"!==e},name:"MuiSelect",slot:"NativeInput",overridesResolver:function(e,t){return t.nativeInput}})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function bi(e,t){return"object"===typeof t&&null!==t?e===t:String(e)===String(t)}function ki(e){return null==e||"string"===typeof e&&!e.trim()}var wi,xi,Si=t.forwardRef((function(e,n){var r=e["aria-describedby"],i=e["aria-label"],o=e.autoFocus,u=e.autoWidth,s=e.children,l=e.className,f=e.defaultOpen,d=e.defaultValue,h=e.disabled,p=e.displayEmpty,v=e.IconComponent,y=e.inputRef,g=e.labelId,b=e.MenuProps,k=void 0===b?{}:b,w=e.multiple,x=e.name,S=e.onBlur,I=e.onChange,E=e.onClose,_=e.onFocus,T=e.onOpen,C=e.open,A=e.readOnly,N=e.renderValue,R=e.SelectDisplayProps,P=void 0===R?{}:R,O=e.tabIndex,D=e.value,M=e.variant,j=void 0===M?"standard":M,V=(0,L.Z)(e,vi),U=(0,fi.Z)({controlled:D,default:d,name:"Select"}),z=(0,m.Z)(U,2),B=z[0],q=z[1],W=(0,fi.Z)({controlled:C,default:f,name:"Select"}),K=(0,m.Z)(W,2),G=K[0],H=K[1],Q=t.useRef(null),$=t.useRef(null),X=t.useState(null),Y=(0,m.Z)(X,2),J=Y[0],ee=Y[1],te=t.useRef(null!=C).current,ne=t.useState(),re=(0,m.Z)(ne,2),ie=re[0],ae=re[1],oe=(0,tt.Z)(n,y),ue=t.useCallback((function(e){$.current=e,e&&ee(e)}),[]),se=null==J?void 0:J.parentNode;t.useImperativeHandle(oe,(function(){return{focus:function(){$.current.focus()},node:Q.current,value:B}}),[B]),t.useEffect((function(){f&&G&&J&&!te&&(ae(u?null:se.clientWidth),$.current.focus())}),[J,u]),t.useEffect((function(){o&&$.current.focus()}),[o]),t.useEffect((function(){if(g){var e=(0,cn.Z)($.current).getElementById(g);if(e){var t=function(){getSelection().isCollapsed&&$.current.focus()};return e.addEventListener("click",t),function(){e.removeEventListener("click",t)}}}}),[g]);var ce,le,fe=function(e,t){e?T&&T(t):E&&E(t),te||(ae(u?null:se.clientWidth),H(e))},de=t.Children.toArray(s),he=function(e){return function(t){var n;if(t.currentTarget.hasAttribute("tabindex")){if(w){n=Array.isArray(B)?B.slice():[];var r=B.indexOf(e.props.value);-1===r?n.push(e.props.value):n.splice(r,1)}else n=e.props.value;if(e.props.onClick&&e.props.onClick(t),B!==n&&(q(n),I)){var i=t.nativeEvent||t,a=new i.constructor(i.type,i);Object.defineProperty(a,"target",{writable:!0,value:{value:n,name:x}}),I(a,e)}w||fe(!1,t)}}},pe=null!==J&&G;delete V["aria-invalid"];var ve=[],me=!1;(rt({value:B})||p)&&(N?ce=N(B):me=!0);var ye=de.map((function(e){if(!t.isValidElement(e))return null;var n;if(w){if(!Array.isArray(B))throw new Error((0,je.Z)(2));n=B.some((function(t){return bi(t,e.props.value)})),n&&me&&ve.push(e.props.children)}else(n=bi(B,e.props.value))&&me&&(le=e.props.children);return n&&!0,t.cloneElement(e,{"aria-selected":n?"true":"false",onClick:he(e),onKeyUp:function(t){" "===t.key&&t.preventDefault(),e.props.onKeyUp&&e.props.onKeyUp(t)},role:"option",selected:n,value:void 0,"data-value":e.props.value})}));me&&(ce=w?0===ve.length?null:ve.reduce((function(e,t,n){return e.push(t),n<ve.length-1&&e.push(", "),e}),[]):le);var ge,be=ie;!u&&te&&J&&(be=se.clientWidth),ge="undefined"!==typeof O?O:h?null:0;var ke=P.id||(x?"mui-component-select-".concat(x):void 0),we=(0,a.Z)({},e,{variant:j,value:B,open:pe}),xe=function(e){var t=e.classes,n=e.variant,r=e.disabled,i=e.multiple,a=e.open,o={select:["select",n,r&&"disabled",i&&"multiple"],icon:["icon","icon".concat((0,Se.Z)(n)),a&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return(0,Z.Z)(o,di,t)}(we);return(0,c.jsxs)(t.Fragment,{children:[(0,c.jsx)(mi,(0,a.Z)({ref:ue,tabIndex:ge,role:"button","aria-disabled":h?"true":void 0,"aria-expanded":pe?"true":"false","aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[g,ke].filter(Boolean).join(" ")||void 0,"aria-describedby":r,onKeyDown:function(e){if(!A){-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(e.key)&&(e.preventDefault(),fe(!0,e))}},onMouseDown:h||A?null:function(e){0===e.button&&(e.preventDefault(),$.current.focus(),fe(!0,e))},onBlur:function(e){!pe&&S&&(Object.defineProperty(e,"target",{writable:!0,value:{value:B,name:x}}),S(e))},onFocus:_},P,{ownerState:we,className:(0,F.Z)(P.className,xe.select,l),id:ke,children:ki(ce)?hi||(hi=(0,c.jsx)("span",{className:"notranslate",children:"\u200b"})):ce})),(0,c.jsx)(gi,(0,a.Z)({value:Array.isArray(B)?B.join(","):B,name:x,ref:Q,"aria-hidden":!0,onChange:function(e){var t=de.map((function(e){return e.props.value})).indexOf(e.target.value);if(-1!==t){var n=de[t];q(n.props.value),I&&I(e,n)}},tabIndex:-1,disabled:h,className:xe.nativeInput,autoFocus:o,ownerState:we},V)),(0,c.jsx)(yi,{as:v,className:xe.icon,ownerState:we}),(0,c.jsx)(ti,(0,a.Z)({id:"menu-".concat(x||""),anchorEl:se,open:pe,onClose:function(e){fe(!1,e)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},k,{MenuListProps:(0,a.Z)({"aria-labelledby":g,role:"listbox",disableListWrap:!0},k.MenuListProps),PaperProps:(0,a.Z)({},k.PaperProps,{style:(0,a.Z)({minWidth:be},null!=k.PaperProps?k.PaperProps.style:null)}),children:ye}))]})})),Ii=Si,Ei=(0,n(1171).Z)((0,c.jsx)("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),_i=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],Ti={name:"MuiSelect",overridesResolver:function(e,t){return t.root},shouldForwardProp:function(e){return(0,j.FO)(e)&&"variant"!==e},slot:"Root"},Ci=(0,j.ZP)(kt,Ti)(""),Ai=(0,j.ZP)(jt,Ti)(""),Ni=(0,j.ZP)(Ct,Ti)(""),Ri=t.forwardRef((function(e,n){var r=(0,y.Z)({name:"MuiSelect",props:e}),i=r.autoWidth,o=void 0!==i&&i,u=r.children,s=r.classes,l=void 0===s?{}:s,f=r.className,d=r.defaultOpen,h=void 0!==d&&d,p=r.displayEmpty,v=void 0!==p&&p,m=r.IconComponent,g=void 0===m?Ei:m,b=r.id,k=r.input,w=r.inputProps,x=r.label,S=r.labelId,I=r.MenuProps,E=r.multiple,_=void 0!==E&&E,T=r.native,C=void 0!==T&&T,A=r.onClose,N=r.onOpen,R=r.open,P=r.renderValue,O=r.SelectDisplayProps,D=r.variant,M=void 0===D?"outlined":D,Z=(0,L.Z)(r,_i),j=C?li:Ii,V=Ye({props:r,muiFormControl:et(),states:["variant"]}).variant||M,U=k||{standard:wi||(wi=(0,c.jsx)(Ci,{})),outlined:(0,c.jsx)(Ai,{label:x}),filled:xi||(xi=(0,c.jsx)(Ni,{}))}[V],z=function(e){return e.classes}((0,a.Z)({},r,{variant:V,classes:l})),B=(0,tt.Z)(n,U.ref);return(0,c.jsx)(t.Fragment,{children:t.cloneElement(U,(0,a.Z)({inputComponent:j,inputProps:(0,a.Z)({children:u,IconComponent:g,variant:V,type:void 0,multiple:_},C?{id:b}:{autoWidth:o,defaultOpen:h,displayEmpty:v,labelId:S,MenuProps:I,onClose:A,onOpen:N,open:R,renderValue:P,SelectDisplayProps:(0,a.Z)({id:b},O)},w,{classes:w?(0,oe.Z)(z,w.classes):z},k?k.props.inputProps:{})},_&&C&&"outlined"===V?{notched:!0}:{},{ref:B,className:(0,F.Z)(U.props.className,f)},!k&&{variant:V},Z))})}));Ri.muiName="Select";var Pi=Ri;function Oi(e){return(0,B.Z)("MuiTextField",e)}(0,z.Z)("MuiTextField",["root"]);var Di=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],Mi={standard:kt,filled:Ct,outlined:jt},Li=(0,j.ZP)(tn,{name:"MuiTextField",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),Fi=t.forwardRef((function(e,t){var n=(0,y.Z)({props:e,name:"MuiTextField"}),r=n.autoComplete,i=n.autoFocus,o=void 0!==i&&i,u=n.children,s=n.className,l=n.color,f=void 0===l?"primary":l,d=n.defaultValue,h=n.disabled,p=void 0!==h&&h,v=n.error,m=void 0!==v&&v,g=n.FormHelperTextProps,b=n.fullWidth,k=void 0!==b&&b,w=n.helperText,x=n.id,S=n.InputLabelProps,I=n.inputProps,E=n.InputProps,_=n.inputRef,T=n.label,C=n.maxRows,A=n.minRows,N=n.multiline,R=void 0!==N&&N,P=n.name,O=n.onBlur,D=n.onChange,M=n.onFocus,j=n.placeholder,V=n.required,U=void 0!==V&&V,z=n.rows,B=n.select,q=void 0!==B&&B,W=n.SelectProps,K=n.type,G=n.value,H=n.variant,Q=void 0===H?"outlined":H,$=(0,L.Z)(n,Di),X=(0,a.Z)({},n,{autoFocus:o,color:f,disabled:p,error:m,fullWidth:k,multiline:R,required:U,select:q,variant:Q}),Y=function(e){var t=e.classes;return(0,Z.Z)({root:["root"]},Oi,t)}(X);var J={};"outlined"===Q&&(S&&"undefined"!==typeof S.shrink&&(J.notched=S.shrink),J.label=T),q&&(W&&W.native||(J.id=void 0),J["aria-describedby"]=void 0);var ee=(0,Ze.Z)(x),te=w&&ee?"".concat(ee,"-helper-text"):void 0,ne=T&&ee?"".concat(ee,"-label"):void 0,re=Mi[Q],ie=(0,c.jsx)(re,(0,a.Z)({"aria-describedby":te,autoComplete:r,autoFocus:o,defaultValue:d,fullWidth:k,multiline:R,name:P,rows:z,maxRows:C,minRows:A,type:K,value:G,id:ee,inputRef:_,onBlur:O,onChange:D,onFocus:M,placeholder:j,inputProps:I},J,E));return(0,c.jsxs)(Li,(0,a.Z)({className:(0,F.Z)(Y.root,s),disabled:p,error:m,fullWidth:k,ref:t,required:U,color:f,variant:Q,ownerState:X},$,{children:[null!=T&&""!==T&&(0,c.jsx)(Qt,(0,a.Z)({htmlFor:ee,id:ne},S,{children:T})),q?(0,c.jsx)(Pi,(0,a.Z)({"aria-describedby":te,id:ee,labelId:ne,value:G,input:ie},W,{children:u})):ie,w&&(0,c.jsx)(sn,(0,a.Z)({id:te},g,{children:w}))]}))})),Zi=Fi,ji=n(9023),Vi=n(3236),Ui=n(9127);function zi(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Bi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qi(e,n){var r=Object.create(null);return e&&t.Children.map(e,(function(e){return e})).forEach((function(e){r[e.key]=function(e){return n&&(0,t.isValidElement)(e)?n(e):e}(e)})),r}function Wi(e,t,n){return null!=n[t]?n[t]:e.props[t]}function Ki(e,n,r){var i=qi(e.children),a=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),a=[];for(var o in e)o in t?a.length&&(i[o]=a,a=[]):a.push(o);var u={};for(var s in t){if(i[s])for(r=0;r<i[s].length;r++){var c=i[s][r];u[i[s][r]]=n(c)}u[s]=n(s)}for(r=0;r<a.length;r++)u[a[r]]=n(a[r]);return u}(n,i);return Object.keys(a).forEach((function(o){var u=a[o];if((0,t.isValidElement)(u)){var s=o in n,c=o in i,l=n[o],f=(0,t.isValidElement)(l)&&!l.props.in;!c||s&&!f?c||!s||f?c&&s&&(0,t.isValidElement)(l)&&(a[o]=(0,t.cloneElement)(u,{onExited:r.bind(null,u),in:l.props.in,exit:Wi(u,"exit",e),enter:Wi(u,"enter",e)})):a[o]=(0,t.cloneElement)(u,{in:!1}):a[o]=(0,t.cloneElement)(u,{onExited:r.bind(null,u),in:!0,exit:Wi(u,"exit",e),enter:Wi(u,"enter",e)})}})),a}var Gi=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},Hi=function(e){function n(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(Bi(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}Tn(n,e);var r=n.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},n.getDerivedStateFromProps=function(e,n){var r,i,a=n.children,o=n.handleExited;return{children:n.firstRender?(r=e,i=o,qi(r.children,(function(e){return(0,t.cloneElement)(e,{onExited:i.bind(null,e),in:!0,appear:Wi(e,"appear",r),enter:Wi(e,"enter",r),exit:Wi(e,"exit",r)})}))):Ki(e,a,o),firstRender:!1}},r.handleExited=function(e,t){var n=qi(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=(0,a.Z)({},t.children);return delete n[e.key],{children:n}})))},r.render=function(){var e=this.props,n=e.component,r=e.childFactory,i=(0,L.Z)(e,["component","childFactory"]),a=this.state.contextValue,o=Gi(this.state.children).map(r);return delete i.appear,delete i.enter,delete i.exit,null===n?t.createElement(An.Provider,{value:a},o):t.createElement(An.Provider,{value:a},t.createElement(n,i,o))},n}(t.Component);Hi.propTypes={},Hi.defaultProps={component:"div",childFactory:function(e){return e}};var Qi=Hi;var $i=function(e){var n=e.className,r=e.classes,i=e.pulsate,a=void 0!==i&&i,o=e.rippleX,u=e.rippleY,s=e.rippleSize,l=e.in,f=e.onExited,d=e.timeout,h=t.useState(!1),p=(0,m.Z)(h,2),v=p[0],y=p[1],g=(0,F.Z)(n,r.ripple,r.rippleVisible,a&&r.ripplePulsate),b={width:s,height:s,top:-s/2+u,left:-s/2+o},k=(0,F.Z)(r.child,v&&r.childLeaving,a&&r.childPulsate);return l||v||y(!0),t.useEffect((function(){if(!l&&null!=f){var e=setTimeout(f,d);return function(){clearTimeout(e)}}}),[f,l,d]),(0,c.jsx)("span",{className:g,style:b,children:(0,c.jsx)("span",{className:k})})};var Xi,Yi,Ji,ea,ta,na,ra,ia,aa=(0,z.Z)("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),oa=["center","classes","className"],ua=S(ta||(ta=Xi||(Xi=zi(["\n  0% {\n    transform: scale(0);\n    opacity: 0.1;\n  }\n\n  100% {\n    transform: scale(1);\n    opacity: 0.3;\n  }\n"])))),sa=S(na||(na=Yi||(Yi=zi(["\n  0% {\n    opacity: 1;\n  }\n\n  100% {\n    opacity: 0;\n  }\n"])))),ca=S(ra||(ra=Ji||(Ji=zi(["\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(0.92);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n"])))),la=(0,j.ZP)("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),fa=(0,j.ZP)($i,{name:"MuiTouchRipple",slot:"Ripple"})(ia||(ia=ea||(ea=zi(["\n  opacity: 0;\n  position: absolute;\n\n  &."," {\n    opacity: 0.3;\n    transform: scale(1);\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  &."," {\n    animation-duration: ","ms;\n  }\n\n  & ."," {\n    opacity: 1;\n    display: block;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    background-color: currentColor;\n  }\n\n  & ."," {\n    opacity: 0;\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  & ."," {\n    position: absolute;\n    /* @noflip */\n    left: 0px;\n    top: 0;\n    animation-name: ",";\n    animation-duration: 2500ms;\n    animation-timing-function: ",";\n    animation-iteration-count: infinite;\n    animation-delay: 200ms;\n  }\n"]))),aa.rippleVisible,ua,550,(function(e){return e.theme.transitions.easing.easeInOut}),aa.ripplePulsate,(function(e){return e.theme.transitions.duration.shorter}),aa.child,aa.childLeaving,sa,550,(function(e){return e.theme.transitions.easing.easeInOut}),aa.childPulsate,ca,(function(e){return e.theme.transitions.easing.easeInOut})),da=t.forwardRef((function(e,n){var r=(0,y.Z)({props:e,name:"MuiTouchRipple"}),i=r.center,o=void 0!==i&&i,u=r.classes,s=void 0===u?{}:u,l=r.className,f=(0,L.Z)(r,oa),d=t.useState([]),h=(0,m.Z)(d,2),p=h[0],v=h[1],g=t.useRef(0),b=t.useRef(null);t.useEffect((function(){b.current&&(b.current(),b.current=null)}),[p]);var k=t.useRef(!1),w=t.useRef(null),x=t.useRef(null),S=t.useRef(null);t.useEffect((function(){return function(){clearTimeout(w.current)}}),[]);var I=t.useCallback((function(e){var t=e.pulsate,n=e.rippleX,r=e.rippleY,i=e.rippleSize,a=e.cb;v((function(e){return[].concat((0,re.Z)(e),[(0,c.jsx)(fa,{classes:{ripple:(0,F.Z)(s.ripple,aa.ripple),rippleVisible:(0,F.Z)(s.rippleVisible,aa.rippleVisible),ripplePulsate:(0,F.Z)(s.ripplePulsate,aa.ripplePulsate),child:(0,F.Z)(s.child,aa.child),childLeaving:(0,F.Z)(s.childLeaving,aa.childLeaving),childPulsate:(0,F.Z)(s.childPulsate,aa.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:i},g.current)])})),g.current+=1,b.current=a}),[s]),E=t.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},r=t.pulsate,i=void 0!==r&&r,a=t.center,u=void 0===a?o||t.pulsate:a,s=t.fakeElement,c=void 0!==s&&s;if("mousedown"===(null==e?void 0:e.type)&&k.current)k.current=!1;else{"touchstart"===(null==e?void 0:e.type)&&(k.current=!0);var l,f,d,h=c?null:S.current,p=h?h.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(u||void 0===e||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)l=Math.round(p.width/2),f=Math.round(p.height/2);else{var v=e.touches&&e.touches.length>0?e.touches[0]:e,m=v.clientX,y=v.clientY;l=Math.round(m-p.left),f=Math.round(y-p.top)}if(u)(d=Math.sqrt((2*Math.pow(p.width,2)+Math.pow(p.height,2))/3))%2===0&&(d+=1);else{var g=2*Math.max(Math.abs((h?h.clientWidth:0)-l),l)+2,b=2*Math.max(Math.abs((h?h.clientHeight:0)-f),f)+2;d=Math.sqrt(Math.pow(g,2)+Math.pow(b,2))}null!=e&&e.touches?null===x.current&&(x.current=function(){I({pulsate:i,rippleX:l,rippleY:f,rippleSize:d,cb:n})},w.current=setTimeout((function(){x.current&&(x.current(),x.current=null)}),80)):I({pulsate:i,rippleX:l,rippleY:f,rippleSize:d,cb:n})}}),[o,I]),_=t.useCallback((function(){E({},{pulsate:!0})}),[E]),T=t.useCallback((function(e,t){if(clearTimeout(w.current),"touchend"===(null==e?void 0:e.type)&&x.current)return x.current(),x.current=null,void(w.current=setTimeout((function(){T(e,t)})));x.current=null,v((function(e){return e.length>0?e.slice(1):e})),b.current=t}),[]);return t.useImperativeHandle(n,(function(){return{pulsate:_,start:E,stop:T}}),[_,E,T]),(0,c.jsx)(la,(0,a.Z)({className:(0,F.Z)(aa.root,s.root,l),ref:S},f,{children:(0,c.jsx)(Qi,{component:null,exit:!0,children:p})}))})),ha=da;function pa(e){return(0,B.Z)("MuiButtonBase",e)}var va,ma=(0,z.Z)("MuiButtonBase",["root","disabled","focusVisible"]),ya=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],ga=(0,j.ZP)("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:function(e,t){return t.root}})((va={display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"}},(0,ie.Z)(va,"&.".concat(ma.disabled),{pointerEvents:"none",cursor:"default"}),(0,ie.Z)(va,"@media print",{colorAdjust:"exact"}),va)),ba=t.forwardRef((function(e,n){var r=(0,y.Z)({props:e,name:"MuiButtonBase"}),i=r.action,o=r.centerRipple,u=void 0!==o&&o,s=r.children,l=r.className,f=r.component,d=void 0===f?"button":f,h=r.disabled,p=void 0!==h&&h,v=r.disableRipple,g=void 0!==v&&v,b=r.disableTouchRipple,k=void 0!==b&&b,w=r.focusRipple,x=void 0!==w&&w,S=r.LinkComponent,I=void 0===S?"a":S,E=r.onBlur,_=r.onClick,T=r.onContextMenu,C=r.onDragLeave,A=r.onFocus,N=r.onFocusVisible,R=r.onKeyDown,P=r.onKeyUp,O=r.onMouseDown,D=r.onMouseLeave,M=r.onMouseUp,j=r.onTouchEnd,V=r.onTouchMove,U=r.onTouchStart,z=r.tabIndex,B=void 0===z?0:z,q=r.TouchRippleProps,W=r.touchRippleRef,K=r.type,G=(0,L.Z)(r,ya),H=t.useRef(null),Q=t.useRef(null),$=(0,tt.Z)(Q,W),X=(0,Ui.Z)(),Y=X.isFocusVisibleRef,J=X.onFocus,ee=X.onBlur,te=X.ref,ne=t.useState(!1),re=(0,m.Z)(ne,2),ie=re[0],ae=re[1];p&&ie&&ae(!1),t.useImperativeHandle(i,(function(){return{focusVisible:function(){ae(!0),H.current.focus()}}}),[]);var oe=t.useState(!1),ue=(0,m.Z)(oe,2),se=ue[0],ce=ue[1];t.useEffect((function(){ce(!0)}),[]);var le=se&&!g&&!p;function fe(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:k;return(0,Vi.Z)((function(r){return t&&t(r),!n&&Q.current&&Q.current[e](r),!0}))}t.useEffect((function(){ie&&x&&!g&&se&&Q.current.pulsate()}),[g,x,ie,se]);var de=fe("start",O),he=fe("stop",T),pe=fe("stop",C),ve=fe("stop",M),me=fe("stop",(function(e){ie&&e.preventDefault(),D&&D(e)})),ye=fe("start",U),ge=fe("stop",j),be=fe("stop",V),ke=fe("stop",(function(e){ee(e),!1===Y.current&&ae(!1),E&&E(e)}),!1),we=(0,Vi.Z)((function(e){H.current||(H.current=e.currentTarget),J(e),!0===Y.current&&(ae(!0),N&&N(e)),A&&A(e)})),xe=function(){var e=H.current;return d&&"button"!==d&&!("A"===e.tagName&&e.href)},Se=t.useRef(!1),Ie=(0,Vi.Z)((function(e){x&&!Se.current&&ie&&Q.current&&" "===e.key&&(Se.current=!0,Q.current.stop(e,(function(){Q.current.start(e)}))),e.target===e.currentTarget&&xe()&&" "===e.key&&e.preventDefault(),R&&R(e),e.target===e.currentTarget&&xe()&&"Enter"===e.key&&!p&&(e.preventDefault(),_&&_(e))})),Ee=(0,Vi.Z)((function(e){x&&" "===e.key&&Q.current&&ie&&!e.defaultPrevented&&(Se.current=!1,Q.current.stop(e,(function(){Q.current.pulsate(e)}))),P&&P(e),_&&e.target===e.currentTarget&&xe()&&" "===e.key&&!e.defaultPrevented&&_(e)})),_e=d;"button"===_e&&(G.href||G.to)&&(_e=I);var Te={};"button"===_e?(Te.type=void 0===K?"button":K,Te.disabled=p):(G.href||G.to||(Te.role="button"),p&&(Te["aria-disabled"]=p));var Ce=(0,tt.Z)(n,te,H);var Ae=(0,a.Z)({},r,{centerRipple:u,component:d,disabled:p,disableRipple:g,disableTouchRipple:k,focusRipple:x,tabIndex:B,focusVisible:ie}),Ne=function(e){var t=e.disabled,n=e.focusVisible,r=e.focusVisibleClassName,i=e.classes,a={root:["root",t&&"disabled",n&&"focusVisible"]},o=(0,Z.Z)(a,pa,i);return n&&r&&(o.root+=" ".concat(r)),o}(Ae);return(0,c.jsxs)(ga,(0,a.Z)({as:_e,className:(0,F.Z)(Ne.root,l),ownerState:Ae,onBlur:ke,onClick:_,onContextMenu:he,onFocus:we,onKeyDown:Ie,onKeyUp:Ee,onMouseDown:de,onMouseLeave:me,onMouseUp:ve,onDragLeave:pe,onTouchEnd:ge,onTouchMove:be,onTouchStart:ye,ref:Ce,tabIndex:p?-1:B,type:K},Te,G,{children:[s,le?(0,c.jsx)(ha,(0,a.Z)({ref:$,center:u},q)):null]}))})),ka=ba;function wa(e){return(0,B.Z)("MuiButton",e)}var xa=(0,z.Z)("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]);var Sa=t.createContext({}),Ia=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],Ea=function(e){return(0,a.Z)({},"small"===e.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===e.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===e.size&&{"& > *:nth-of-type(1)":{fontSize:22}})},_a=(0,j.ZP)(ka,{shouldForwardProp:function(e){return(0,j.FO)(e)||"classes"===e},name:"MuiButton",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],t["".concat(n.variant).concat((0,Se.Z)(n.color))],t["size".concat((0,Se.Z)(n.size))],t["".concat(n.variant,"Size").concat((0,Se.Z)(n.size))],"inherit"===n.color&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})((function(e){var t,n,r,i=e.theme,o=e.ownerState;return(0,a.Z)({},i.typography.button,(t={minWidth:64,padding:"6px 16px",borderRadius:(i.vars||i).shape.borderRadius,transition:i.transitions.create(["background-color","box-shadow","border-color","color"],{duration:i.transitions.duration.short}),"&:hover":(0,a.Z)({textDecoration:"none",backgroundColor:i.vars?"rgba(".concat(i.vars.palette.text.primaryChannel," / ").concat(i.vars.palette.action.hoverOpacity,")"):(0,V.Fq)(i.palette.text.primary,i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===o.variant&&"inherit"!==o.color&&{backgroundColor:i.vars?"rgba(".concat(i.vars.palette[o.color].mainChannel," / ").concat(i.vars.palette.action.hoverOpacity,")"):(0,V.Fq)(i.palette[o.color].main,i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===o.variant&&"inherit"!==o.color&&{border:"1px solid ".concat((i.vars||i).palette[o.color].main),backgroundColor:i.vars?"rgba(".concat(i.vars.palette[o.color].mainChannel," / ").concat(i.vars.palette.action.hoverOpacity,")"):(0,V.Fq)(i.palette[o.color].main,i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===o.variant&&{backgroundColor:(i.vars||i).palette.grey.A100,boxShadow:(i.vars||i).shadows[4],"@media (hover: none)":{boxShadow:(i.vars||i).shadows[2],backgroundColor:(i.vars||i).palette.grey[300]}},"contained"===o.variant&&"inherit"!==o.color&&{backgroundColor:(i.vars||i).palette[o.color].dark,"@media (hover: none)":{backgroundColor:(i.vars||i).palette[o.color].main}}),"&:active":(0,a.Z)({},"contained"===o.variant&&{boxShadow:(i.vars||i).shadows[8]})},(0,ie.Z)(t,"&.".concat(xa.focusVisible),(0,a.Z)({},"contained"===o.variant&&{boxShadow:(i.vars||i).shadows[6]})),(0,ie.Z)(t,"&.".concat(xa.disabled),(0,a.Z)({color:(i.vars||i).palette.action.disabled},"outlined"===o.variant&&{border:"1px solid ".concat((i.vars||i).palette.action.disabledBackground)},"contained"===o.variant&&{color:(i.vars||i).palette.action.disabled,boxShadow:(i.vars||i).shadows[0],backgroundColor:(i.vars||i).palette.action.disabledBackground})),t),"text"===o.variant&&{padding:"6px 8px"},"text"===o.variant&&"inherit"!==o.color&&{color:(i.vars||i).palette[o.color].main},"outlined"===o.variant&&{padding:"5px 15px",border:"1px solid currentColor"},"outlined"===o.variant&&"inherit"!==o.color&&{color:(i.vars||i).palette[o.color].main,border:i.vars?"1px solid rgba(".concat(i.vars.palette[o.color].mainChannel," / 0.5)"):"1px solid ".concat((0,V.Fq)(i.palette[o.color].main,.5))},"contained"===o.variant&&{color:i.vars?i.vars.palette.text.primary:null==(n=(r=i.palette).getContrastText)?void 0:n.call(r,i.palette.grey[300]),backgroundColor:(i.vars||i).palette.grey[300],boxShadow:(i.vars||i).shadows[2]},"contained"===o.variant&&"inherit"!==o.color&&{color:(i.vars||i).palette[o.color].contrastText,backgroundColor:(i.vars||i).palette[o.color].main},"inherit"===o.color&&{color:"inherit",borderColor:"currentColor"},"small"===o.size&&"text"===o.variant&&{padding:"4px 5px",fontSize:i.typography.pxToRem(13)},"large"===o.size&&"text"===o.variant&&{padding:"8px 11px",fontSize:i.typography.pxToRem(15)},"small"===o.size&&"outlined"===o.variant&&{padding:"3px 9px",fontSize:i.typography.pxToRem(13)},"large"===o.size&&"outlined"===o.variant&&{padding:"7px 21px",fontSize:i.typography.pxToRem(15)},"small"===o.size&&"contained"===o.variant&&{padding:"4px 10px",fontSize:i.typography.pxToRem(13)},"large"===o.size&&"contained"===o.variant&&{padding:"8px 22px",fontSize:i.typography.pxToRem(15)},o.fullWidth&&{width:"100%"})}),(function(e){var t;return e.ownerState.disableElevation&&(t={boxShadow:"none","&:hover":{boxShadow:"none"}},(0,ie.Z)(t,"&.".concat(xa.focusVisible),{boxShadow:"none"}),(0,ie.Z)(t,"&:active",{boxShadow:"none"}),(0,ie.Z)(t,"&.".concat(xa.disabled),{boxShadow:"none"}),t)})),Ta=(0,j.ZP)("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:function(e,t){var n=e.ownerState;return[t.startIcon,t["iconSize".concat((0,Se.Z)(n.size))]]}})((function(e){var t=e.ownerState;return(0,a.Z)({display:"inherit",marginRight:8,marginLeft:-4},"small"===t.size&&{marginLeft:-2},Ea(t))})),Ca=(0,j.ZP)("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:function(e,t){var n=e.ownerState;return[t.endIcon,t["iconSize".concat((0,Se.Z)(n.size))]]}})((function(e){var t=e.ownerState;return(0,a.Z)({display:"inherit",marginRight:-4,marginLeft:8},"small"===t.size&&{marginRight:-2},Ea(t))})),Aa=t.forwardRef((function(e,n){var r=t.useContext(Sa),i=(0,ji.Z)(r,e),o=(0,y.Z)({props:i,name:"MuiButton"}),u=o.children,s=o.color,l=void 0===s?"primary":s,f=o.component,d=void 0===f?"button":f,h=o.className,p=o.disabled,v=void 0!==p&&p,m=o.disableElevation,g=void 0!==m&&m,b=o.disableFocusRipple,k=void 0!==b&&b,w=o.endIcon,x=o.focusVisibleClassName,S=o.fullWidth,I=void 0!==S&&S,E=o.size,_=void 0===E?"medium":E,T=o.startIcon,C=o.type,A=o.variant,N=void 0===A?"text":A,R=(0,L.Z)(o,Ia),P=(0,a.Z)({},o,{color:l,component:d,disabled:v,disableElevation:g,disableFocusRipple:k,fullWidth:I,size:_,type:C,variant:N}),O=function(e){var t=e.color,n=e.disableElevation,r=e.fullWidth,i=e.size,o=e.variant,u=e.classes,s={root:["root",o,"".concat(o).concat((0,Se.Z)(t)),"size".concat((0,Se.Z)(i)),"".concat(o,"Size").concat((0,Se.Z)(i)),"inherit"===t&&"colorInherit",n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["startIcon","iconSize".concat((0,Se.Z)(i))],endIcon:["endIcon","iconSize".concat((0,Se.Z)(i))]},c=(0,Z.Z)(s,wa,u);return(0,a.Z)({},u,c)}(P),D=T&&(0,c.jsx)(Ta,{className:O.startIcon,ownerState:P,children:T}),M=w&&(0,c.jsx)(Ca,{className:O.endIcon,ownerState:P,children:w});return(0,c.jsxs)(_a,(0,a.Z)({ownerState:P,className:(0,F.Z)(r.className,O.root,h),component:d,disabled:v,focusRipple:!k,focusVisibleClassName:(0,F.Z)(O.focusVisible,x),ref:n,type:C},R,{classes:O,children:[D,u,M]}))})),Na=Aa,Ra=n(1293),Pa=n(7957),Oa=n(8111),Da=n(1213),Ma=n(181);function La(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,Ma.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function Fa(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_n(e,t)}function Za(e){return Za=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Za(e)}function ja(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var Va=n(1002);function Ua(e){var t=ja();return function(){var n,r=Za(e);if(t){var i=Za(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===(0,Va.Z)(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Bi(e)}(this,n)}}function za(e,t,n){return za=ja()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&_n(i,n.prototype),i},za.apply(null,arguments)}function Ba(e){var t="function"===typeof Map?new Map:void 0;return Ba=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return za(e,arguments,Za(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),_n(n,e)},Ba(e)}var qa=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Wa={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,d=(15&u)<<2|c>>6,h=63&c;s||(h=64,o||(d=64)),r.push(n[l],n[f],n[d],n[h])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(qa(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw new Ka;var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Ka=function(e){Fa(n,e);var t=Ua(n);function n(){var e;return Xn(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return er(n)}(Ba(Error)),Ga=function(e){return function(e){var t=qa(e);return Wa.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Ha=function(e){try{return Wa.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Qa(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Qa(e[n],t[n]));return e}var $a=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},Xa=function(){try{return $a()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&Ha(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},Ya=function(){var e;return null===(e=Xa())||void 0===e?void 0:e.config},Ja=function(){function e(){var t=this;Xn(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return er(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function eo(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function to(){var e,t=null===(e=Xa())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function no(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function ro(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function io(){var e=eo();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function ao(){try{return"object"===typeof indexedDB}catch(e){return!1}}var oo=function(e){Fa(n,e);var t=Ua(n);function n(e,r,i){var a;return Xn(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(Bi(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(Bi(a),uo.prototype.create),a}return er(n)}(Ba(Error)),uo=function(){function e(t,n,r){Xn(this,e),this.service=t,this.serviceName=n,this.errors=r}return er(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(so,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new oo(n,a,t)}}]),e}();var so=/\{\$([^}]+)}/g;function co(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function lo(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(fo(u)&&fo(s)){if(!lo(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function fo(e){return null!==e&&"object"===typeof e}function ho(e){for(var t=[],n=function(){var e=(0,m.Z)(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function po(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=e.split("="),r=(0,m.Z)(n,2),i=r[0],a=r[1];t[decodeURIComponent(i)]=decodeURIComponent(a)}})),t}function vo(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function mo(e,t){var n=new yo(e,t);return n.subscribe.bind(n)}var yo=function(){function e(t,n){var r=this;Xn(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return er(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=La(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=go),void 0===r.error&&(r.error=go),void 0===r.complete&&(r.complete=go);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function go(){}function bo(e){return e&&e._delegate?e._delegate:e}function ko(){ko=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(C){s=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),u=new E(i||[]);return r(o,"_invoke",{value:w(e,n,u)}),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(C){return{type:"throw",arg:C}}}e.wrap=c;var f={};function d(){}function h(){}function p(){}var v={};s(v,a,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(_([])));y&&y!==t&&n.call(y,a)&&(v=y);var g=p.prototype=d.prototype=Object.create(v);function b(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function i(r,a,o,u){var s=l(e[r],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"==(0,Va.Z)(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,o,u)}),(function(e){i("throw",e,o,u)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return i("throw",e,o,u)}))}u(s.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return T()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=x(o,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=l(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var i=l(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,f;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function _(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:T}}function T(){return{value:void 0,done:!0}}return h.prototype=p,r(g,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:h,configurable:!0}),h.displayName=s(p,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,u,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(k.prototype),s(k.prototype,o,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new k(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},b(g),s(g,u,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=_,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function wo(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function xo(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){wo(a,r,i,o,u,"next",e)}function u(e){wo(a,r,i,o,u,"throw",e)}o(void 0)}))}}var So=function(){function e(t,n,r){Xn(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return er(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Io="[DEFAULT]",Eo=function(){function e(t,n){Xn(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return er(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Ja;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Io})}catch(s){}var t,n=La(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=(0,m.Z)(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(s){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Io;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=xo(ko().mark((function e(){var t;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat((0,re.Z)(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),(0,re.Z)(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Io;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Io;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=La(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=(0,m.Z)(i.value,2),s=u[0],c=u[1];r===this.normalizeInstanceIdentifier(s)&&c.resolve(a)}}catch(l){o.e(l)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=La(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(px){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Io?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(px){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Io;return this.component?this.component.multipleInstances?e:Io:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var _o,To,Co=function(){function e(t){Xn(this,e),this.name=t,this.providers=new Map}return er(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Eo(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Ao=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(To||(To={}));var No={debug:To.DEBUG,verbose:To.VERBOSE,info:To.INFO,warn:To.WARN,error:To.ERROR,silent:To.SILENT},Ro=To.INFO,Po=(_o={},(0,ie.Z)(_o,To.DEBUG,"log"),(0,ie.Z)(_o,To.VERBOSE,"log"),(0,ie.Z)(_o,To.INFO,"info"),(0,ie.Z)(_o,To.WARN,"warn"),(0,ie.Z)(_o,To.ERROR,"error"),_o),Oo=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Po[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Do=function(){function e(t){Xn(this,e),this.name=t,this._logLevel=Ro,this._logHandler=Oo,this._userLogHandler=null,Ao.push(this)}return er(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in To))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?No[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,To.DEBUG].concat(t)),this._logHandler.apply(this,[this,To.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,To.VERBOSE].concat(t)),this._logHandler.apply(this,[this,To.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,To.INFO].concat(t)),this._logHandler.apply(this,[this,To.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,To.WARN].concat(t)),this._logHandler.apply(this,[this,To.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,To.ERROR].concat(t)),this._logHandler.apply(this,[this,To.ERROR].concat(t))}}]),e}();function Mo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Lo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mo(Object(n),!0).forEach((function(t){(0,ie.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Fo,Zo,jo=function(e,t){return t.some((function(t){return e instanceof t}))};var Vo=new WeakMap,Uo=new WeakMap,zo=new WeakMap,Bo=new WeakMap,qo=new WeakMap;var Wo={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Uo.get(e);if("objectStoreNames"===t)return e.objectStoreNames||zo.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ho(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Ko(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Zo||(Zo=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Qo(this),n),Ho(Vo.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ho(e.apply(Qo(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[Qo(this),t].concat(r));return zo.set(a,t.sort?t.sort():[t]),Ho(a)}}function Go(e){return"function"===typeof e?Ko(e):(e instanceof IDBTransaction&&function(e){if(!Uo.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Uo.set(e,t)}}(e),jo(e,Fo||(Fo=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Wo):e)}function Ho(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Ho(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Vo.set(t,e)})).catch((function(){})),qo.set(t,e),t}(e);if(Bo.has(e))return Bo.get(e);var t=Go(e);return t!==e&&(Bo.set(e,t),qo.set(t,e)),t}var Qo=function(e){return qo.get(e)};var $o,Xo,Yo=["get","getKey","getAll","getAllKeys","count"],Jo=["put","add","delete","clear"],eu=new Map;function tu(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(eu.get(t))return eu.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Jo.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Yo.includes(n))){var a=function(){var e=xo(ko().mark((function e(t){var a,o,u,s,c,l,f=arguments;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return eu.set(t,a),a}}}Wo=function(e){return Lo(Lo({},e),{},{get:function(t,n,r){return tu(t,n)||e.get(t,n,r)},has:function(t,n){return!!tu(t,n)||e.has(t,n)}})}(Wo);var nu=function(){function e(t){Xn(this,e),this.container=t}return er(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var ru="@firebase/app",iu="0.9.5",au=new Do("@firebase/app"),ou="[DEFAULT]",uu=($o={},(0,ie.Z)($o,ru,"fire-core"),(0,ie.Z)($o,"@firebase/app-compat","fire-core-compat"),(0,ie.Z)($o,"@firebase/analytics","fire-analytics"),(0,ie.Z)($o,"@firebase/analytics-compat","fire-analytics-compat"),(0,ie.Z)($o,"@firebase/app-check","fire-app-check"),(0,ie.Z)($o,"@firebase/app-check-compat","fire-app-check-compat"),(0,ie.Z)($o,"@firebase/auth","fire-auth"),(0,ie.Z)($o,"@firebase/auth-compat","fire-auth-compat"),(0,ie.Z)($o,"@firebase/database","fire-rtdb"),(0,ie.Z)($o,"@firebase/database-compat","fire-rtdb-compat"),(0,ie.Z)($o,"@firebase/functions","fire-fn"),(0,ie.Z)($o,"@firebase/functions-compat","fire-fn-compat"),(0,ie.Z)($o,"@firebase/installations","fire-iid"),(0,ie.Z)($o,"@firebase/installations-compat","fire-iid-compat"),(0,ie.Z)($o,"@firebase/messaging","fire-fcm"),(0,ie.Z)($o,"@firebase/messaging-compat","fire-fcm-compat"),(0,ie.Z)($o,"@firebase/performance","fire-perf"),(0,ie.Z)($o,"@firebase/performance-compat","fire-perf-compat"),(0,ie.Z)($o,"@firebase/remote-config","fire-rc"),(0,ie.Z)($o,"@firebase/remote-config-compat","fire-rc-compat"),(0,ie.Z)($o,"@firebase/storage","fire-gcs"),(0,ie.Z)($o,"@firebase/storage-compat","fire-gcs-compat"),(0,ie.Z)($o,"@firebase/firestore","fire-fst"),(0,ie.Z)($o,"@firebase/firestore-compat","fire-fst-compat"),(0,ie.Z)($o,"fire-js","fire-js"),(0,ie.Z)($o,"firebase","fire-js-all"),$o),su=new Map,cu=new Map;function lu(e,t){try{e.container.addComponent(t)}catch(n){au.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function fu(e,t){e.container.addOrOverwriteComponent(t)}function du(e){var t=e.name;if(cu.has(t))return au.debug("There were multiple attempts to register component ".concat(t,".")),!1;cu.set(t,e);var n,r=La(su.values());try{for(r.s();!(n=r.n()).done;){lu(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function hu(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function pu(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ou;hu(e,t).clearInstance(n)}function vu(){cu.clear()}var mu=(Xo={},(0,ie.Z)(Xo,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),(0,ie.Z)(Xo,"bad-app-name","Illegal App name: '{$appName}"),(0,ie.Z)(Xo,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),(0,ie.Z)(Xo,"app-deleted","Firebase App named '{$appName}' already deleted"),(0,ie.Z)(Xo,"no-options","Need to provide options, when not being deployed to hosting via source."),(0,ie.Z)(Xo,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),(0,ie.Z)(Xo,"invalid-log-argument","First argument to `onLog` must be null or a function."),(0,ie.Z)(Xo,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),(0,ie.Z)(Xo,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),(0,ie.Z)(Xo,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),(0,ie.Z)(Xo,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),Xo),yu=new uo("app","Firebase",mu),gu=function(){function e(t,n,r){var i=this;Xn(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new So("app",(function(){return i}),"PUBLIC"))}return er(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw yu.create("app-deleted",{appName:this._name})}}]),e}(),bu="9.18.0";function ku(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==typeof t&&(t={name:t});var r=Object.assign({name:ou,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw yu.create("bad-app-name",{appName:String(i)});if(n||(n=Ya()),!n)throw yu.create("no-options");var a=su.get(i);if(a){if(lo(n,a.options)&&lo(r,a.config))return a;throw yu.create("duplicate-app",{appName:i})}var o,u=new Co(i),s=La(cu.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new gu(n,r,u);return su.set(i,l),l}function wu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ou,t=su.get(e);if(!t&&e===ou)return ku();if(!t)throw yu.create("no-app",{appName:e});return t}function xu(){return Array.from(su.values())}function Su(e){return Iu.apply(this,arguments)}function Iu(){return(Iu=xo(ko().mark((function e(t){var n;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!su.has(n)){e.next=6;break}return su.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Eu(e,t,n){var r,i=null!==(r=uu[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void au.warn(u.join(" "))}du(new So("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function _u(e,t){if(null!==e&&"function"!==typeof e)throw yu.create("invalid-log-argument");!function(e,t){var n,r=La(Ao);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=No[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:To[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Tu(e){var t;t=e,Ao.forEach((function(e){e.setLogLevel(t)}))}var Cu="firebase-heartbeat-database",Au=1,Nu="firebase-heartbeat-store",Ru=null;function Pu(){return Ru||(Ru=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=Ho(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(Ho(u.result),e.oldVersion,e.newVersion,Ho(u.transaction))})),r&&u.addEventListener("blocked",(function(){return r()})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),s}(Cu,Au,{upgrade:function(e,t){if(0===t)e.createObjectStore(Nu)}}).catch((function(e){throw yu.create("idb-open",{originalErrorMessage:e.message})}))),Ru}function Ou(e){return Du.apply(this,arguments)}function Du(){return Du=xo(ko().mark((function e(t){var n,r;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Pu();case 3:return n=e.sent,e.abrupt("return",n.transaction(Nu).objectStore(Nu).get(Fu(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof oo?au.warn(e.t0.message):(r=yu.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),au.warn(r.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Du.apply(this,arguments)}function Mu(e,t){return Lu.apply(this,arguments)}function Lu(){return Lu=xo(ko().mark((function e(t,n){var r,i,a,o;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Pu();case 3:return r=e.sent,i=r.transaction(Nu,"readwrite"),a=i.objectStore(Nu),e.next=8,a.put(n,Fu(t));case 8:return e.abrupt("return",i.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof oo?au.warn(e.t0.message):(o=yu.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),au.warn(o.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),Lu.apply(this,arguments)}function Fu(e){return"".concat(e.name,"!").concat(e.options.appId)}var Zu=function(){function e(t){var n=this;Xn(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Bu(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return er(e,[{key:"triggerHeartbeat",value:function(){var e=xo(ko().mark((function e(){var t,n,r;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=ju(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=xo(ko().mark((function e(){var t,n,r,i,a;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=ju(),n=Vu(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=Ga(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function ju(){return(new Date).toISOString().substring(0,10)}function Vu(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=La(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),qu(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),qu(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){if("break"===o())break}}catch(u){a.e(u)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Uu,zu,Bu=function(){function e(t){Xn(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return er(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=xo(ko().mark((function e(){return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ao()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=xo(ko().mark((function e(){var t;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Ou(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=xo(ko().mark((function e(t){var n,r;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Mu(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=xo(ko().mark((function e(t){var n,r;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Mu(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat((0,re.Z)(r.heartbeats),(0,re.Z)(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function qu(e){return Ga(JSON.stringify({version:2,heartbeats:e})).length}Uu="",du(new So("platform-logger",(function(e){return new nu(e)}),"PRIVATE")),du(new So("heartbeat",(function(e){return new Zu(e)}),"PRIVATE")),Eu(ru,iu,Uu),Eu(ru,iu,"esm2017"),Eu("fire-js","");var Wu=function(){function e(t,n){var r=this;Xn(this,e),this._delegate=t,this.firebase=n,lu(t,new So("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return er(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Su(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ou;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ou;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){lu(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){fu(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),Ku=(zu={},(0,ie.Z)(zu,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),(0,ie.Z)(zu,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),zu),Gu=new uo("app-compat","Firebase",Ku);var Hu=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=ku(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(co(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Eu,setLogLevel:Tu,onLog:_u,apps:null,SDK_VERSION:bu,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(du(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw Gu.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&Qa(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!co(n,e=e||ou))throw Gu.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(Wu);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Qa(n,e)},createSubscribe:mo,ErrorFactory:uo,deepExtend:Qa}),n}(),Qu=new Do("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Qu.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var $u=self.firebase.SDK_VERSION;$u&&$u.indexOf("LITE")>=0&&Qu.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Xu=Hu;!function(e){Eu("@firebase/app-compat","0.2.5",e)}();function Yu(){return Yu="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Za(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Yu.apply(this,arguments)}Xu.registerVersion("firebase","9.18.0","app-compat");var Ju,es="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},ts={},ns=ns||{},rs=es||self;function is(){}function as(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function os(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var us="closure_uid_"+(1e9*Math.random()>>>0),ss=0;function cs(e,t,n){return e.call.apply(e.bind,arguments)}function ls(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function fs(e,t,n){return(fs=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?cs:ls).apply(null,arguments)}function ds(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function hs(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Wb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function ps(){this.s=this.s,this.o=this.o}ps.prototype.s=!1,ps.prototype.na=function(){var e;!this.s&&(this.s=!0,this.M(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,us)&&e[us]||(e[us]=++ss))},ps.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var vs=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function ms(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function ys(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(as(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function gs(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}gs.prototype.h=function(){this.defaultPrevented=!0};var bs=function(){if(!rs.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{rs.addEventListener("test",is,t),rs.removeEventListener("test",is,t)}catch(n){}return e}();function ks(e){return/^[\s\xa0]*$/.test(e)}var ws=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function xs(e,t){return e<t?-1:e>t?1:0}function Ss(){var e=rs.navigator;return e&&(e=e.userAgent)?e:""}function Is(e){return-1!=Ss().indexOf(e)}function Es(e){return Es[" "](e),e}Es[" "]=is;var _s,Ts=Is("Opera"),Cs=Is("Trident")||Is("MSIE"),As=Is("Edge"),Ns=As||Cs,Rs=Is("Gecko")&&!(-1!=Ss().toLowerCase().indexOf("webkit")&&!Is("Edge"))&&!(Is("Trident")||Is("MSIE"))&&!Is("Edge"),Ps=-1!=Ss().toLowerCase().indexOf("webkit")&&!Is("Edge");function Os(){var e=rs.document;return e?e.documentMode:void 0}e:{var Ds="",Ms=function(){var e=Ss();return Rs?/rv:([^\);]+)(\)|;)/.exec(e):As?/Edge\/([\d\.]+)/.exec(e):Cs?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Ps?/WebKit\/(\S+)/.exec(e):Ts?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Ms&&(Ds=Ms?Ms[1]:""),Cs){var Ls=Os();if(null!=Ls&&Ls>parseFloat(Ds)){_s=String(Ls);break e}}_s=Ds}var Fs,Zs={};function js(){return function(e){var t=Zs;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=ws(String(_s)).split("."),n=ws("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=xs(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||xs(0==a[2].length,0==o[2].length)||xs(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(rs.document&&Cs){var Vs=Os();Fs=Vs||(parseInt(_s,10)||void 0)}else Fs=void 0;var Us=Fs;function zs(e,t){if(gs.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Rs){e:{try{Es(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Bs[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&zs.X.h.call(this)}}hs(zs,gs);var Bs={2:"touch",3:"pen",4:"mouse"};zs.prototype.h=function(){zs.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var qs="closure_listenable_"+(1e6*Math.random()|0),Ws=0;function Ks(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++Ws,this.ba=this.ea=!1}function Gs(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function Hs(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Qs(e){var t={};for(var n in e)t[n]=e[n];return t}var $s="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Xs(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<$s.length;a++)n=$s[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Ys(e){this.src=e,this.g={},this.h=0}function Js(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=vs(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Gs(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function ec(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ba&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}Ys.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=ec(e,t,r,i);return-1<o?(t=e[o],n||(t.ea=!1)):((t=new Ks(t,this.src,a,!!r,i)).ea=n,e.push(t)),t};var tc="closure_lm_"+(1e6*Math.random()|0),nc={};function rc(e,t,n,r,i){if(r&&r.once)return ac(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)rc(e,t[a],n,r,i);return null}return n=dc(n),e&&e[qs]?e.N(t,n,os(r)?!!r.capture:!!r,i):ic(e,t,n,!1,r,i)}function ic(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=os(i)?!!i.capture:!!i,u=lc(e);if(u||(e[tc]=u=new Ys(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=cc;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)bs||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(sc(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ac(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)ac(e,t[a],n,r,i);return null}return n=dc(n),e&&e[qs]?e.O(t,n,os(r)?!!r.capture:!!r,i):ic(e,t,n,!0,r,i)}function oc(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)oc(e,t[a],n,r,i);else r=os(r)?!!r.capture:!!r,n=dc(n),e&&e[qs]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=ec(a=e.g[t],n,r,i))&&(Gs(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=lc(e))&&(t=e.g[t.toString()],e=-1,t&&(e=ec(t,n,r,i)),(n=-1<e?t[e]:null)&&uc(n))}function uc(e){if("number"!==typeof e&&e&&!e.ba){var t=e.src;if(t&&t[qs])Js(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(sc(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=lc(t))?(Js(n,e),0==n.h&&(n.src=null,t[tc]=null)):Gs(e)}}}function sc(e){return e in nc?nc[e]:nc[e]="on"+e}function cc(e,t){if(e.ba)e=!0;else{t=new zs(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&uc(e),e=n.call(r,t)}return e}function lc(e){return(e=e[tc])instanceof Ys?e:null}var fc="__closure_events_fn_"+(1e9*Math.random()>>>0);function dc(e){return"function"===typeof e?e:(e[fc]||(e[fc]=function(t){return e.handleEvent(t)}),e[fc])}function hc(){ps.call(this),this.i=new Ys(this),this.P=this,this.I=null}function pc(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new gs(t,e);else if(t instanceof gs)t.target=t.target||e;else{var i=t;Xs(t=new gs(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=vc(o,r,!0,t)&&i}if(i=vc(o=t.g=e,r,!0,t)&&i,i=vc(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=vc(o=t.g=n[a],r,!1,t)&&i}function vc(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ba&&o.capture==n){var u=o.listener,s=o.ha||o.src;o.ea&&Js(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}hs(hc,ps),hc.prototype[qs]=!0,hc.prototype.removeEventListener=function(e,t,n,r){oc(this,e,t,n,r)},hc.prototype.M=function(){if(hc.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Gs(n[r]);delete t.g[e],t.h--}}this.I=null},hc.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},hc.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var mc=rs.JSON.stringify;function yc(){var e=Ec,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var gc,bc=function(){function e(){Xn(this,e),this.h=this.g=null}return er(e,[{key:"add",value:function(e,t){var n=kc.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),kc=new(function(){function e(t,n){Xn(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return er(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new wc}),(function(e){return e.reset()})),wc=function(){function e(){Xn(this,e),this.next=this.g=this.h=null}return er(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function xc(e){rs.setTimeout((function(){throw e}),0)}function Sc(e,t){gc||function(){var e=rs.Promise.resolve(void 0);gc=function(){e.then(_c)}}(),Ic||(gc(),Ic=!0),Ec.add(e,t)}var Ic=!1,Ec=new bc;function _c(){for(var e;e=yc();){try{e.h.call(e.g)}catch(n){xc(n)}var t=kc;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Ic=!1}function Tc(e,t){hc.call(this),this.h=e||1,this.g=t||rs,this.j=fs(this.lb,this),this.l=Date.now()}function Cc(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}function Ac(e,t,n){if("function"===typeof e)n&&(e=fs(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=fs(e.handleEvent,e)}return 2147483647<Number(t)?-1:rs.setTimeout(e,t||0)}function Nc(e){e.g=Ac((function(){e.g=null,e.i&&(e.i=!1,Nc(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}hs(Tc,hc),(Ju=Tc.prototype).ca=!1,Ju.R=null,Ju.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),pc(this,"tick"),this.ca&&(Cc(this),this.start()))}},Ju.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ju.M=function(){Tc.X.M.call(this),Cc(this),delete this.g};var Rc=function(e){Fa(n,e);var t=Ua(n);function n(e,r){var i;return Xn(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return er(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Nc(this)}},{key:"M",value:function(){Yu(Za(n.prototype),"M",this).call(this),this.g&&(rs.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(ps);function Pc(e){ps.call(this),this.h=e,this.g={}}hs(Pc,ps);var Oc=[];function Dc(e,t,n,r){Array.isArray(n)||(n&&(Oc[0]=n.toString()),n=Oc);for(var i=0;i<n.length;i++){var a=rc(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Mc(e){Hs(e.g,(function(e,t){this.g.hasOwnProperty(t)&&uc(e)}),e),e.g={}}function Lc(){this.g=!0}function Fc(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return mc(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}Pc.prototype.M=function(){Pc.X.M.call(this),Mc(this)},Pc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Lc.prototype.Aa=function(){this.g=!1},Lc.prototype.info=function(){};var Zc={},jc=null;function Vc(){return jc=jc||new hc}function Uc(e){gs.call(this,Zc.Pa,e)}function zc(e){var t=Vc();pc(t,new Uc(t))}function Bc(e,t){gs.call(this,Zc.STAT_EVENT,e),this.stat=t}function qc(e){var t=Vc();pc(t,new Bc(t,e))}function Wc(e,t){gs.call(this,Zc.Qa,e),this.size=t}function Kc(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return rs.setTimeout((function(){e()}),t)}Zc.Pa="serverreachability",hs(Uc,gs),Zc.STAT_EVENT="statevent",hs(Bc,gs),Zc.Qa="timingevent",hs(Wc,gs);var Gc={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Hc={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Qc(){}function $c(e){return e.h||(e.h=e.i())}function Xc(){}Qc.prototype.h=null;var Yc,Jc={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function el(){gs.call(this,"d")}function tl(){gs.call(this,"c")}function nl(){}function rl(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new Pc(this),this.O=al,e=Ns?125:void 0,this.T=new Tc(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new il}function il(){this.i=null,this.g="",this.h=!1}hs(el,gs),hs(tl,gs),hs(nl,Qc),nl.prototype.g=function(){return new XMLHttpRequest},nl.prototype.i=function(){return{}},Yc=new nl;var al=45e3,ol={},ul={};function sl(e,t,n){e.K=1,e.v=Tl(xl(t)),e.s=n,e.P=!0,cl(e,null)}function cl(e,t){e.F=Date.now(),hl(e),e.A=xl(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),Vl(n.i,"t",r),e.C=0,n=e.l.H,e.h=new il,e.g=zf(e.l,n?t:null,!e.s),0<e.N&&(e.L=new Rc(fs(e.La,e,e.g),e.N)),Dc(e.S,e.g,"readystatechange",e.ib),t=e.H?Qs(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),zc(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.U,e.s)}function ll(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Da)}function fl(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=dl(e,n))==ul){4==t&&(e.o=4,qc(14),i=!1),Fc(e.j,e.m,null,"[Incomplete Response]");break}if(r==ol){e.o=4,qc(15),Fc(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Fc(e.j,e.m,r,null),gl(e,r)}ll(e)&&r!=ul&&r!=ol&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,qc(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.$&&(e.$=!0,(t=e.l).g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Df(t),t.K=!0,qc(11))):(Fc(e.j,e.m,n,"[Invalid Chunked Response]"),yl(e),ml(e))}function dl(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?ul:(n=Number(t.substring(n,r)),isNaN(n)?ol:(r+=1)+n>t.length?ul:(t=t.substr(r,n),e.C=r+n,t))}function hl(e){e.V=Date.now()+e.O,pl(e,e.O)}function pl(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Kc(fs(e.gb,e),t)}function vl(e){e.B&&(rs.clearTimeout(e.B),e.B=null)}function ml(e){0==e.l.G||e.I||Ff(e.l,e)}function yl(e){vl(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Cc(e.T),Mc(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function gl(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Hl(n.h,e)))if(!e.J&&Hl(n.h,e)&&3==n.G){try{var r=n.Fa.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Lf(n),_f(n)}Of(n),qc(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=Kc(fs(n.cb,n),6e3));if(1>=Gl(n.h)&&n.ja){try{n.ja()}catch(a){}n.ja=void 0}}else jf(n,11)}else if((e.J||n.g==e)&&Lf(n),!ks(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.T=a[0],a=a[1],2==n.G)if("c"==a[0]){n.I=a[1],n.ka=a[2];var o=a[3];null!=o&&(n.ma=o,n.j.info("VER="+n.ma));var u=a[4];null!=u&&(n.Ca=u,n.j.info("SVER="+n.Ca));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.h;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(Ql(f,f.h),f.h=null))}if(r.D){var d=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;d&&(r.za=d,_l(r.F,r.D,d))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms"));var h=e;if((r=n).sa=Uf(r,r.H?r.ka:null,r.V),h.J){$l(r.h,h);var p=h,v=r.J;v&&p.setTimeout(v),p.B&&(vl(p),hl(p)),r.g=h}else Pf(r);0<n.i.length&&Cf(n)}else"stop"!=a[0]&&"close"!=a[0]||jf(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?jf(n,7):Ef(n):"noop"!=a[0]&&n.l&&n.l.wa(a),n.A=0)}zc()}catch(a){}}function bl(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(as(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.oa&&"function"==typeof e.oa)return e.oa();if(!e.W||"function"!=typeof e.W){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(as(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.W&&"function"==typeof e.W)return e.W();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(as(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(Ju=rl.prototype).setTimeout=function(e){this.O=e},Ju.ib=function(e){e=e.target;var t=this.L;t&&3==bf(e)?t.l():this.La(e)},Ju.La=function(e){try{if(e==this.g)e:{var t=bf(this.g),n=this.g.Ea();this.g.aa();if(!(3>t)&&(3!=t||Ns||this.g&&(this.h.h||this.g.fa()||kf(this.g)))){this.I||4!=t||7==n||zc(),vl(this);var r=this.g.aa();this.Y=r;t:if(ll(this)){var i=kf(this.g);e="";var a=i.length,o=4==bf(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){yl(this),ml(this);var u="";break t}this.h.i=new rs.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.fa();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.U,t,r),this.i){if(this.Z&&!this.J){t:{if(this.g){var s,c=this.g;if((s=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ks(s)){var l=s;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,qc(12),yl(this),ml(this);break e}Fc(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,gl(this,r)}this.P?(fl(this,t,u),Ns&&this.i&&3==t&&(Dc(this.S,this.T,"tick",this.hb),this.T.start())):(Fc(this.j,this.m,u,null),gl(this,u)),4==t&&yl(this),this.i&&!this.I&&(4==t?Ff(this.l,this):(this.i=!1,hl(this)))}else 400==r&&0<u.indexOf("Unknown SID")?(this.o=3,qc(12)):(this.o=0,qc(13)),yl(this),ml(this)}}}catch(t){}},Ju.hb=function(){if(this.g){var e=bf(this.g),t=this.g.fa();this.C<t.length&&(vl(this),fl(this,e,t),this.i&&4!=e&&hl(this))}},Ju.cancel=function(){this.I=!0,yl(this)},Ju.gb=function(){this.B=null;var e=Date.now();0<=e-this.V?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(zc(),qc(17)),yl(this),this.o=2,ml(this)):pl(this,this.V-e)};var kl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wl(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof wl){this.h=void 0!==t?t:e.h,Sl(this,e.j),this.s=e.s,this.g=e.g,Il(this,e.m),this.l=e.l,t=e.i;var n=new Ll;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),El(this,n),this.o=e.o}else e&&(n=String(e).match(kl))?(this.h=!!t,Sl(this,n[1]||"",!0),this.s=Cl(n[2]||""),this.g=Cl(n[3]||"",!0),Il(this,n[4]),this.l=Cl(n[5]||"",!0),El(this,n[6]||"",!0),this.o=Cl(n[7]||"")):(this.h=!!t,this.i=new Ll(null,this.h))}function xl(e){return new wl(e)}function Sl(e,t,n){e.j=n?Cl(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Il(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function El(e,t,n){t instanceof Ll?(e.i=t,function(e,t){t&&!e.j&&(Fl(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Zl(this,t),Vl(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Al(t,Dl)),e.i=new Ll(t,e.h))}function _l(e,t,n){e.i.set(t,n)}function Tl(e){return _l(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Cl(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Al(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Nl),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Nl(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}wl.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Al(t,Rl,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Al(t,Rl,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Al(n,"/"==n.charAt(0)?Ol:Pl,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Al(n,Ml)),e.join("")};var Rl=/[#\/\?@]/g,Pl=/[#\?:]/g,Ol=/[#\?]/g,Dl=/[#\?@]/g,Ml=/#/g;function Ll(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Fl(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Zl(e,t){Fl(e),t=Ul(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function jl(e,t){return Fl(e),t=Ul(e,t),e.g.has(t)}function Vl(e,t,n){Zl(e,t),0<n.length&&(e.i=null,e.g.set(Ul(e,t),ms(n)),e.h+=n.length)}function Ul(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Ju=Ll.prototype).add=function(e,t){Fl(this),this.i=null,e=Ul(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Ju.forEach=function(e,t){Fl(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Ju.oa=function(){Fl(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Ju.W=function(e){Fl(this);var t=[];if("string"===typeof e)jl(this,e)&&(t=t.concat(this.g.get(Ul(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},Ju.set=function(e,t){return Fl(this),this.i=null,jl(this,e=Ul(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Ju.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},Ju.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.W(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var zl=er((function e(t,n){Xn(this,e),this.h=t,this.g=n}));function Bl(e){this.l=e||Wl,rs.PerformanceNavigationTiming?e=0<(e=rs.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(rs.g&&rs.g.Ga&&rs.g.Ga()&&rs.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var ql,Wl=10;function Kl(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Gl(e){return e.h?1:e.g?e.g.size:0}function Hl(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Ql(e,t){e.g?e.g.add(t):e.h=t}function $l(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Xl(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=La(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return ms(e.i)}function Yl(){}function Jl(){this.g=new Yl}function ef(e,t,n){var r=n||"";try{bl(e,(function(e,n){var i=e;os(e)&&(i=mc(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function tf(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function nf(e){this.l=e.ac||null,this.j=e.jb||!1}function rf(e,t){hc.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=af,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Bl.prototype.cancel=function(){if(this.i=Xl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=La(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},Yl.prototype.stringify=function(e){return rs.JSON.stringify(e,void 0)},Yl.prototype.parse=function(e){return rs.JSON.parse(e,void 0)},hs(nf,Qc),nf.prototype.g=function(){return new rf(this.l,this.j)},nf.prototype.i=(ql={},function(){return ql}),hs(rf,hc);var af=0;function of(e){e.j.read().then(e.Ta.bind(e)).catch(e.ga.bind(e))}function uf(e){e.readyState=4,e.l=null,e.j=null,e.A=null,sf(e)}function sf(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Ju=rf.prototype).open=function(e,t){if(this.readyState!=af)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,sf(this)},Ju.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||rs).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},Ju.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,uf(this)),this.readyState=af},Ju.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,sf(this)),this.g&&(this.readyState=3,sf(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if("undefined"!==typeof rs.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;of(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))},Ju.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?uf(this):sf(this),3==this.readyState&&of(this)}},Ju.Va=function(e){this.g&&(this.response=this.responseText=e,uf(this))},Ju.Ua=function(e){this.g&&(this.response=e,uf(this))},Ju.ga=function(){this.g&&uf(this)},Ju.setRequestHeader=function(e,t){this.v.append(e,t)},Ju.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Ju.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(rf.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var cf=rs.JSON.parse;function lf(e){hc.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=ff,this.K=this.L=!1}hs(lf,hc);var ff="",df=/^https?$/i,hf=["POST","PUT"];function pf(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,vf(e),yf(e)}function vf(e){e.D||(e.D=!0,pc(e,"complete"),pc(e,"error"))}function mf(e){if(e.h&&"undefined"!=typeof ns&&(!e.C[1]||4!=bf(e)||2!=e.aa()))if(e.v&&4==bf(e))Ac(e.Ha,0,e);else if(pc(e,"readystatechange"),4==bf(e)){e.h=!1;try{var t,n=e.aa();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(kl)[1]||null;if(!a&&rs.self&&rs.self.location){var o=rs.self.location.protocol;a=o.substr(0,o.length-1)}i=!df.test(a?a.toLowerCase():"")}t=i}if(t)pc(e,"complete"),pc(e,"success");else{e.m=6;try{var u=2<bf(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.aa()+"]",vf(e)}}finally{yf(e)}}}function yf(e,t){if(e.g){gf(e);var n=e.g,r=e.C[0]?is:null;e.g=null,e.C=null,t||pc(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function gf(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(rs.clearTimeout(e.A),e.A=null)}function bf(e){return e.g?e.g.readyState:0}function kf(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case ff:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(od){return null}}function wf(e){var t="";return Hs(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function xf(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=wf(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):_l(e,t,n))}function Sf(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function If(e){this.Ca=0,this.i=[],this.j=new Lc,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Sf("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Sf("baseRetryDelayMs",5e3,e),this.bb=Sf("retryDelaySeedMs",1e4,e),this.$a=Sf("forwardChannelMaxRetries",2,e),this.ta=Sf("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new Bl(e&&e.concurrentRequestLimit),this.Fa=new Jl,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Ef(e){if(Tf(e),3==e.G){var t=e.U++,n=xl(e.F);_l(n,"SID",e.I),_l(n,"RID",t),_l(n,"TYPE","terminate"),Nf(e,n),(t=new rl(e,e.j,t,void 0)).K=2,t.v=Tl(xl(n)),n=!1,rs.navigator&&rs.navigator.sendBeacon&&(n=rs.navigator.sendBeacon(t.v.toString(),"")),!n&&rs.Image&&((new Image).src=t.v,n=!0),n||(t.g=zf(t.l,null),t.g.da(t.v)),t.F=Date.now(),hl(t)}Vf(e)}function _f(e){e.g&&(Df(e),e.g.cancel(),e.g=null)}function Tf(e){_f(e),e.u&&(rs.clearTimeout(e.u),e.u=null),Lf(e),e.h.cancel(),e.m&&("number"===typeof e.m&&rs.clearTimeout(e.m),e.m=null)}function Cf(e){Kl(e.h)||e.m||(e.m=!0,Sc(e.Ja,e),e.C=0)}function Af(e,t){var n;n=t?t.m:e.U++;var r=xl(e.F);_l(r,"SID",e.I),_l(r,"RID",n),_l(r,"AID",e.T),Nf(e,r),e.o&&e.s&&xf(r,e.o,e.s),n=new rl(e,e.j,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=Rf(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),Ql(e.h,n),sl(n,r,t)}function Nf(e,t){e.ia&&Hs(e.ia,(function(e,n){_l(t,n,e)})),e.l&&bl({},(function(e,n){_l(t,n,e)}))}function Rf(e,t,n){n=Math.min(e.i.length,n);var r=e.l?fs(e.l.Ra,e.l,e):null;e:for(var i=e.i,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{ef(l,o,"req"+c+"_")}catch(vd){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.i.splice(0,n),t.D=e,r}function Pf(e){e.g||e.u||(e.Z=1,Sc(e.Ia,e),e.A=0)}function Of(e){return!(e.g||e.u||3<=e.A)&&(e.Z++,e.u=Kc(fs(e.Ia,e),Zf(e,e.A)),e.A++,!0)}function Df(e){null!=e.B&&(rs.clearTimeout(e.B),e.B=null)}function Mf(e){e.g=new rl(e,e.j,"rpc",e.Z),null===e.o&&(e.g.H=e.s),e.g.N=0;var t=xl(e.sa);_l(t,"RID","rpc"),_l(t,"SID",e.I),_l(t,"CI",e.L?"0":"1"),_l(t,"AID",e.T),_l(t,"TYPE","xmlhttp"),Nf(e,t),e.o&&e.s&&xf(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=Tl(xl(t)),n.s=null,n.P=!0,cl(n,e)}function Lf(e){null!=e.v&&(rs.clearTimeout(e.v),e.v=null)}function Ff(e,t){var n=null;if(e.g==t){Lf(e),Df(e),e.g=null;var r=2}else{if(!Hl(e.h,t))return;n=t.D,$l(e.h,t),r=1}if(0!=e.G)if(e.pa=t.Y,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;pc(r=Vc(),new Wc(r,n)),Cf(e)}else Pf(e);else if(3==(i=t.o)||0==i&&0<e.pa||!(1==r&&function(e,t){return!(Gl(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.C>=(e.Za?0:e.$a))&&(e.m=Kc(fs(e.Ja,e,t),Zf(e,e.C)),e.C++,!0))}(e,t)||2==r&&Of(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:jf(e,5);break;case 4:jf(e,10);break;case 3:jf(e,6);break;default:jf(e,2)}}function Zf(e,t){var n=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(n*=2),n*t}function jf(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=fs(e.kb,e);n||(n=new wl("//www.google.com/images/cleardot.gif"),rs.location&&"http"==rs.location.protocol||Sl(n,"https"),Tl(n)),function(e,t){var n=new Lc;if(rs.Image){var r=new Image;r.onload=ds(tf,n,r,"TestLoadImage: loaded",!0,t),r.onerror=ds(tf,n,r,"TestLoadImage: error",!1,t),r.onabort=ds(tf,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=ds(tf,n,r,"TestLoadImage: timeout",!1,t),rs.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else qc(2);e.G=0,e.l&&e.l.va(t),Vf(e),Tf(e)}function Vf(e){if(e.G=0,e.la=[],e.l){var t=Xl(e.h);0==t.length&&0==e.i.length||(ys(e.la,t),ys(e.la,e.i),e.h.i.length=0,ms(e.i),e.i.length=0),e.l.ua()}}function Uf(e,t,n){var r=n instanceof wl?xl(n):new wl(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),Il(r,r.m);else{var i=rs.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new wl(null,void 0);r&&Sl(a,r),t&&(a.g=t),i&&Il(a,i),n&&(a.l=n),r=a}return n=e.D,t=e.za,n&&t&&_l(r,n,t),_l(r,"VER",e.ma),Nf(e,r),r}function zf(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Da&&!e.ra?new lf(new nf({jb:!0})):new lf(e.ra)).Ka(e.H),t}function Bf(){}function qf(){if(Cs&&!(10<=Number(Us)))throw Error("Environmental error: no available transport.")}function Wf(e,t){hc.call(this),this.g=new If(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!ks(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!ks(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Hf(this)}function Kf(e){el.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Gf(){tl.call(this),this.status=1}function Hf(e){this.g=e}(Ju=lf.prototype).Ka=function(e){this.L=e},Ju.da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Yc.g(),this.C=this.u?$c(this.u):$c(Yc),this.g.onreadystatechange=fs(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(u){return void pf(this,u)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=La(r.keys());try{for(o.s();!(a=o.n()).done;){var u=a.value;n.set(u,r.get(u))}}catch(h){o.e(h)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=rs.FormData&&e instanceof rs.FormData,!(0<=vs(hf,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var s,c=La(n);try{for(c.s();!(s=c.n()).done;){var l=(0,m.Z)(s.value,2),f=l[0],d=l[1];this.g.setRequestHeader(f,d)}}catch(h){c.e(h)}finally{c.f()}this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{gf(this),0<this.B&&((this.K=function(e){return Cs&&js()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=fs(this.qa,this)):this.A=Ac(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(u){pf(this,u)}},Ju.qa=function(){"undefined"!=typeof ns&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,pc(this,"timeout"),this.abort(8))},Ju.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,pc(this,"complete"),pc(this,"abort"),yf(this))},Ju.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),yf(this,!0)),lf.X.M.call(this)},Ju.Ha=function(){this.s||(this.F||this.v||this.l?mf(this):this.fb())},Ju.fb=function(){mf(this)},Ju.aa=function(){try{return 2<bf(this)?this.g.status:-1}catch(ql){return-1}},Ju.fa=function(){try{return this.g?this.g.responseText:""}catch(ql){return""}},Ju.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),cf(t)}},Ju.Ea=function(){return this.m},Ju.Oa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Ju=If.prototype).ma=8,Ju.G=1,Ju.Ja=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;var t=new rl(this,this.j,e,void 0),n=this.s;if(this.S&&(n?Xs(n=Qs(n),this.S):n=this.S),null!==this.o||this.N||(t.H=n,n=null),this.O)e:{for(var r=0,i=0;i<this.i.length;i++){var a=this.i[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.i.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Rf(this,t,r),_l(i=xl(this.F),"RID",e),_l(i,"CVER",22),this.D&&_l(i,"X-HTTP-Session-Id",this.D),Nf(this,i),n&&(this.N?r="headers="+encodeURIComponent(String(wf(n)))+"&"+r:this.o&&xf(i,this.o,n)),Ql(this.h,t),this.Ya&&_l(i,"TYPE","init"),this.O?(_l(i,"$req",r),_l(i,"SID","null"),t.Z=!0,sl(t,i,null)):sl(t,i,r),this.G=2}}else 3==this.G&&(e?Af(this,e):0==this.i.length||Kl(this.h)||Af(this))},Ju.Ia=function(){if(this.u=null,Mf(this),this.$&&!(this.K||null==this.g||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=Kc(fs(this.eb,this),e)}},Ju.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,qc(10),_f(this),Mf(this))},Ju.cb=function(){null!=this.v&&(this.v=null,_f(this),Of(this),qc(19))},Ju.kb=function(e){e?(this.j.info("Successfully pinged google.com"),qc(2)):(this.j.info("Failed to ping google.com"),qc(1))},(Ju=Bf.prototype).xa=function(){},Ju.wa=function(){},Ju.va=function(){},Ju.ua=function(){},Ju.Ra=function(){},qf.prototype.g=function(e,t){return new Wf(e,t)},hs(Wf,hc),Wf.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;qc(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=Uf(e,null,e.V),Cf(e)},Wf.prototype.close=function(){Ef(this.g)},Wf.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=mc(e),e=n);t.i.push(new zl(t.ab++,e)),3==t.G&&Cf(t)},Wf.prototype.M=function(){this.g.l=null,delete this.j,Ef(this.g),delete this.g,Wf.X.M.call(this)},hs(Kf,el),hs(Gf,tl),hs(Hf,Bf),Hf.prototype.xa=function(){pc(this.g,"a")},Hf.prototype.wa=function(e){pc(this.g,new Kf(e))},Hf.prototype.va=function(e){pc(this.g,new Gf)},Hf.prototype.ua=function(){pc(this.g,"b")},qf.prototype.createWebChannel=qf.prototype.g,Wf.prototype.send=Wf.prototype.u,Wf.prototype.open=Wf.prototype.m,Wf.prototype.close=Wf.prototype.close,Gc.NO_ERROR=0,Gc.TIMEOUT=8,Gc.HTTP_ERROR=6,Hc.COMPLETE="complete",Xc.EventType=Jc,Jc.OPEN="a",Jc.CLOSE="b",Jc.ERROR="c",Jc.MESSAGE="d",hc.prototype.listen=hc.prototype.N,lf.prototype.listenOnce=lf.prototype.O,lf.prototype.getLastError=lf.prototype.Oa,lf.prototype.getLastErrorCode=lf.prototype.Ea,lf.prototype.getStatus=lf.prototype.aa,lf.prototype.getResponseJson=lf.prototype.Sa,lf.prototype.getResponseText=lf.prototype.fa,lf.prototype.send=lf.prototype.da,lf.prototype.setWithCredentials=lf.prototype.Ka;var Qf=ts.createWebChannelTransport=function(){return new qf},$f=ts.getStatEventTarget=function(){return Vc()},Xf=ts.ErrorCode=Gc,Yf=ts.EventType=Hc,Jf=ts.Event=Zc,ed=ts.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},td=ts.FetchXmlHttpFactory=nf,nd=ts.WebChannel=Xc,rd=ts.XhrIo=lf,id="@firebase/firestore",ad=function(){function e(t){Xn(this,e),this.uid=t}return er(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();ad.UNAUTHENTICATED=new ad(null),ad.GOOGLE_CREDENTIALS=new ad("google-credentials-uid"),ad.FIRST_PARTY=new ad("first-party-uid"),ad.MOCK_USER=new ad("mock-user");var od="9.18.0",ud=new Do("@firebase/firestore");function sd(){return ud.logLevel}function cd(e){if(ud.logLevel<=To.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(dd);ud.debug.apply(ud,["Firestore (".concat(od,"): ").concat(e)].concat((0,re.Z)(i)))}}function ld(e){if(ud.logLevel<=To.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(dd);ud.error.apply(ud,["Firestore (".concat(od,"): ").concat(e)].concat((0,re.Z)(i)))}}function fd(e){if(ud.logLevel<=To.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(dd);ud.warn.apply(ud,["Firestore (".concat(od,"): ").concat(e)].concat((0,re.Z)(i)))}}function dd(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function hd(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(od,") INTERNAL ASSERTION FAILED: ")+e;throw ld(t),new Error(t)}function pd(e,t){e||hd()}function vd(e,t){return e}var md={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},yd=function(e){Fa(n,e);var t=Ua(n);function n(e,r){var i;return Xn(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return er(n)}(oo),gd=er((function e(){var t=this;Xn(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),bd=er((function e(t,n){Xn(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),kd=function(){function e(){Xn(this,e)}return er(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(ad.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),wd=function(){function e(t){Xn(this,e),this.token=t,this.changeListener=null}return er(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),xd=function(){function e(t){Xn(this,e),this.t=t,this.currentUser=ad.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return er(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new gd;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new gd,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(xo(ko().mark((function e(){return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){cd("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(cd("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new gd)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(cd("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(pd("string"==typeof n.accessToken),new bd(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return pd(null===e||"string"==typeof e),new ad(e)}}]),e}(),Sd=function(){function e(t,n,r,i){Xn(this,e),this.h=t,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=ad.FIRST_PARTY,this.p=new Map}return er(e,[{key:"I",value:function(){return this.g?this.g():(pd(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}},{key:"headers",get:function(){this.p.set("X-Goog-AuthUser",this.l);var e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}]),e}(),Id=function(){function e(t,n,r,i){Xn(this,e),this.h=t,this.l=n,this.m=r,this.g=i}return er(e,[{key:"getToken",value:function(){return Promise.resolve(new Sd(this.h,this.l,this.m,this.g))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(ad.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Ed=er((function e(t){Xn(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),_d=function(){function e(t){Xn(this,e),this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}return er(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&cd("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.A;return n.A=e.token,cd("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){cd("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.T.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.T.getImmediate({optional:!0});e?i(e):cd("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(pd("string"==typeof t.token),e.A=t.token,new Ed(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function Td(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Cd=function(){function e(){Xn(this,e)}return er(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Td(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Ad(e,t){return e<t?-1:e>t?1:0}function Nd(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Rd(e){return e+"\0"}var Pd=function(){function e(t,n){if(Xn(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new yd(md.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new yd(md.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new yd(md.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new yd(md.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return er(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Ad(this.nanoseconds,e.nanoseconds):Ad(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Od=function(){function e(t){Xn(this,e),this.timestamp=t}return er(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Pd(0,0))}},{key:"max",value:function(){return new e(new Pd(253402300799,999999999))}}]),e}(),Dd=function(){function e(t,n,r){Xn(this,e),void 0===n?n=0:n>t.length&&hd(),void 0===r?r=t.length-n:r>t.length-n&&hd(),this.segments=t,this.offset=n,this.len=r}return er(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Md=function(e){Fa(n,e);var t=Ua(n);function n(){return Xn(this,n),t.apply(this,arguments)}return er(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new yd(md.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,(0,re.Z)(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Dd),Ld=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Fd=function(e){Fa(n,e);var t=Ua(n);function n(){return Xn(this,n),t.apply(this,arguments)}return er(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Ld.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new yd(md.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new yd(md.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new yd(md.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new yd(md.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Dd),Zd=function(){function e(t){Xn(this,e),this.path=t}return er(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Md.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Md.fromString(t))}},{key:"fromName",value:function(t){return new e(Md.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Md.emptyPath())}},{key:"comparator",value:function(e,t){return Md.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Md(t.slice()))}}]),e}(),jd=er((function e(t,n,r,i){Xn(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function Vd(e){return e.fields.find((function(e){return 2===e.kind}))}function Ud(e){return e.fields.filter((function(e){return 2!==e.kind}))}jd.UNKNOWN_ID=-1;var zd=er((function e(t,n){Xn(this,e),this.fieldPath=t,this.kind=n}));var Bd=function(){function e(t,n){Xn(this,e),this.sequenceNumber=t,this.offset=n}return er(e,null,[{key:"empty",value:function(){return new e(0,Kd.min())}}]),e}();function qd(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Od.fromTimestamp(1e9===r?new Pd(n+1,0):new Pd(n,r));return new Kd(i,Zd.empty(),t)}function Wd(e){return new Kd(e.readTime,e.key,-1)}var Kd=function(){function e(t,n,r){Xn(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return er(e,null,[{key:"min",value:function(){return new e(Od.min(),Zd.empty(),-1)}},{key:"max",value:function(){return new e(Od.max(),Zd.empty(),-1)}}]),e}();function Gd(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Zd.comparator(e.documentKey,t.documentKey))?n:Ad(e.largestBatchId,t.largestBatchId)}var Hd="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Qd=function(){function e(){Xn(this,e),this.onCommittedListeners=[]}return er(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function $d(e){return Xd.apply(this,arguments)}function Xd(){return Xd=xo(ko().mark((function e(t){return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===md.FAILED_PRECONDITION&&t.message===Hd){e.next=2;break}throw t;case 2:cd("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),Xd.apply(this,arguments)}var Yd=function(){function e(t){var n=this;Xn(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return er(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&hd(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=La(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(){var u=s;n(t[u]).next((function(t){a[u]=t,++o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),Jd=function(){function e(t,n){var r=this;Xn(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.P=new gd,this.transaction.oncomplete=function(){r.P.resolve()},this.transaction.onabort=function(){n.error?r.P.reject(new nh(t,n.error)):r.P.resolve()},this.transaction.onerror=function(e){var n=uh(e.target.error);r.P.reject(new nh(t,n))}}return er(e,[{key:"v",get:function(){return this.P.promise}},{key:"abort",value:function(e){e&&this.P.reject(e),this.aborted||(cd("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"V",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new ih(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new nh(n,t)}}}]),e}(),eh=function(){function e(t,n,r){Xn(this,e),this.name=t,this.version=n,this.S=r,12.2===e.D(eo())&&ld("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return er(e,[{key:"O",value:function(){var e=xo(ko().mark((function e(t){var n=this;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return cd("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new nh(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new yd(md.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new yd(md.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new nh(t,n))},i.onupgradeneeded=function(e){cd("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.S.F(t,i.transaction,e.oldVersion,n.version).next((function(){cd("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.B&&(this.db.onversionchange=function(e){return n.B(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"L",value:function(e){this.B=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=xo(ko().mark((function e(t,n,r,i){var a,o,u,s,c=this;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0,u=ko().mark((function e(){var n,u,s,l;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return++o,e.prev=1,e.next=4,c.O(t);case 4:return c.db=e.sent,n=Jd.open(c.db,t,a?"readonly":"readwrite",r),u=i(n).next((function(e){return n.V(),e})).catch((function(e){return n.abort(e),Yd.reject(e)})).toPromise(),u.catch((function(){})),e.next=9,n.v;case 9:return e.t0=u,e.abrupt("return",{v:e.t0});case 13:if(e.prev=13,e.t1=e.catch(1),s=e.t1,l="FirebaseError"!==s.name&&o<3,cd("SimpleDb","Transaction failed with error:",s.message,"Retrying:",l),c.close(),l){e.next=18;break}return e.abrupt("return",{v:Promise.reject(s)});case 18:case"end":return e.stop()}}),e,null,[[1,13]])}));case 3:return e.delegateYield(u(),"t0",4);case 4:if("object"!==typeof(s=e.t0)){e.next=7;break}return e.abrupt("return",s.v);case 7:e.next=3;break;case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return cd("SimpleDb","Removing database:",e),ah(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"C",value:function(){if(!ao())return!1;if(e.N())return!0;var t=eo(),n=e.D(t),r=0<n&&n<10,i=e.k(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"N",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.$)}},{key:"M",value:function(e,t){return e.store(t)}},{key:"D",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"k",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),th=function(){function e(t){Xn(this,e),this.q=t,this.U=!1,this.K=null}return er(e,[{key:"isDone",get:function(){return this.U}},{key:"G",get:function(){return this.K}},{key:"cursor",set:function(e){this.q=e}},{key:"done",value:function(){this.U=!0}},{key:"j",value:function(e){this.K=e}},{key:"delete",value:function(){return ah(this.q.delete())}}]),e}(),nh=function(e){Fa(n,e);var t=Ua(n);function n(e,r){var i;return Xn(this,n),(i=t.call(this,md.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return er(n)}(yd);function rh(e){return"IndexedDbTransactionError"===e.name}var ih=function(){function e(t){Xn(this,e),this.store=t}return er(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(cd("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(cd("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),ah(n)}},{key:"add",value:function(e){return cd("SimpleDb","ADD",this.store.name,e,e),ah(this.store.add(e))}},{key:"get",value:function(e){var t=this;return ah(this.store.get(e)).next((function(n){return void 0===n&&(n=null),cd("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return cd("SimpleDb","DELETE",this.store.name,e),ah(this.store.delete(e))}},{key:"count",value:function(){return cd("SimpleDb","COUNT",this.store.name),ah(this.store.count())}},{key:"W",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.H(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new Yd((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new Yd((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Y",value:function(e,t){cd("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Z=!1;var r=this.cursor(n);return this.H(r,(function(e,t,n){return n.delete()}))}},{key:"X",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.H(r,t)}},{key:"tt",value:function(e){var t=this.cursor({});return new Yd((function(n,r){t.onerror=function(e){var t=uh(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"H",value:function(e,t){var n=[];return new Yd((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new th(i),o=t(i.primaryKey,i.value,a);if(o instanceof Yd){var u=o.catch((function(e){return a.done(),Yd.reject(e)}));n.push(u)}a.isDone?r():null===a.G?i.continue():i.continue(a.G)}else r()}})).next((function(){return Yd.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Z?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function ah(e){return new Yd((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=uh(e.target.error);n(t)}}))}var oh=!1;function uh(e){var t=eh.D(eo());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new yd("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return oh||(oh=!0,setTimeout((function(){throw r}),0)),r}}return e}var sh=function(){function e(t,n){Xn(this,e),this.asyncQueue=t,this.et=n,this.task=null}return er(e,[{key:"start",value:function(){this.nt(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"nt",value:function(e){var t=this;cd("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,xo(ko().mark((function e(){return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=cd,e.t1="Documents written: ",e.next=6,t.et.st();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!rh(e.t4)){e.next=17;break}cd("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,$d(e.t4);case 19:return e.next=21,t.nt(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),ch=function(){function e(t,n){Xn(this,e),this.localStore=t,this.persistence=n}return er(e,[{key:"st",value:function(){var e=xo(ko().mark((function e(){var t,n=this,r=arguments;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.it(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"it",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return Yd.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return cd("IndexBackiller","Processing collection: ".concat(t)),n.rt(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"rt",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.ot(i,n)})).next((function(n){return cd("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"ot",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=Wd(t);Gd(r,n)>0&&(n=r)})),new Kd(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),lh=function(){function e(t,n){var r=this;Xn(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ut(e)},this.ct=function(e){return n.writeSequenceNumber(e)})}return er(e,[{key:"ut",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ct&&this.ct(e),e}}]),e}();lh.at=-1;var fh=er((function e(t,n,r,i,a,o,u,s){Xn(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),dh=function(){function e(t,n){Xn(this,e),this.projectId=t,this.database=n||"(default)"}return er(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function hh(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ph(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function vh(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function mh(e){return null==e}function yh(e){return 0===e&&1/e==-1/0}function gh(e){return"number"==typeof e&&Number.isInteger(e)&&!yh(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var bh=function(e){Fa(n,e);var t=Ua(n);function n(){var e;return Xn(this,n),(e=t.apply(this,arguments)).name="Base64DecodeError",e}return er(n)}(Ba(Error));var kh=function(e){function t(e){Xn(this,t),this.binaryString=e}return er(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Ad(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=function(e){try{return atob(e)}catch(e){throw e instanceof DOMException?new bh("Invalid base64 string: "+e):e}}(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();kh.EMPTY_BYTE_STRING=new kh("");var wh=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xh(e){if(pd(!!e),"string"==typeof e){var t=0,n=wh.exec(e);if(pd(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Sh(e.seconds),nanos:Sh(e.nanos)}}function Sh(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Ih(e){return"string"==typeof e?kh.fromBase64String(e):kh.fromUint8Array(e)}function Eh(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function _h(e){var t=e.mapValue.fields.__previous_value__;return Eh(t)?_h(t):t}function Th(e){var t=xh(e.mapValue.fields.__local_write_time__.timestampValue);return new Pd(t.seconds,t.nanos)}var Ch={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Ah={nullValue:"NULL_VALUE"};function Nh(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Eh(e)?4:qh(e)?9007199254740991:10:hd()}function Rh(e,t){if(e===t)return!0;var n=Nh(e);if(n!==Nh(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Th(e).isEqual(Th(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=xh(e.timestampValue),r=xh(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Ih(e.bytesValue).isEqual(Ih(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Sh(e.geoPointValue.latitude)===Sh(t.geoPointValue.latitude)&&Sh(e.geoPointValue.longitude)===Sh(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Sh(e.integerValue)===Sh(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Sh(e.doubleValue),r=Sh(t.doubleValue);return n===r?yh(n)===yh(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Nd(e.arrayValue.values||[],t.arrayValue.values||[],Rh);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(hh(n)!==hh(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Rh(n[i],r[i])))return!1;return!0}(e,t);default:return hd()}}function Ph(e,t){return void 0!==(e.values||[]).find((function(e){return Rh(e,t)}))}function Oh(e,t){if(e===t)return 0;var n=Nh(e),r=Nh(t);if(n!==r)return Ad(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ad(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Sh(e.integerValue||e.doubleValue),r=Sh(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Dh(e.timestampValue,t.timestampValue);case 4:return Dh(Th(e),Th(t));case 5:return Ad(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Ih(e),r=Ih(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Ad(n[i],r[i]);if(0!==a)return a}return Ad(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Ad(Sh(e.latitude),Sh(t.latitude));return 0!==n?n:Ad(Sh(e.longitude),Sh(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Oh(n[i],r[i]);if(a)return a}return Ad(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Ch.mapValue&&t===Ch.mapValue)return 0;if(e===Ch.mapValue)return 1;if(t===Ch.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=Ad(r[o],a[o]);if(0!==u)return u;var s=Oh(n[r[o]],i[a[o]]);if(0!==s)return s}return Ad(r.length,a.length)}(e.mapValue,t.mapValue);default:throw hd()}}function Dh(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Ad(e,t);var n=xh(e),r=xh(t),i=Ad(n.seconds,r.seconds);return 0!==i?i:Ad(n.nanos,r.nanos)}function Mh(e){return Lh(e)}function Lh(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=xh(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Ih(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Zd.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=La(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Lh(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=La(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Lh(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):hd();var t,n}function Fh(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Zh(e){return!!e&&"integerValue"in e}function jh(e){return!!e&&"arrayValue"in e}function Vh(e){return!!e&&"nullValue"in e}function Uh(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function zh(e){return!!e&&"mapValue"in e}function Bh(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return ph(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Bh(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Bh(e.arrayValue.values[r]);return n}return Object.assign({},e)}function qh(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Wh(e){return"nullValue"in e?Ah:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Fh(dh.empty(),Zd.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:hd()}function Kh(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Fh(dh.empty(),Zd.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Ch:hd()}function Gh(e,t){var n=Oh(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function Hh(e,t){var n=Oh(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var Qh=er((function e(t,n){Xn(this,e),this.position=t,this.inclusive=n}));function $h(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Zd.comparator(Zd.fromName(o.referenceValue),n.key):Oh(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Xh(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Rh(e.position[n],t.position[n]))return!1;return!0}var Yh=er((function e(){Xn(this,e)})),Jh=function(e){Fa(n,e);var t=Ua(n);function n(e,r,i){var a;return Xn(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return er(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Oh(t,this.value)):null!==t&&Nh(this.value)===Nh(t)&&this.matchesComparison(Oh(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return hd()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new cp(e,t,r):"array-contains"===t?new hp(e,r):"in"===t?new pp(e,r):"not-in"===t?new vp(e,r):"array-contains-any"===t?new mp(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new lp(e,n):new fp(e,n)}}]),n}(Yh),ep=function(e){Fa(n,e);var t=Ua(n);function n(e,r){var i;return Xn(this,n),(i=t.call(this)).filters=e,i.op=r,i.ft=null,i}return er(n,[{key:"matches",value:function(e){return tp(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ft||(this.ft=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ft}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.dt((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"dt",value:function(e){var t,n=La(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(Yh);function tp(e){return"and"===e.op}function np(e){return"or"===e.op}function rp(e){return ip(e)&&tp(e)}function ip(e){var t,n=La(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof ep)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function ap(e){if(e instanceof Jh)return e.field.canonicalString()+e.op.toString()+Mh(e.value);if(rp(e))return e.filters.map((function(e){return ap(e)})).join(",");var t=e.filters.map((function(e){return ap(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function op(e,t){return e instanceof Jh?function(e,t){return t instanceof Jh&&e.op===t.op&&e.field.isEqual(t.field)&&Rh(e.value,t.value)}(e,t):e instanceof ep?function(e,t){return t instanceof ep&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&op(n,t.filters[r])}),!0)}(e,t):void hd()}function up(e,t){var n=e.filters.concat(t);return ep.create(n,e.op)}function sp(e){return e instanceof Jh?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Mh(e.value))}(e):e instanceof ep?function(e){return e.op.toString()+" {"+e.getFilters().map(sp).join(" ,")+"}"}(e):"Filter"}var cp=function(e){Fa(n,e);var t=Ua(n);function n(e,r,i){var a;return Xn(this,n),(a=t.call(this,e,r,i)).key=Zd.fromName(i.referenceValue),a}return er(n,[{key:"matches",value:function(e){var t=Zd.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(Jh),lp=function(e){Fa(n,e);var t=Ua(n);function n(e,r){var i;return Xn(this,n),(i=t.call(this,e,"in",r)).keys=dp("in",r),i}return er(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Jh),fp=function(e){Fa(n,e);var t=Ua(n);function n(e,r){var i;return Xn(this,n),(i=t.call(this,e,"not-in",r)).keys=dp("not-in",r),i}return er(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Jh);function dp(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Zd.fromName(e.referenceValue)}))}var hp=function(e){Fa(n,e);var t=Ua(n);function n(e,r){return Xn(this,n),t.call(this,e,"array-contains",r)}return er(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return jh(t)&&Ph(t.arrayValue,this.value)}}]),n}(Jh),pp=function(e){Fa(n,e);var t=Ua(n);function n(e,r){return Xn(this,n),t.call(this,e,"in",r)}return er(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Ph(this.value.arrayValue,t)}}]),n}(Jh),vp=function(e){Fa(n,e);var t=Ua(n);function n(e,r){return Xn(this,n),t.call(this,e,"not-in",r)}return er(n,[{key:"matches",value:function(e){if(Ph(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Ph(this.value.arrayValue,t)}}]),n}(Jh),mp=function(e){Fa(n,e);var t=Ua(n);function n(e,r){return Xn(this,n),t.call(this,e,"array-contains-any",r)}return er(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!jh(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Ph(t.value.arrayValue,e)}))}}]),n}(Jh),yp=er((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";Xn(this,e),this.field=t,this.dir=n}));function gp(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var bp=function(){function e(t,n){Xn(this,e),this.comparator=t,this.root=n||wp.EMPTY}return er(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,wp.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,wp.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new kp(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new kp(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new kp(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new kp(this.root,e,this.comparator,!0)}}]),e}(),kp=function(){function e(t,n,r,i){Xn(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return er(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),wp=function(){function e(t,n,r,i,a){Xn(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return er(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw hd();if(this.right.isRed())throw hd();var e=this.left.check();if(e!==this.right.check())throw hd();return e+(this.isRed()?0:1)}}]),e}();wp.EMPTY=null,wp.RED=!0,wp.BLACK=!1,wp.EMPTY=new(function(){function e(){Xn(this,e),this.size=0}return er(e,[{key:"key",get:function(){throw hd()}},{key:"value",get:function(){throw hd()}},{key:"color",get:function(){throw hd()}},{key:"left",get:function(){throw hd()}},{key:"right",get:function(){throw hd()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new wp(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var xp=function(){function e(t){Xn(this,e),this.comparator=t,this.data=new bp(this.comparator)}return er(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Sp(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Sp(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Sp=function(){function e(t){Xn(this,e),this.iter=t}return er(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function Ip(e){return e.hasNext()?e.getNext():void 0}var Ep=function(){function e(t){Xn(this,e),this.fields=t,t.sort(Fd.comparator)}return er(e,[{key:"unionWith",value:function(t){var n,r=new xp(Fd.comparator),i=La(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,u=La(t);try{for(u.s();!(o=u.n()).done;){var s=o.value;r=r.add(s)}}catch(c){u.e(c)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=La(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Nd(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),_p=function(){function e(t){Xn(this,e),this.value=t}return er(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!zh(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bh(t)}},{key:"setAll",value:function(e){var t=this,n=Fd.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Bh(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());zh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Rh(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];zh(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){ph(t,(function(t,n){return e[t]=n}));var r,i=La(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Bh(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Tp(e){var t=[];return ph(e.fields,(function(e,n){var r=new Fd([e]);if(zh(n)){var i=Tp(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=La(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new Ep(t)}var Cp=function(){function e(t,n,r,i,a,o,u){Xn(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=u}return er(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(Od.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=_p.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=_p.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=Od.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Od.min(),Od.min(),Od.min(),_p.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,Od.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Od.min(),Od.min(),_p.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Od.min(),Od.min(),_p.empty(),2)}}]),e}(),Ap=er((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Xn(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this._t=null}));function Np(e){return new Ap(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Rp(e){var t=vd(e);if(null===t._t){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return ap(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),mh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Mh(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Mh(e)})).join(",")),t._t=n}return t._t}function Pp(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!gp(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!op(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Xh(e.startAt,t.startAt)&&Xh(e.endAt,t.endAt)}function Op(e){return Zd.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Dp(e,t){return e.filters.filter((function(e){return e instanceof Jh&&e.field.isEqual(t)}))}function Mp(e,t,n){var r,i=Ah,a=!0,o=La(Dp(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=Ah,c=!0;switch(u.op){case"<":case"<=":s=Wh(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=Ah}Gh({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(d){o.e(d)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Gh({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function Lp(e,t,n){var r,i=Ch,a=!0,o=La(Dp(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=Ch,c=!0;switch(u.op){case">=":case">":s=Kh(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=Ch}Hh({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(d){o.e(d)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Hh({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var Fp=er((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Xn(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.wt=null,this.gt=null,this.startAt,this.endAt}));function Zp(e,t,n,r,i,a,o,u){return new Fp(e,t,n,r,i,a,o,u)}function jp(e){return new Fp(e)}function Vp(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Up(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function zp(e){var t,n=La(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function Bp(e){return null!==e.collectionGroup}function qp(e){var t=vd(e);if(null===t.wt){t.wt=[];var n=zp(t),r=Up(t);if(null!==n&&null===r)n.isKeyField()||t.wt.push(new yp(n)),t.wt.push(new yp(Fd.keyField(),"asc"));else{var i,a=!1,o=La(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.wt.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new yp(Fd.keyField(),s))}}}return t.wt}function Wp(e){var t=vd(e);if(!t.gt)if("F"===t.limitType)t.gt=Np(t.path,t.collectionGroup,qp(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=La(qp(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new yp(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new Qh(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Qh(t.startAt.position,t.startAt.inclusive):null;t.gt=Np(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.gt}function Kp(e,t){t.getFirstInequalityField(),zp(e);var n=e.filters.concat([t]);return new Fp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Gp(e,t,n){return new Fp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Hp(e,t){return Pp(Wp(e),Wp(t))&&e.limitType===t.limitType}function Qp(e){return"".concat(Rp(Wp(e)),"|lt:").concat(e.limitType)}function $p(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return sp(e)})).join(", "),"]")),mh(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Mh(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Mh(e)})).join(",")),"Target(".concat(t,")")}(Wp(e)),"; limitType=").concat(e.limitType,")")}function Xp(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Zd.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=La(qp(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=La(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=$h(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,qp(e),t))&&!(e.endAt&&!function(e,t,n){var r=$h(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,qp(e),t))}(e,t)}function Yp(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Jp(e){return function(t,n){var r,i=!1,a=La(qp(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=ev(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function ev(e,t,n){var r=e.field.isKeyField()?Zd.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Oh(r,i):hd()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return hd()}}function tv(e,t){if(e.yt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yh(t)?"-0":t}}function nv(e){return{integerValue:""+e}}function rv(e,t){return gh(t)?nv(t):tv(e,t)}var iv=er((function e(){Xn(this,e),this._=void 0}));function av(e,t,n){return e instanceof sv?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof cv?lv(e,t):e instanceof fv?dv(e,t):function(e,t){var n=uv(e,t),r=pv(n)+pv(e.It);return Zh(n)&&Zh(e.It)?nv(r):tv(e.Tt,r)}(e,t)}function ov(e,t,n){return e instanceof cv?lv(e,t):e instanceof fv?dv(e,t):n}function uv(e,t){return e instanceof hv?Zh(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var sv=function(e){Fa(n,e);var t=Ua(n);function n(){return Xn(this,n),t.apply(this,arguments)}return er(n)}(iv),cv=function(e){Fa(n,e);var t=Ua(n);function n(e){var r;return Xn(this,n),(r=t.call(this)).elements=e,r}return er(n)}(iv);function lv(e,t){var n,r=vv(t),i=La(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Rh(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var fv=function(e){Fa(n,e);var t=Ua(n);function n(e){var r;return Xn(this,n),(r=t.call(this)).elements=e,r}return er(n)}(iv);function dv(e,t){var n,r=vv(t),i=La(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Rh(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var hv=function(e){Fa(n,e);var t=Ua(n);function n(e,r){var i;return Xn(this,n),(i=t.call(this)).Tt=e,i.It=r,i}return er(n)}(iv);function pv(e){return Sh(e.integerValue||e.doubleValue)}function vv(e){return jh(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var mv=er((function e(t,n){Xn(this,e),this.field=t,this.transform=n}));var yv=er((function e(t,n){Xn(this,e),this.version=t,this.transformResults=n})),gv=function(){function e(t,n){Xn(this,e),this.updateTime=t,this.exists=n}return er(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function bv(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var kv=er((function e(){Xn(this,e)}));function wv(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Ov(e.key,gv.none()):new _v(e.key,e.data,gv.none());var n,r=e.data,i=_p.empty(),a=new xp(Fd.comparator),o=La(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?i.delete(u):i.set(u,s),a=a.add(u)}}}catch(c){o.e(c)}finally{o.f()}return new Tv(e.key,i,new Ep(a.toArray()),gv.none())}function xv(e,t,n){e instanceof _v?function(e,t,n){var r=e.value.clone(),i=Av(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Tv?function(e,t,n){if(bv(e.precondition,t)){var r=Av(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Cv(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Sv(e,t,n,r){return e instanceof _v?function(e,t,n,r){if(!bv(e.precondition,t))return n;var i=e.value.clone(),a=Nv(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Tv?function(e,t,n,r){if(!bv(e.precondition,t))return n;var i=Nv(e.fieldTransforms,r,t),a=t.data;return a.setAll(Cv(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return bv(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Iv(e,t){var n,r=null,i=La(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=uv(a.transform,o||null);null!=u&&(null===r&&(r=_p.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function Ev(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Nd(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof cv&&t instanceof cv||e instanceof fv&&t instanceof fv?Nd(e.elements,t.elements,Rh):e instanceof hv&&t instanceof hv?Rh(e.It,t.It):e instanceof sv&&t instanceof sv}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var _v=function(e){Fa(n,e);var t=Ua(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return Xn(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return er(n,[{key:"getFieldMask",value:function(){return null}}]),n}(kv),Tv=function(e){Fa(n,e);var t=Ua(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return Xn(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return er(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(kv);function Cv(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Av(e,t,n){var r=new Map;pd(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,ov(o,u,n[i]))}return r}function Nv(e,t,n){var r,i=new Map,a=La(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,av(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var Rv,Pv,Ov=function(e){Fa(n,e);var t=Ua(n);function n(e,r){var i;return Xn(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return er(n,[{key:"getFieldMask",value:function(){return null}}]),n}(kv),Dv=function(e){Fa(n,e);var t=Ua(n);function n(e,r){var i;return Xn(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return er(n,[{key:"getFieldMask",value:function(){return null}}]),n}(kv),Mv=er((function e(t){Xn(this,e),this.count=t}));function Lv(e){switch(e){default:return hd();case md.CANCELLED:case md.UNKNOWN:case md.DEADLINE_EXCEEDED:case md.RESOURCE_EXHAUSTED:case md.INTERNAL:case md.UNAVAILABLE:case md.UNAUTHENTICATED:return!1;case md.INVALID_ARGUMENT:case md.NOT_FOUND:case md.ALREADY_EXISTS:case md.PERMISSION_DENIED:case md.FAILED_PRECONDITION:case md.ABORTED:case md.OUT_OF_RANGE:case md.UNIMPLEMENTED:case md.DATA_LOSS:return!0}}function Fv(e){if(void 0===e)return ld("GRPC error has no .code"),md.UNKNOWN;switch(e){case Rv.OK:return md.OK;case Rv.CANCELLED:return md.CANCELLED;case Rv.UNKNOWN:return md.UNKNOWN;case Rv.DEADLINE_EXCEEDED:return md.DEADLINE_EXCEEDED;case Rv.RESOURCE_EXHAUSTED:return md.RESOURCE_EXHAUSTED;case Rv.INTERNAL:return md.INTERNAL;case Rv.UNAVAILABLE:return md.UNAVAILABLE;case Rv.UNAUTHENTICATED:return md.UNAUTHENTICATED;case Rv.INVALID_ARGUMENT:return md.INVALID_ARGUMENT;case Rv.NOT_FOUND:return md.NOT_FOUND;case Rv.ALREADY_EXISTS:return md.ALREADY_EXISTS;case Rv.PERMISSION_DENIED:return md.PERMISSION_DENIED;case Rv.FAILED_PRECONDITION:return md.FAILED_PRECONDITION;case Rv.ABORTED:return md.ABORTED;case Rv.OUT_OF_RANGE:return md.OUT_OF_RANGE;case Rv.UNIMPLEMENTED:return md.UNIMPLEMENTED;case Rv.DATA_LOSS:return md.DATA_LOSS;default:return hd()}}(Pv=Rv||(Rv={}))[Pv.OK=0]="OK",Pv[Pv.CANCELLED=1]="CANCELLED",Pv[Pv.UNKNOWN=2]="UNKNOWN",Pv[Pv.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pv[Pv.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pv[Pv.NOT_FOUND=5]="NOT_FOUND",Pv[Pv.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pv[Pv.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pv[Pv.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pv[Pv.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pv[Pv.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pv[Pv.ABORTED=10]="ABORTED",Pv[Pv.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pv[Pv.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pv[Pv.INTERNAL=13]="INTERNAL",Pv[Pv.UNAVAILABLE=14]="UNAVAILABLE",Pv[Pv.DATA_LOSS=15]="DATA_LOSS";var Zv=function(){function e(t,n){Xn(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return er(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=La(n);try{for(i.s();!(r=i.n()).done;){var a=(0,m.Z)(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){ph(this.inner,(function(t,n){var r,i=La(n);try{for(i.s();!(r=i.n()).done;){var a=(0,m.Z)(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return vh(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),jv=new bp(Zd.comparator);function Vv(){return jv}var Uv=new bp(Zd.comparator);function zv(){for(var e=Uv,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function Bv(e){var t=Uv;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function qv(){return Kv()}function Wv(){return Kv()}function Kv(){return new Zv((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var Gv=new bp(Zd.comparator),Hv=new xp(Zd.comparator);function Qv(){for(var e=Hv,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var $v=new xp(Ad);function Xv(){return $v}var Yv=function(){function e(t,n,r,i,a){Xn(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return er(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,Jv.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(Od.min(),i,Xv(),Vv(),Qv())}}]),e}(),Jv=function(){function e(t,n,r,i,a){Xn(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return er(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,Qv(),Qv(),Qv())}}]),e}(),em=er((function e(t,n,r,i){Xn(this,e),this.Et=t,this.removedTargetIds=n,this.key=r,this.At=i})),tm=er((function e(t,n){Xn(this,e),this.targetId=t,this.Rt=n})),nm=er((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:kh.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Xn(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),rm=function(){function e(){Xn(this,e),this.Pt=0,this.vt=om(),this.bt=kh.EMPTY_BYTE_STRING,this.Vt=!1,this.St=!0}return er(e,[{key:"current",get:function(){return this.Vt}},{key:"resumeToken",get:function(){return this.bt}},{key:"Dt",get:function(){return 0!==this.Pt}},{key:"Ct",get:function(){return this.St}},{key:"xt",value:function(e){e.approximateByteSize()>0&&(this.St=!0,this.bt=e)}},{key:"Nt",value:function(){var e=Qv(),t=Qv(),n=Qv();return this.vt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:hd()}})),new Jv(this.bt,this.Vt,e,t,n)}},{key:"kt",value:function(){this.St=!1,this.vt=om()}},{key:"$t",value:function(e,t){this.St=!0,this.vt=this.vt.insert(e,t)}},{key:"Mt",value:function(e){this.St=!0,this.vt=this.vt.remove(e)}},{key:"Ot",value:function(){this.Pt+=1}},{key:"Ft",value:function(){this.Pt-=1}},{key:"Bt",value:function(){this.St=!0,this.Vt=!0}}]),e}(),im=function(){function e(t){Xn(this,e),this.Lt=t,this.qt=new Map,this.Ut=Vv(),this.Kt=am(),this.Gt=new xp(Ad)}return er(e,[{key:"Qt",value:function(e){var t,n=La(e.Et);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.At&&e.At.isFoundDocument()?this.jt(r,e.At):this.zt(r,e.key,e.At)}}catch(u){n.e(u)}finally{n.f()}var i,a=La(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.zt(o,e.key,e.At)}}catch(u){a.e(u)}finally{a.f()}}},{key:"Wt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Ht(n);switch(e.state){case 0:t.Jt(n)&&r.xt(e.resumeToken);break;case 1:r.Ft(),r.Dt||r.kt(),r.xt(e.resumeToken);break;case 2:r.Ft(),r.Dt||t.removeTarget(n);break;case 3:t.Jt(n)&&(r.Bt(),r.xt(e.resumeToken));break;case 4:t.Jt(n)&&(t.Yt(n),r.xt(e.resumeToken));break;default:hd()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.qt.forEach((function(e,r){n.Jt(r)&&t(r)}))}},{key:"Zt",value:function(e){var t=e.targetId,n=e.Rt.count,r=this.Xt(t);if(r){var i=r.target;if(Op(i))if(0===n){var a=new Zd(i.path);this.zt(t,a,Cp.newNoDocument(a,Od.min()))}else pd(1===n);else this.te(t)!==n&&(this.Yt(t),this.Gt=this.Gt.add(t))}}},{key:"ee",value:function(e){var t=this,n=new Map;this.qt.forEach((function(r,i){var a=t.Xt(i);if(a){if(r.current&&Op(a.target)){var o=new Zd(a.target.path);null!==t.Ut.get(o)||t.ne(i,o)||t.zt(i,o,Cp.newNoDocument(o,e))}r.Ct&&(n.set(i,r.Nt()),r.kt())}}));var r=Qv();this.Kt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Xt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Ut.forEach((function(t,n){return n.setReadTime(e)}));var i=new Yv(e,n,this.Gt,this.Ut,r);return this.Ut=Vv(),this.Kt=am(),this.Gt=new xp(Ad),i}},{key:"jt",value:function(e,t){if(this.Jt(e)){var n=this.ne(e,t.key)?2:0;this.Ht(e).$t(t.key,n),this.Ut=this.Ut.insert(t.key,t),this.Kt=this.Kt.insert(t.key,this.se(t.key).add(e))}}},{key:"zt",value:function(e,t,n){if(this.Jt(e)){var r=this.Ht(e);this.ne(e,t)?r.$t(t,1):r.Mt(t),this.Kt=this.Kt.insert(t,this.se(t).delete(e)),n&&(this.Ut=this.Ut.insert(t,n))}}},{key:"removeTarget",value:function(e){this.qt.delete(e)}},{key:"te",value:function(e){var t=this.Ht(e).Nt();return this.Lt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Ot",value:function(e){this.Ht(e).Ot()}},{key:"Ht",value:function(e){var t=this.qt.get(e);return t||(t=new rm,this.qt.set(e,t)),t}},{key:"se",value:function(e){var t=this.Kt.get(e);return t||(t=new xp(Ad),this.Kt=this.Kt.insert(e,t)),t}},{key:"Jt",value:function(e){var t=null!==this.Xt(e);return t||cd("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Xt",value:function(e){var t=this.qt.get(e);return t&&t.Dt?null:this.Lt.ie(e)}},{key:"Yt",value:function(e){var t=this;this.qt.set(e,new rm),this.Lt.getRemoteKeysForTarget(e).forEach((function(n){t.zt(e,n,null)}))}},{key:"ne",value:function(e,t){return this.Lt.getRemoteKeysForTarget(e).has(t)}}]),e}();function am(){return new bp(Zd.comparator)}function om(){return new bp(Zd.comparator)}var um={asc:"ASCENDING",desc:"DESCENDING"},sm={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},cm={and:"AND",or:"OR"},lm=er((function e(t,n){Xn(this,e),this.databaseId=t,this.yt=n}));function fm(e,t){return e.yt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function dm(e,t){return e.yt?t.toBase64():t.toUint8Array()}function hm(e,t){return fm(e,t.toTimestamp())}function pm(e){return pd(!!e),Od.fromTimestamp(function(e){var t=xh(e);return new Pd(t.seconds,t.nanos)}(e))}function vm(e,t){return function(e){return new Md(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function mm(e){var t=Md.fromString(e);return pd(jm(t)),t}function ym(e,t){return vm(e.databaseId,t.path)}function gm(e,t){var n=mm(t);if(n.get(1)!==e.databaseId.projectId)throw new yd(md.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new yd(md.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Zd(xm(n))}function bm(e,t){return vm(e.databaseId,t)}function km(e){var t=mm(e);return 4===t.length?Md.emptyPath():xm(t)}function wm(e){return new Md(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function xm(e){return pd(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Sm(e,t,n){return{name:ym(e,t),fields:n.value.mapValue.fields}}function Im(e,t,n){var r=gm(e,t.name),i=pm(t.updateTime),a=t.createTime?pm(t.createTime):Od.min(),o=new _p({mapValue:{fields:t.fields}}),u=Cp.newFoundDocument(r,i,a,o);return n&&u.setHasCommittedMutations(),n?u.setHasCommittedMutations():u}function Em(e,t){return"found"in t?function(e,t){pd(!!t.found),t.found.name,t.found.updateTime;var n=gm(e,t.found.name),r=pm(t.found.updateTime),i=t.found.createTime?pm(t.found.createTime):Od.min(),a=new _p({mapValue:{fields:t.found.fields}});return Cp.newFoundDocument(n,r,i,a)}(e,t):"missing"in t?function(e,t){pd(!!t.missing),pd(!!t.readTime);var n=gm(e,t.missing),r=pm(t.readTime);return Cp.newNoDocument(n,r)}(e,t):hd()}function _m(e,t){var n;if(t instanceof _v)n={update:Sm(e,t.key,t.value)};else if(t instanceof Ov)n={delete:ym(e,t.key)};else if(t instanceof Tv)n={update:Sm(e,t.key,t.data),updateMask:Zm(t.fieldMask)};else{if(!(t instanceof Dv))return hd();n={verify:ym(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof sv)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof cv)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof fv)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof hv)return{fieldPath:t.field.canonicalString(),increment:n.It};throw hd()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:hm(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:hd()}(e,t.precondition)),n}function Tm(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?gv.updateTime(pm(e.updateTime)):void 0!==e.exists?gv.exists(e.exists):gv.none()}(t.currentDocument):gv.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)pd("REQUEST_TIME"===t.setToServerValue),n=new sv;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new cv(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new fv(i)}else"increment"in t?n=new hv(e,t.increment):hd();var a=Fd.fromServerFormat(t.fieldPath);return new mv(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=gm(e,t.update.name),a=new _p({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Ep(t.map((function(e){return Fd.fromServerFormat(e)})))}(t.updateMask);return new Tv(i,a,o,n,r)}return new _v(i,a,n,r)}if(t.delete){var u=gm(e,t.delete);return new Ov(u,n)}if(t.verify){var s=gm(e,t.verify);return new Dv(s,n)}return hd()}function Cm(e,t){return{documents:[bm(e,t.path)]}}function Am(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=bm(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=bm(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return Fm(ep.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Mm(e.field),direction:Pm(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.yt||mh(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Nm(e){var t=km(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){pd(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=Rm(e);return t instanceof ep&&rp(t)?t.getFilters():[t]}(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new yp(Lm(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return mh(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new Qh(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new Qh(n,t)}(n.endAt)),Zp(t,i,u,o,s,"F",c,l)}function Rm(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Lm(e.unaryFilter.field);return Jh.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Lm(e.unaryFilter.field);return Jh.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Lm(e.unaryFilter.field);return Jh.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Lm(e.unaryFilter.field);return Jh.create(i,"!=",{nullValue:"NULL_VALUE"});default:return hd()}}(e):void 0!==e.fieldFilter?function(e){return Jh.create(Lm(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return hd()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return ep.create(e.compositeFilter.filters.map((function(e){return Rm(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return hd()}}(e.compositeFilter.op))}(e):hd()}function Pm(e){return um[e]}function Om(e){return sm[e]}function Dm(e){return cm[e]}function Mm(e){return{fieldPath:e.canonicalString()}}function Lm(e){return Fd.fromServerFormat(e.fieldPath)}function Fm(e){return e instanceof Jh?function(e){if("=="===e.op){if(Uh(e.value))return{unaryFilter:{field:Mm(e.field),op:"IS_NAN"}};if(Vh(e.value))return{unaryFilter:{field:Mm(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Uh(e.value))return{unaryFilter:{field:Mm(e.field),op:"IS_NOT_NAN"}};if(Vh(e.value))return{unaryFilter:{field:Mm(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Mm(e.field),op:Om(e.op),value:e.value}}}(e):e instanceof ep?function(e){var t=e.getFilters().map((function(e){return Fm(e)}));return 1===t.length?t[0]:{compositeFilter:{op:Dm(e.op),filters:t}}}(e):hd()}function Zm(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function jm(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Vm(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=zm(t)),t=Um(e.get(n),t);return zm(t)}function Um(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function zm(e){return e+"\x01\x01"}function Bm(e){var t=e.length;if(pd(t>=2),2===t)return pd("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Md.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&hd(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:hd()}a=o+2}return new Md(r)}var qm=["userId","batchId"];function Wm(e,t){return[e,Vm(t)]}function Km(e,t,n){return[e,Vm(t),n]}var Gm={},Hm=["prefixPath","collectionGroup","readTime","documentId"],Qm=["prefixPath","collectionGroup","documentId"],$m=["collectionGroup","readTime","prefixPath","documentId"],Xm=["canonicalId","targetId"],Ym=["targetId","path"],Jm=["path","targetId"],ey=["collectionId","parent"],ty=["indexId","uid"],ny=["uid","sequenceNumber"],ry=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],iy=["indexId","uid","orderedDocumentKey"],ay=["userId","collectionPath","documentId"],oy=["userId","collectionPath","largestBatchId"],uy=["userId","collectionGroup","largestBatchId"],sy=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),cy=[].concat((0,re.Z)(sy),["documentOverlays"]),ly=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],fy=ly,dy=[].concat(fy,["indexConfiguration","indexState","indexEntries"]),hy=function(e){Fa(n,e);var t=Ua(n);function n(e,r){var i;return Xn(this,n),(i=t.call(this)).re=e,i.currentSequenceNumber=r,i}return er(n)}(Qd);function py(e,t){var n=vd(e);return eh.M(n.re,t)}var vy=function(){function e(t,n,r,i){Xn(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return er(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&xv(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=La(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=Sv(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var a,o=La(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=Sv(u,e,t,this.localWriteTime))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=Wv();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=wv(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(Od.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Qv())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Nd(this.mutations,e.mutations,(function(e,t){return Ev(e,t)}))&&Nd(this.baseMutations,e.baseMutations,(function(e,t){return Ev(e,t)}))}}]),e}(),my=function(){function e(t,n,r,i){Xn(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return er(e,null,[{key:"from",value:function(t,n,r){pd(t.mutations.length===r.length);for(var i=Gv,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),yy=function(){function e(t,n){Xn(this,e),this.largestBatchId=t,this.mutation=n}return er(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),gy=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Od.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Od.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:kh.EMPTY_BYTE_STRING;Xn(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return er(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),by=er((function e(t){Xn(this,e),this.oe=t}));function ky(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:wy(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:ym(e,t.key),fields:t.data.value.mapValue.fields,updateTime:fm(e,t.version.toTimestamp()),createTime:fm(e,t.createTime.toTimestamp())}}(e.oe,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:xy(t.version)};else{if(!t.isUnknownDocument())return hd();r.unknownDocument={path:n.path.toArray(),version:xy(t.version)}}return r}function wy(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function xy(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Sy(e){var t=new Pd(e.seconds,e.nanoseconds);return Od.fromTimestamp(t)}function Iy(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Tm(e.oe,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return Tm(e.oe,t)})),u=Pd.fromMillis(t.localWriteTimeMs);return new vy(t.batchId,u,n,o)}function Ey(e){var t,n,r=Sy(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Sy(e.lastLimboFreeSnapshotVersion):Od.min();return void 0!==e.query.documents?(pd(1===(n=e.query).documents.length),t=Wp(jp(km(n.documents[0])))):t=function(e){return Wp(Nm(e))}(e.query),new gy(t,e.targetId,0,e.lastListenSequenceNumber,r,i,kh.fromBase64String(e.resumeToken))}function _y(e,t){var n,r=xy(t.snapshotVersion),i=xy(t.lastLimboFreeSnapshotVersion);n=Op(t.target)?Cm(e.oe,t.target):Am(e.oe,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Rp(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function Ty(e){var t=Nm({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Gp(t,t.limit,"L"):t}function Cy(e,t){return new yy(t.largestBatchId,Tm(e.oe,t.overlayMutation))}function Ay(e,t){var n=t.path.lastSegment();return[e,Vm(t.path.popLast()),n]}function Ny(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:xy(r.readTime),documentKey:Vm(r.documentKey.path),largestBatchId:r.largestBatchId}}var Ry=function(){function e(){Xn(this,e)}return er(e,[{key:"getBundleMetadata",value:function(e,t){return Py(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:Sy(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return Py(e).put({bundleId:(n=t).id,createTime:xy(pm(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return Oy(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Ty(t.bundledQuery),readTime:Sy(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return Oy(e).put(function(e){return{name:e.name,readTime:xy(pm(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function Py(e){return py(e,"bundles")}function Oy(e){return py(e,"namedQueries")}var Dy=function(){function e(t,n){Xn(this,e),this.Tt=t,this.userId=n}return er(e,[{key:"getOverlay",value:function(e,t){var n=this;return My(e).get(Ay(this.userId,t)).next((function(e){return e?Cy(n.Tt,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=qv();return Yd.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new yy(t,a);i.push(r.ce(e,o))})),Yd.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(Vm(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(My(e).Y("collectionPathOverlayIndex",i))})),Yd.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=qv(),a=Vm(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return My(e).W("collectionPathOverlayIndex",o).next((function(e){var t,n=La(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=Cy(r.Tt,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=qv(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return My(e).X({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=Cy(a.Tt,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"ce",value:function(e,t){return My(e).put(function(e,t,n){var r=Ay(t,n.mutation.key),i=(0,m.Z)(r,3);i[0];return{userId:t,collectionPath:i[1],documentId:i[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:_m(e.oe,n.mutation)}}(this.Tt,this.userId,t))}}],[{key:"ue",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function My(e){return py(e,"documentOverlays")}var Ly=function(){function e(){Xn(this,e)}return er(e,[{key:"ae",value:function(e,t){this.he(e,t),t.le()}},{key:"he",value:function(e,t){if("nullValue"in e)this.fe(t,5);else if("booleanValue"in e)this.fe(t,10),t.de(e.booleanValue?1:0);else if("integerValue"in e)this.fe(t,15),t.de(Sh(e.integerValue));else if("doubleValue"in e){var n=Sh(e.doubleValue);isNaN(n)?this.fe(t,13):(this.fe(t,15),yh(n)?t.de(0):t.de(n))}else if("timestampValue"in e){var r=e.timestampValue;this.fe(t,20),"string"==typeof r?t._e(r):(t._e("".concat(r.seconds||"")),t.de(r.nanos||0))}else if("stringValue"in e)this.we(e.stringValue,t),this.me(t);else if("bytesValue"in e)this.fe(t,30),t.ge(Ih(e.bytesValue)),this.me(t);else if("referenceValue"in e)this.ye(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.fe(t,45),t.de(i.latitude||0),t.de(i.longitude||0)}else"mapValue"in e?qh(e)?this.fe(t,Number.MAX_SAFE_INTEGER):(this.pe(e.mapValue,t),this.me(t)):"arrayValue"in e?(this.Ie(e.arrayValue,t),this.me(t)):hd()}},{key:"we",value:function(e,t){this.fe(t,25),this.Te(e,t)}},{key:"Te",value:function(e,t){t._e(e)}},{key:"pe",value:function(e,t){var n=e.fields||{};this.fe(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.we(a,t),this.he(n[a],t)}}},{key:"Ie",value:function(e,t){var n=e.values||[];this.fe(t,50);var r,i=La(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.he(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ye",value:function(e,t){var n=this;this.fe(t,37),Zd.fromName(e).path.forEach((function(e){n.fe(t,60),n.Te(e,t)}))}},{key:"fe",value:function(e,t){e.de(t)}},{key:"me",value:function(e){e.de(2)}}]),e}();function Fy(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Zy(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=Fy(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Ly.Ee=new Ly;var jy=function(){function e(){Xn(this,e),this.buffer=new Uint8Array(1024),this.position=0}return er(e,[{key:"Ae",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Re(n.value),n=t.next();this.Pe()}},{key:"ve",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.be(n.value),n=t.next();this.Ve()}},{key:"Se",value:function(e){var t,n=La(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Re(i);else if(i<2048)this.Re(960|i>>>6),this.Re(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Re(480|i>>>12),this.Re(128|63&i>>>6),this.Re(128|63&i);else{var a=r.codePointAt(0);this.Re(240|a>>>18),this.Re(128|63&a>>>12),this.Re(128|63&a>>>6),this.Re(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Pe()}},{key:"De",value:function(e){var t,n=La(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.be(i);else if(i<2048)this.be(960|i>>>6),this.be(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.be(480|i>>>12),this.be(128|63&i>>>6),this.be(128|63&i);else{var a=r.codePointAt(0);this.be(240|a>>>18),this.be(128|63&a>>>12),this.be(128|63&a>>>6),this.be(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Ve()}},{key:"Ce",value:function(e){var t=this.xe(e),n=Zy(t);this.Ne(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"ke",value:function(e){var t=this.xe(e),n=Zy(t);this.Ne(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"$e",value:function(){this.Me(255),this.Me(255)}},{key:"Oe",value:function(){this.Fe(255),this.Fe(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Ne(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Be",value:function(){return this.buffer.slice(0,this.position)}},{key:"xe",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Re",value:function(e){var t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(t)}},{key:"be",value:function(e){var t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}},{key:"Pe",value:function(){this.Me(0),this.Me(1)}},{key:"Ve",value:function(){this.Fe(0),this.Fe(1)}},{key:"Me",value:function(e){this.Ne(1),this.buffer[this.position++]=e}},{key:"Fe",value:function(e){this.Ne(1),this.buffer[this.position++]=~e}},{key:"Ne",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),Vy=function(){function e(t){Xn(this,e),this.Le=t}return er(e,[{key:"ge",value:function(e){this.Le.Ae(e)}},{key:"_e",value:function(e){this.Le.Se(e)}},{key:"de",value:function(e){this.Le.Ce(e)}},{key:"le",value:function(){this.Le.$e()}}]),e}(),Uy=function(){function e(t){Xn(this,e),this.Le=t}return er(e,[{key:"ge",value:function(e){this.Le.ve(e)}},{key:"_e",value:function(e){this.Le.De(e)}},{key:"de",value:function(e){this.Le.ke(e)}},{key:"le",value:function(){this.Le.Oe()}}]),e}(),zy=function(){function e(){Xn(this,e),this.Le=new jy,this.qe=new Vy(this.Le),this.Ue=new Uy(this.Le)}return er(e,[{key:"seed",value:function(e){this.Le.seed(e)}},{key:"Ke",value:function(e){return 0===e?this.qe:this.Ue}},{key:"Be",value:function(){return this.Le.Be()}},{key:"reset",value:function(){this.Le.reset()}}]),e}(),By=function(){function e(t,n,r,i){Xn(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return er(e,[{key:"Ge",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function qy(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=Wy(e.arrayValue,t.arrayValue))?n:0!==(n=Wy(e.directionalValue,t.directionalValue))?n:Zd.comparator(e.documentKey,t.documentKey)}function Wy(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var Ky=function(){function e(t){Xn(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Qe=t.orderBy,this.je=[];var n,r=La(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.isInequality()?this.ze=i:this.je.push(i)}}catch(a){r.e(a)}finally{r.f()}}return er(e,[{key:"We",value:function(e){pd(e.collectionGroup===this.collectionId);var t=Vd(e);if(void 0!==t&&!this.He(t))return!1;for(var n=Ud(e),r=0,i=0;r<n.length&&this.He(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.ze){var a=n[r];if(!this.Je(this.ze,a)||!this.Ye(this.Qe[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Qe.length||!this.Ye(this.Qe[i++],o))return!1}return!0}},{key:"He",value:function(e){var t,n=La(this.je);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.Je(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"Je",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"Ye",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}();function Gy(e){var t,n;if(pd(e instanceof Jh||e instanceof ep),e instanceof Jh){if(e instanceof pp){var r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((function(t){return Jh.create(e.field,"==",t)})))||[];return ep.create(r,"or")}return e}var i=e.filters.map((function(e){return Gy(e)}));return ep.create(i,e.op)}function Hy(e){if(0===e.getFilters().length)return[];var t=Yy(Gy(e));return pd(Xy(t)),Qy(t)||$y(t)?[t]:t.getFilters()}function Qy(e){return e instanceof Jh}function $y(e){return e instanceof ep&&rp(e)}function Xy(e){return Qy(e)||$y(e)||function(e){if(e instanceof ep&&np(e)){var t,n=La(e.getFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!Qy(r)&&!$y(r))return!1}}catch(i){n.e(i)}finally{n.f()}return!0}return!1}(e)}function Yy(e){if(pd(e instanceof Jh||e instanceof ep),e instanceof Jh)return e;if(1===e.filters.length)return Yy(e.filters[0]);var t=e.filters.map((function(e){return Yy(e)})),n=ep.create(t,e.op);return Xy(n=tg(n))?n:(pd(n instanceof ep),pd(tp(n)),pd(n.filters.length>1),n.filters.reduce((function(e,t){return Jy(e,t)})))}function Jy(e,t){var n;return pd(e instanceof Jh||e instanceof ep),pd(t instanceof Jh||t instanceof ep),n=e instanceof Jh?t instanceof Jh?function(e,t){return ep.create([e,t],"and")}(e,t):eg(e,t):t instanceof Jh?eg(t,e):function(e,t){if(pd(e.filters.length>0&&t.filters.length>0),tp(e)&&tp(t))return up(e,t.getFilters());var n=np(e)?e:t,r=np(e)?t:e,i=n.filters.map((function(e){return Jy(e,r)}));return ep.create(i,"or")}(e,t),tg(n)}function eg(e,t){if(tp(t))return up(t,e.getFilters());var n=t.filters.map((function(t){return Jy(e,t)}));return ep.create(n,"or")}function tg(e){if(pd(e instanceof Jh||e instanceof ep),e instanceof Jh)return e;var t=e.getFilters();if(1===t.length)return tg(t[0]);if(ip(e))return e;var n=t.map((function(e){return tg(e)})),r=[];return n.forEach((function(t){t instanceof Jh?r.push(t):t instanceof ep&&(t.op===e.op?r.push.apply(r,(0,re.Z)(t.filters)):r.push(t))})),1===r.length?r[0]:ep.create(r,e.op)}var ng=function(){function e(){Xn(this,e),this.Ze=new rg}return er(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.Ze.add(t),Yd.resolve()}},{key:"getCollectionParents",value:function(e,t){return Yd.resolve(this.Ze.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return Yd.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return Yd.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return Yd.resolve(null)}},{key:"getIndexType",value:function(e,t){return Yd.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return Yd.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return Yd.resolve(null)}},{key:"getMinOffset",value:function(e,t){return Yd.resolve(Kd.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return Yd.resolve(Kd.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return Yd.resolve()}},{key:"updateIndexEntries",value:function(e,t){return Yd.resolve()}}]),e}(),rg=function(){function e(){Xn(this,e),this.index={}}return er(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new xp(Md.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new xp(Md.comparator)).toArray()}}]),e}(),ig=new Uint8Array(0),ag=function(){function e(t,n){Xn(this,e),this.user=t,this.databaseId=n,this.Xe=new rg,this.tn=new Zv((function(e){return Rp(e)}),(function(e,t){return Pp(e,t)})),this.uid=t.uid||""}return er(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Xe.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Xe.add(t)}));var a={collectionId:r,parent:Vm(i)};return og(e).put(a)}return Yd.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Rd(t),""],!1,!0);return og(e).W(r).next((function(e){var r,i=La(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(Bm(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=sg(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=cg(e);return a.next((function(e){o.put(Ny(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=sg(e),r=cg(e),i=ug(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=ug(e),i=!0,a=new Map;return Yd.forEach(this.en(t),(function(t){return n.nn(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=Qv(),o=[];return Yd.forEach(a,(function(i,a){var u;cd("IndexedDbIndexManager","Using index ".concat((u=i,"id=".concat(u.indexId,"|cg=").concat(u.collectionGroup,"|f=").concat(u.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(Rp(t)));var s=function(e,t){var n=Vd(t);if(void 0===n)return null;var r,i=La(Dp(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=La(Ud(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=La(Dp(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=La(Ud(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?Mp(e,o.fieldPath,e.startAt):Lp(e,o.fieldPath,e.startAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new Qh(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=La(Ud(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?Lp(e,o.fieldPath,e.endAt):Mp(e,o.fieldPath,e.endAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new Qh(r,i)}(a,i),d=n.sn(i,a,l),h=n.sn(i,a,f),p=n.rn(i,a,c),v=n.on(i.indexId,s,d,l.inclusive,h,f.inclusive,p);return Yd.forEach(v,(function(n){return r.J(n,t.limit).next((function(t){t.forEach((function(t){var n=Zd.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return Yd.resolve(null)}))}},{key:"en",value:function(e){var t=this.tn.get(e);return t||(t=0===e.filters.length?[e]:Hy(ep.create(e.filters,"and")).map((function(t){return Np(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)})),this.tn.set(e,t),t)}},{key:"on",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),l=[],f=function(){var s=t?u.un(t[d/c]):ig,f=u.cn(e,s,n[d%c],r),h=u.an(e,s,i[d%c],a),p=o.map((function(t){return u.cn(e,s,t,!0)}));l.push.apply(l,(0,re.Z)(u.createRange(f,h,p)))},d=0;d<s;++d)f();return l}},{key:"cn",value:function(e,t,n,r){var i=new By(e,Zd.empty(),t,n);return r?i:i.Ge()}},{key:"an",value:function(e,t,n,r){var i=new By(e,Zd.empty(),t,n);return r?i.Ge():i}},{key:"nn",value:function(e,t){var n=new Ky(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=La(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.We(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2,i=this.en(t);return Yd.forEach(i,(function(t){return n.nn(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new xp(Fd.comparator),r=!1,i=La(e.filters);try{for(i.s();!(t=i.n()).done;){var a,o=La(t.value.getFlattenedFilters());try{for(o.s();!(a=o.n()).done;){var u=a.value;u.field.isKeyField()||("array-contains"===u.op||"array-contains-any"===u.op?r=!0:n=n.add(u.field))}}catch(f){o.e(f)}finally{o.f()}}}catch(f){i.e(f)}finally{i.f()}var s,c=La(e.orderBy);try{for(c.s();!(s=c.n()).done;){var l=s.value;l.field.isKeyField()||(n=n.add(l.field))}}catch(f){c.e(f)}finally{c.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return function(e){return null!==e.limit}(t)&&i.length>1&&2===r?1:r}))}},{key:"hn",value:function(e,t){var n,r=new zy,i=La(Ud(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.Ke(a.kind);Ly.Ee.ae(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Be()}},{key:"un",value:function(e){var t=new zy;return Ly.Ee.ae(e,t.Ke(0)),t.Be()}},{key:"ln",value:function(e,t){var n=new zy;return Ly.Ee.ae(Fh(this.databaseId,t),n.Ke(function(e){var t=Ud(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Be()}},{key:"rn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new zy);var i,a=0,o=La(Ud(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=La(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.fn(t,s.fieldPath)&&jh(c))r=this.dn(r,s,c);else{var d=f.Ke(s.kind);Ly.Ee.ae(c,d)}}}catch(h){l.e(h)}finally{l.f()}}}catch(h){o.e(h)}finally{o.f()}return this._n(r)}},{key:"sn",value:function(e,t,n){return this.rn(e,t,n.position)}},{key:"_n",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Be();return t}},{key:"dn",value:function(e,t,n){var r,i=(0,re.Z)(e),a=[],o=La(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=La(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new zy;f.seed(l.Be()),Ly.Ee.ae(s,f.Ke(t.kind)),a.push(f)}}catch(d){c.e(d)}finally{c.f()}}}catch(d){o.e(d)}finally{o.f()}return a}},{key:"fn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof Jh&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=sg(e),i=cg(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next((function(e){var t=[];return Yd.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new Bd(t.sequenceNumber,new Kd(Sy(t.readTime),new Zd(Bm(t.documentKey)),t.largestBatchId)):Bd.empty(),r=e.fields.map((function(e){var t=(0,m.Z)(e,2),n=t[0],r=t[1];return new zd(Fd.fromServerFormat(n),r)}));return new jd(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Ad(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=sg(e),a=cg(e);return this.wn(e).next((function(e){return i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return Yd.forEach(t,(function(t){return a.put(Ny(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return Yd.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?Yd.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),Yd.forEach(a,(function(r){return n.mn(e,t,r).next((function(t){var a=n.gn(i,r);return t.isEqual(a)?Yd.resolve():n.yn(e,i,r,t,a)}))}))}))}))}},{key:"pn",value:function(e,t,n,r){return ug(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.ln(n,t.key),documentKey:t.key.path.toArray()})}},{key:"In",value:function(e,t,n,r){return ug(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.ln(n,t.key),t.key.path.toArray()])}},{key:"mn",value:function(e,t,n){var r=ug(e),i=new xp(qy);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.ln(n,t)])},(function(e,r){i=i.add(new By(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"gn",value:function(e,t){var n=new xp(qy),r=this.hn(t,e);if(null==r)return n;var i=Vd(t);if(null!=i){var a=e.data.field(i.fieldPath);if(jh(a)){var o,u=La(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new By(t.indexId,e.key,this.un(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new By(t.indexId,e.key,ig,r));return n}},{key:"yn",value:function(e,t,n,r,i){var a=this;cd("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=Ip(a),s=Ip(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=Ip(o)):l?(i(u),u=Ip(a)):(u=Ip(a),s=Ip(o))}}(r,i,qy,(function(r){o.push(a.pn(e,t,n,r))}),(function(r){o.push(a.In(e,t,n,r))})),Yd.waitFor(o)}},{key:"wn",value:function(e){var t=1;return cg(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return qy(e,t)})).filter((function(e,t,n){return!t||0!==qy(e,n[t-1])}));var r=[];r.push(e);var i,a=La(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=qy(o,e),s=qy(o,t);if(0===u)r[0]=e.Ge();else if(u>0&&s<0)r.push(o),r.push(o.Ge());else if(s>0)break}}catch(h){a.e(h)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2){if(this.Tn(r[l],r[l+1]))return[];var f=[r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,ig,[]],d=[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,ig,[]];c.push(IDBKeyRange.bound(f,d))}return c}},{key:"Tn",value:function(e,t){return qy(e,t)>0}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(lg)}},{key:"getMinOffset",value:function(e,t){var n=this;return Yd.mapArray(this.en(t),(function(t){return n.nn(e,t).next((function(e){return e||hd()}))})).next(lg)}}]),e}();function og(e){return py(e,"collectionParents")}function ug(e){return py(e,"indexEntries")}function sg(e){return py(e,"indexConfiguration")}function cg(e){return py(e,"indexState")}function lg(e){pd(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;Gd(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Kd(t.readTime,t.documentKey,n)}var fg={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},dg=function(){function e(t,n,r){Xn(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return er(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function hg(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.X({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){pd(1===u)})));var c,l=[],f=La(n.mutations);try{for(f.s();!(c=f.n()).done;){var d=c.value,h=Km(t,d.key.path,n.batchId);a.push(i.delete(h)),l.push(d.key)}}catch(p){f.e(p)}finally{f.f()}return Yd.waitFor(a).next((function(){return l}))}function pg(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw hd();t=e.noDocument}return JSON.stringify(t).length}dg.DEFAULT_COLLECTION_PERCENTILE=10,dg.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dg.DEFAULT=new dg(41943040,dg.DEFAULT_COLLECTION_PERCENTILE,dg.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dg.DISABLED=new dg(-1,0,0);var vg=function(){function e(t,n,r,i){Xn(this,e),this.userId=t,this.Tt=n,this.indexManager=r,this.referenceDelegate=i,this.En={}}return er(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return yg(e).X({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=gg(e),o=yg(e);return o.add({}).next((function(u){pd("number"==typeof u);var s,c=new vy(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return _m(e.oe,t)})),i=n.mutations.map((function(t){return _m(e.oe,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.Tt,i.userId,c),f=[],d=new xp((function(e,t){return Ad(e.canonicalString(),t.canonicalString())})),h=La(r);try{for(h.s();!(s=h.n()).done;){var p=s.value,v=Km(i.userId,p.key.path,u);d=d.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,Gm))}}catch(m){h.e(m)}finally{h.f()}return d.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.En[u]=c.keys()})),Yd.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return yg(e).get(t).next((function(e){return e?(pd(e.userId===n.userId),Iy(n.Tt,e)):null}))}},{key:"An",value:function(e,t){var n=this;return this.En[t]?Yd.resolve(this.En[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.En[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return yg(e).X({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(pd(t.batchId>=r),a=Iy(n.Tt,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return yg(e).X({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return yg(e).W("userMutationsIndex",n).next((function(e){return e.map((function(e){return Iy(t.Tt,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=Wm(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return gg(e).X({range:i},(function(r,i,o){var u=(0,m.Z)(r,3),s=u[0],c=u[1],l=u[2],f=Bm(c);if(s===n.userId&&t.path.isEqual(f))return yg(e).get(l).next((function(e){if(!e)throw hd();pd(e.userId===n.userId),a.push(Iy(n.Tt,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new xp(Ad),i=[];return t.forEach((function(t){var a=Wm(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=gg(e).X({range:o},(function(e,i,a){var o=(0,m.Z)(e,3),u=o[0],s=o[1],c=o[2],l=Bm(s);u===n.userId&&t.path.isEqual(l)?r=r.add(c):a.done()}));i.push(u)})),Yd.waitFor(i).next((function(){return n.Rn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=Wm(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new xp(Ad);return gg(e).X({range:o},(function(e,t,a){var o=(0,m.Z)(e,3),s=o[0],c=o[1],l=o[2],f=Bm(c);s===n.userId&&r.isPrefixOf(f)?f.length===i&&(u=u.add(l)):a.done()})).next((function(){return n.Rn(e,u)}))}},{key:"Rn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(yg(e).get(t).next((function(e){if(null===e)throw hd();pd(e.userId===n.userId),r.push(Iy(n.Tt,e))})))})),Yd.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return hg(e.re,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Pn(t.batchId)})),Yd.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"Pn",value:function(e){delete this.En[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Yd.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return gg(e).X({range:r},(function(e,n,r){if(e[0]===t.userId){var a=Bm(e[1]);i.push(a)}else r.done()})).next((function(){pd(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return mg(e,this.userId,t)}},{key:"vn",value:function(e){var t=this;return bg(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"ue",value:function(t,n,r,i){return pd(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function mg(e,t,n){var r=Wm(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return gg(e).X({range:a,Z:!0},(function(e,n,r){var a=(0,m.Z)(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function yg(e){return py(e,"mutations")}function gg(e){return py(e,"documentMutations")}function bg(e){return py(e,"mutationQueues")}var kg=function(){function e(t){Xn(this,e),this.bn=t}return er(e,[{key:"next",value:function(){return this.bn+=2,this.bn}}],[{key:"Vn",value:function(){return new e(0)}},{key:"Sn",value:function(){return new e(-1)}}]),e}(),wg=function(){function e(t,n){Xn(this,e),this.referenceDelegate=t,this.Tt=n}return er(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Dn(e).next((function(n){var r=new kg(n.highestTargetId);return n.highestTargetId=r.next(),t.Cn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Dn(e).next((function(e){return Od.fromTimestamp(new Pd(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Dn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Dn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Cn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.xn(e,t).next((function(){return n.Dn(e).next((function(r){return r.targetCount+=1,n.Nn(t,r),n.Cn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.xn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return xg(e).delete(t.targetId)})).next((function(){return n.Dn(e)})).next((function(t){return pd(t.targetCount>0),t.targetCount-=1,n.Cn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return xg(e).X((function(o,u){var s=Ey(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return Yd.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return xg(e).X((function(e,n){var r=Ey(n);t(r)}))}},{key:"Dn",value:function(e){return Sg(e).get("targetGlobalKey").next((function(e){return pd(null!==e),e}))}},{key:"Cn",value:function(e,t){return Sg(e).put("targetGlobalKey",t)}},{key:"xn",value:function(e,t){return xg(e).put(_y(this.Tt,t))}},{key:"Nn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Dn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=Rp(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return xg(e).X({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=Ey(n);Pp(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=Ig(e);return t.forEach((function(t){var o=Vm(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),Yd.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=Ig(e);return Yd.forEach(t,(function(t){var a=Vm(t.path);return Yd.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=Ig(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Ig(e),i=Qv();return r.X({range:n,Z:!0},(function(e,t,n){var r=Bm(e[1]),a=new Zd(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=Vm(t.path),r=IDBKeyRange.bound([n],[Rd(n)],!1,!0),i=0;return Ig(e).X({index:"documentTargetsIndex",Z:!0,range:r},(function(e,t,n){var r=(0,m.Z)(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"ie",value:function(e,t){return xg(e).get(t).next((function(e){return e?Ey(e):null}))}}]),e}();function xg(e){return py(e,"targets")}function Sg(e){return py(e,"targetGlobal")}function Ig(e){return py(e,"targetDocuments")}function Eg(e,t){var n=(0,m.Z)(e,2),r=n[0],i=n[1],a=(0,m.Z)(t,2),o=a[0],u=a[1],s=Ad(r,o);return 0===s?Ad(i,u):s}var _g=function(){function e(t){Xn(this,e),this.kn=t,this.buffer=new xp(Eg),this.$n=0}return er(e,[{key:"Mn",value:function(){return++this.$n}},{key:"On",value:function(e){var t=[e,this.Mn()];if(this.buffer.size<this.kn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Eg(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),Tg=function(){function e(t,n,r){Xn(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Fn=null}return er(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Bn(6e4)}},{key:"stop",value:function(){this.Fn&&(this.Fn.cancel(),this.Fn=null)}},{key:"started",get:function(){return null!==this.Fn}},{key:"Bn",value:function(e){var t=this;cd("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Fn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,xo(ko().mark((function e(){return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Fn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!rh(e.t0)){e.next=12;break}cd("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,$d(e.t0);case 14:return e.next=16,t.Bn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),Cg=function(){function e(t,n){Xn(this,e),this.Ln=t,this.params=n}return er(e,[{key:"calculateTargetCount",value:function(e,t){return this.Ln.qn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return Yd.resolve(lh.at);var r=new _g(t);return this.Ln.forEachTarget(e,(function(e){return r.On(e.sequenceNumber)})).next((function(){return n.Ln.Un(e,(function(e){return r.On(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.Ln.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.Ln.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(cd("LruGarbageCollector","Garbage collection skipped; disabled"),Yd.resolve(fg)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(cd("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),fg):n.Kn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.Ln.getCacheSize(e)}},{key:"Kn",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(cd("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),sd()<=To.DEBUG&&cd("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),Yd.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),Ag=function(){function e(t,n){Xn(this,e),this.db=t,this.garbageCollector=function(e,t){return new Cg(e,t)}(this,n)}return er(e,[{key:"qn",value:function(e){var t=this.Gn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Gn",value:function(e){var t=0;return this.Un(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Un",value:function(e,t){return this.Qn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return Ng(e,n)}},{key:"removeReference",value:function(e,t,n){return Ng(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return Ng(e,t)}},{key:"jn",value:function(e,t){return function(e,t){var n=!1;return bg(e).tt((function(r){return mg(e,r,t).next((function(e){return e&&(n=!0),Yd.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Qn(e,(function(o,u){if(u<=t){var s=n.jn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,Od.min()),Ig(e).delete([0,Vm(o.path)])}))}));i.push(s)}})).next((function(){return Yd.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return Ng(e,t)}},{key:"Qn",value:function(e,t){var n,r=Ig(e),i=lh.at;return r.X({index:"documentTargetsIndex"},(function(e,r){var a=(0,m.Z)(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==lh.at&&t(new Zd(Bm(n)),i),i=s,n=u):i=lh.at})).next((function(){i!==lh.at&&t(new Zd(Bm(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function Ng(e,t){return Ig(e).put(function(e,t){return{targetId:0,path:Vm(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var Rg=function(){function e(){Xn(this,e),this.changes=new Zv((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return er(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Cp.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Yd.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),Pg=function(){function e(t){Xn(this,e),this.Tt=t}return er(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return Lg(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return Lg(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],wy(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.zn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=Cp.newInvalidDocument(t);return Lg(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Fg(t))},(function(e,i){r=n.Wn(t,i)})).next((function(){return r}))}},{key:"Hn",value:function(e,t){var n=this,r={size:0,document:Cp.newInvalidDocument(t)};return Lg(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Fg(t))},(function(e,i){r={document:n.Wn(t,i),size:pg(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=Vv();return this.Jn(e,t,(function(e,t){var i=n.Wn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Yn",value:function(e,t){var n=this,r=Vv(),i=new bp(Zd.comparator);return this.Jn(e,t,(function(e,t){var a=n.Wn(e,t);r=r.insert(e,a),i=i.insert(e,pg(t))})).next((function(){return{documents:r,Zn:i}}))}},{key:"Jn",value:function(e,t,n){if(t.isEmpty())return Yd.resolve();var r=new xp(jg);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(Fg(r.first()),Fg(r.last())),a=r.getIterator(),o=a.getNext();return Lg(e).X({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=Zd.fromSegments([].concat((0,re.Z)(t.prefixPath),[t.collectionGroup,t.documentId]));o&&jg(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.j(Fg(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this,a=t.path,o=[a.popLast().toArray(),a.lastSegment(),wy(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],u=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Lg(e).W(IDBKeyRange.bound(o,u,!0)).next((function(e){var n,a=Vv(),o=La(e);try{for(o.s();!(n=o.n()).done;){var u=n.value,s=i.Wn(Zd.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);s.isFoundDocument()&&(Xp(t,s)||r.has(s.key))&&(a=a.insert(s.key,s))}}catch(c){o.e(c)}finally{o.f()}return a}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=Vv(),o=Zg(t,n),u=Zg(t,Kd.max());return Lg(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.Wn(Zd.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new Dg(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return Mg(e).get("remoteDocumentGlobalKey").next((function(e){return pd(!!e),e}))}},{key:"zn",value:function(e,t){return Mg(e).put("remoteDocumentGlobalKey",t)}},{key:"Wn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=Im(e.oe,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=Zd.fromSegments(t.noDocument.path),i=Sy(t.noDocument.readTime);n=Cp.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return hd();var a=Zd.fromSegments(t.unknownDocument.path),o=Sy(t.unknownDocument.version);n=Cp.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new Pd(e[0],e[1]);return Od.fromTimestamp(t)}(t.readTime)),n}(this.Tt,t);if(!n.isNoDocument()||!n.version.isEqual(Od.min()))return n}return Cp.newInvalidDocument(e)}}]),e}();function Og(e){return new Pg(e)}var Dg=function(e){Fa(n,e);var t=Ua(n);function n(e,r){var i;return Xn(this,n),(i=t.call(this)).Xn=e,i.trackRemovals=r,i.ts=new Zv((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return er(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new xp((function(e,t){return Ad(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.ts.get(a);if(n.push(t.Xn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=ky(t.Xn.Tt,o);i=i.add(a.path.popLast());var c=pg(s);r+=c-u.size,n.push(t.Xn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=ky(t.Xn.Tt,o.convertToNoDocument(Od.min()));n.push(t.Xn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.Xn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Xn.updateMetadata(e,r)),Yd.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Xn.Hn(e,t).next((function(e){return n.ts.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Xn.Yn(e,t).next((function(e){var t=e.documents;return e.Zn.forEach((function(e,r){n.ts.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(Rg);function Mg(e){return py(e,"remoteDocumentGlobal")}function Lg(e){return py(e,"remoteDocumentsV14")}function Fg(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Zg(e,t){var n=t.documentKey.path.toArray();return[e,wy(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function jg(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=Ad(n[a],r[a]))return i;return(i=Ad(n.length,r.length))||((i=Ad(n[n.length-2],r[r.length-2]))||Ad(n[n.length-1],r[r.length-1]))}var Vg=er((function e(t,n){Xn(this,e),this.overlayedDocument=t,this.mutatedFields=n})),Ug=function(){function e(t,n,r,i){Xn(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return er(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&Sv(r.mutation,e,Ep.empty(),Pd.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,Qv()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Qv(),i=qv();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=zv();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=qv();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,Qv())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=Vv(),a=Kv(),o=Kv();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Tv)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),Sv(o.mutation,t,o.mutation.getFieldMask(),Pd.now())):a.set(t.key,Ep.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new Vg(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=Kv(),i=new bp((function(e,t){return e-t})),a=Qv();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=La(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||Ep.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||Qv()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,c=i.value,l=Wv();c.forEach((function(e){if(!a.has(e)){var n=wv(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,l))};u.hasNext();)s();return Yd.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return Zd.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Bp(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):Yd.resolve(qv()),u=-1,s=a;return o.next((function(t){return Yd.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?Yd.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,Qv())})).next((function(e){return{batchId:u,changes:Bv(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new Zd(t)).next((function(e){var t=zv();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=zv();return this.indexManager.getCollectionParents(e,i).next((function(o){return Yd.forEach(o,(function(o){var u=function(e,t){return new Fp(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(a){return r=a,i.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)})).next((function(e){r.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,Cp.newInvalidDocument(r)))}));var n=zv();return e.forEach((function(e,i){var a=r.get(e);void 0!==a&&Sv(a.mutation,i,Ep.empty(),Pd.now()),Xp(t,i)&&(n=n.insert(e,i))})),n}))}}]),e}(),zg=function(){function e(t){Xn(this,e),this.Tt=t,this.es=new Map,this.ns=new Map}return er(e,[{key:"getBundleMetadata",value:function(e,t){return Yd.resolve(this.es.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.es.set(t.id,{id:(n=t).id,version:n.version,createTime:pm(n.createTime)}),Yd.resolve()}},{key:"getNamedQuery",value:function(e,t){return Yd.resolve(this.ns.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.ns.set(t.name,function(e){return{name:e.name,query:Ty(e.bundledQuery),readTime:pm(e.readTime)}}(t)),Yd.resolve()}}]),e}(),Bg=function(){function e(){Xn(this,e),this.overlays=new bp(Zd.comparator),this.ss=new Map}return er(e,[{key:"getOverlay",value:function(e,t){return Yd.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=qv();return Yd.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ce(e,t,i)})),Yd.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.ss.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.ss.delete(n)),Yd.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=qv(),i=t.length+1,a=new Zd(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return Yd.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new bp((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=qv(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=qv(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return Yd.resolve(s)}},{key:"ce",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.ss.get(r.largestBatchId).delete(n.key);this.ss.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new yy(t,n));var a=this.ss.get(t);void 0===a&&(a=Qv(),this.ss.set(t,a)),this.ss.set(t,a.add(n.key))}}]),e}(),qg=function(){function e(){Xn(this,e),this.rs=new xp(Wg.os),this.us=new xp(Wg.cs)}return er(e,[{key:"isEmpty",value:function(){return this.rs.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Wg(e,t);this.rs=this.rs.add(n),this.us=this.us.add(n)}},{key:"hs",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.ls(new Wg(e,t))}},{key:"fs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"ds",value:function(e){var t=this,n=new Zd(new Md([])),r=new Wg(n,e),i=new Wg(n,e+1),a=[];return this.us.forEachInRange([r,i],(function(e){t.ls(e),a.push(e.key)})),a}},{key:"_s",value:function(){var e=this;this.rs.forEach((function(t){return e.ls(t)}))}},{key:"ls",value:function(e){this.rs=this.rs.delete(e),this.us=this.us.delete(e)}},{key:"ws",value:function(e){var t=new Zd(new Md([])),n=new Wg(t,e),r=new Wg(t,e+1),i=Qv();return this.us.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Wg(e,0),n=this.rs.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Wg=function(){function e(t,n){Xn(this,e),this.key=t,this.gs=n}return er(e,null,[{key:"os",value:function(e,t){return Zd.comparator(e.key,t.key)||Ad(e.gs,t.gs)}},{key:"cs",value:function(e,t){return Ad(e.gs,t.gs)||Zd.comparator(e.key,t.key)}}]),e}(),Kg=function(){function e(t,n){Xn(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ys=1,this.ps=new xp(Wg.os)}return er(e,[{key:"checkEmpty",value:function(e){return Yd.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ys;this.ys++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new vy(i,t,n,r);this.mutationQueue.push(a);var o,u=La(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.ps=this.ps.add(new Wg(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return Yd.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Yd.resolve(this.Is(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.Ts(n),i=r<0?0:r;return Yd.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Yd.resolve(0===this.mutationQueue.length?-1:this.ys-1)}},{key:"getAllMutationBatches",value:function(e){return Yd.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Wg(t,0),i=new Wg(t,Number.POSITIVE_INFINITY),a=[];return this.ps.forEachInRange([r,i],(function(e){var t=n.Is(e.gs);a.push(t)})),Yd.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new xp(Ad);return t.forEach((function(e){var t=new Wg(e,0),i=new Wg(e,Number.POSITIVE_INFINITY);n.ps.forEachInRange([t,i],(function(e){r=r.add(e.gs)}))})),Yd.resolve(this.Es(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Zd.isDocumentKey(i)||(i=i.child(""));var a=new Wg(new Zd(i),0),o=new xp(Ad);return this.ps.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.gs)),!0)}),a),Yd.resolve(this.Es(o))}},{key:"Es",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.Is(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;pd(0===this.As(t.batchId,"removed")),this.mutationQueue.shift();var r=this.ps;return Yd.forEach(t.mutations,(function(i){var a=new Wg(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.ps=r}))}},{key:"Pn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Wg(t,0),r=this.ps.firstAfterOrEqual(n);return Yd.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,Yd.resolve()}},{key:"As",value:function(e,t){return this.Ts(e)}},{key:"Ts",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"Is",value:function(e){var t=this.Ts(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),Gg=function(){function e(t){Xn(this,e),this.Rs=t,this.docs=new bp(Zd.comparator),this.size=0}return er(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Rs(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Yd.resolve(n?n.document.mutableCopy():Cp.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Vv();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Cp.newInvalidDocument(e))})),Yd.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=Vv(),a=t.path,o=new Zd(a.child("")),u=this.docs.getIteratorFrom(o);u.hasNext();){var s=u.getNext(),c=s.key,l=s.value.document;if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||Gd(Wd(l),n)<=0||(r.has(l.key)||Xp(t,l))&&(i=i.insert(l.key,l.mutableCopy()))}return Yd.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){hd()}},{key:"Ps",value:function(e,t){return Yd.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Hg(this)}},{key:"getSize",value:function(e){return Yd.resolve(this.size)}}]),e}(),Hg=function(e){Fa(n,e);var t=Ua(n);function n(e){var r;return Xn(this,n),(r=t.call(this)).Xn=e,r}return er(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Xn.addEntry(e,i)):t.Xn.removeEntry(r)})),Yd.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Xn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Xn.getEntries(e,t)}}]),n}(Rg),Qg=function(){function e(t){Xn(this,e),this.persistence=t,this.vs=new Zv((function(e){return Rp(e)}),Pp),this.lastRemoteSnapshotVersion=Od.min(),this.highestTargetId=0,this.bs=0,this.Vs=new qg,this.targetCount=0,this.Ss=kg.Vn()}return er(e,[{key:"forEachTarget",value:function(e,t){return this.vs.forEach((function(e,n){return t(n)})),Yd.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Yd.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Yd.resolve(this.bs)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Ss.next(),Yd.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.bs&&(this.bs=t),Yd.resolve()}},{key:"xn",value:function(e){this.vs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Ss=new kg(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.xn(t),this.targetCount+=1,Yd.resolve()}},{key:"updateTargetData",value:function(e,t){return this.xn(t),Yd.resolve()}},{key:"removeTargetData",value:function(e,t){return this.vs.delete(t.target),this.Vs.ds(t.targetId),this.targetCount-=1,Yd.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.vs.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.vs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),Yd.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Yd.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.vs.get(t)||null;return Yd.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Vs.hs(t,n),Yd.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Vs.fs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Yd.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Vs.ds(t),Yd.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Vs.ws(t);return Yd.resolve(n)}},{key:"containsKey",value:function(e,t){return Yd.resolve(this.Vs.containsKey(t))}}]),e}(),$g=function(){function e(t,n){var r=this;Xn(this,e),this.Ds={},this.overlays={},this.Cs=new lh(0),this.xs=!1,this.xs=!0,this.referenceDelegate=t(this),this.Ns=new Qg(this),this.indexManager=new ng,this.remoteDocumentCache=new Gg((function(e){return r.referenceDelegate.ks(e)})),this.Tt=new by(n),this.$s=new zg(this.Tt)}return er(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.xs=!1,Promise.resolve()}},{key:"started",get:function(){return this.xs}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new Bg,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Ds[e.toKey()];return n||(n=new Kg(t,this.referenceDelegate),this.Ds[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Ns}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.$s}},{key:"runTransaction",value:function(e,t,n){var r=this;cd("MemoryPersistence","Starting transaction:",e);var i=new Xg(this.Cs.next());return this.referenceDelegate.Ms(),n(i).next((function(e){return r.referenceDelegate.Os(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Fs",value:function(e,t){return Yd.or(Object.values(this.Ds).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),Xg=function(e){Fa(n,e);var t=Ua(n);function n(e){var r;return Xn(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return er(n)}(Qd),Yg=function(){function e(t){Xn(this,e),this.persistence=t,this.Bs=new qg,this.Ls=null}return er(e,[{key:"Us",get:function(){if(this.Ls)return this.Ls;throw hd()}},{key:"addReference",value:function(e,t,n){return this.Bs.addReference(n,t),this.Us.delete(n.toString()),Yd.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Bs.removeReference(n,t),this.Us.add(n.toString()),Yd.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Us.add(t.toString()),Yd.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Bs.ds(t.targetId).forEach((function(e){return n.Us.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Us.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Ms",value:function(){this.Ls=new Set}},{key:"Os",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Yd.forEach(this.Us,(function(r){var i=Zd.fromPath(r);return t.Ks(e,i).next((function(e){e||n.removeEntry(i,Od.min())}))})).next((function(){return t.Ls=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Ks(e,t).next((function(e){e?n.Us.delete(t.toString()):n.Us.add(t.toString())}))}},{key:"ks",value:function(e){return 0}},{key:"Ks",value:function(e,t){var n=this;return Yd.or([function(){return Yd.resolve(n.Bs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Fs(e,t)}])}}],[{key:"qs",value:function(t){return new e(t)}}]),e}(),Jg=function(){function e(t){Xn(this,e),this.Tt=t}return er(e,[{key:"F",value:function(e,t,n,r){var i=this,a=new Jd("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",qm,{unique:!0}),e.createObjectStore("documentMutations")}(e),eb(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=Yd.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),eb(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Od.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").W().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",qm,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return Yd.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Gs(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Qs(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.js(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.zs(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.Ws(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:ay});t.createIndex("collectionPathOverlayIndex",oy,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",uy,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:Hm});t.createIndex("documentKeyIndex",Qm),t.createIndex("collectionGroupIndex",$m)}(e)})).next((function(){return i.Hs(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.Js(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:ty}).createIndex("sequenceNumberIndex",ny,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:ry}).createIndex("documentKeyIndex",iy,{unique:!1})}(e)}))),o}},{key:"Qs",value:function(e){var t=0;return e.store("remoteDocuments").X((function(e,n){t+=pg(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Gs",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next((function(n){return Yd.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",i).next((function(r){return Yd.forEach(r,(function(r){pd(r.userId===n.userId);var i=Iy(t.Tt,r);return hg(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"js",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.X((function(n,i){var a=new Md(n),o=function(e){return[0,Vm(e)]}(a);r.push(t.get(o).next((function(n){return n?Yd.resolve():function(n){return t.put({targetId:0,path:Vm(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return Yd.waitFor(r)}))}))}},{key:"zs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:ey});var n=t.store("collectionParents"),r=new rg,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Vm(i)})}};return t.store("remoteDocuments").X({Z:!0},(function(e,t){var n=new Md(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").X({Z:!0},(function(e,t){var n=(0,m.Z)(e,3),r=(n[0],n[1]),a=(n[2],Bm(r));return i(a.popLast())}))}))}},{key:"Ws",value:function(e){var t=this,n=e.store("targets");return n.X((function(e,r){var i=Ey(r),a=_y(t.Tt,i);return n.put(a)}))}},{key:"Hs",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.X((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new Zd(Md.fromString(i.document.name).popFirst(5)):i.noDocument?Zd.fromSegments(i.noDocument.path):i.unknownDocument?Zd.fromSegments(i.unknownDocument.path):hd()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return Yd.waitFor(r)}))}},{key:"Js",value:function(e,t){var n=this,r=t.store("mutations"),i=Og(this.Tt),a=new $g(Yg.qs,this.Tt.oe);return r.W().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:Qv();Iy(n.Tt,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),Yd.forEach(r,(function(e,r){var o=new ad(r),u=Dy.ue(n.Tt,o),s=a.getIndexManager(o),c=vg.ue(o,n.Tt,s,a.referenceDelegate);return new Ug(i,c,u,s).recalculateAndSaveOverlaysForDocumentKeys(new hy(t,lh.at),e).next()}))}))}}]),e}();function eb(e){e.createObjectStore("targetDocuments",{keyPath:Ym}).createIndex("documentTargetsIndex",Jm,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Xm,{unique:!0}),e.createObjectStore("targetGlobal")}var tb="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",nb=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(Xn(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Ys=a,this.window=o,this.document=u,this.Zs=c,this.Xs=l,this.ti=f,this.Cs=null,this.xs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ei=null,this.inForeground=!1,this.ni=null,this.si=null,this.ii=Number.NEGATIVE_INFINITY,this.ri=function(e){return Promise.resolve()},!e.C())throw new yd(md.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Ag(this,i),this.oi=n+"main",this.Tt=new by(s),this.ui=new eh(this.oi,this.ti,new Jg(this.Tt)),this.Ns=new wg(this.referenceDelegate,this.Tt),this.remoteDocumentCache=Og(this.Tt),this.$s=new Ry,this.window&&this.window.localStorage?this.ci=this.window.localStorage:(this.ci=null,!1===l&&ld("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return er(e,[{key:"start",value:function(){var e=this;return this.ai().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new yd(md.FAILED_PRECONDITION,tb);return e.hi(),e.li(),e.fi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Ns.getHighestSequenceNumber(t)}))})).then((function(t){e.Cs=new lh(t,e.Zs)})).then((function(){e.xs=!0})).catch((function(t){return e.ui&&e.ui.close(),Promise.reject(t)}))}},{key:"di",value:function(e){var t=this;return this.ri=function(){var n=xo(ko().mark((function n(r){return ko().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ui.L(function(){var t=xo(ko().mark((function t(n){return ko().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Ys.enqueueAndForget(xo(ko().mark((function e(){return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ai();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ai",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return ib(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e._i(t).next((function(t){t||(e.isPrimary=!1,e.Ys.enqueueRetryable((function(){return e.ri(!1)})))}))})).next((function(){return e.wi(t)})).next((function(n){return e.isPrimary&&!n?e.mi(t).next((function(){return!1})):!!n&&e.gi(t).next((function(){return!0}))}))})).catch((function(t){if(rh(t))return cd("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return cd("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Ys.enqueueRetryable((function(){return e.ri(t)})),e.isPrimary=t}))}},{key:"_i",value:function(e){var t=this;return rb(e).get("owner").next((function(e){return Yd.resolve(t.yi(e))}))}},{key:"pi",value:function(e){return ib(e).delete(this.clientId)}},{key:"Ii",value:function(){var e=xo(ko().mark((function e(){var t,n,r,i,a=this;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.Ti(this.ii,18e5)){e.next=6;break}return this.ii=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=py(e,"clientMetadata");return t.W().next((function(e){var n=a.Ei(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Yd.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.ci){n=La(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.ci.removeItem(this.Ai(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fi",value:function(){var e=this;this.si=this.Ys.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ai().then((function(){return e.Ii()})).then((function(){return e.fi()}))}))}},{key:"yi",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"wi",value:function(e){var t=this;return this.Xs?Yd.resolve(!0):rb(e).get("owner").next((function(n){if(null!==n&&t.Ti(n.leaseTimestampMs,5e3)&&!t.Ri(n.ownerId)){if(t.yi(n)&&t.networkEnabled)return!0;if(!t.yi(n)){if(!n.allowTabSynchronization)throw new yd(md.FAILED_PRECONDITION,tb);return!1}}return!(!t.networkEnabled||!t.inForeground)||ib(e).W().next((function(e){return void 0===t.Ei(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&cd("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=xo(ko().mark((function e(){var t=this;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.xs=!1,this.Pi(),this.si&&(this.si.cancel(),this.si=null),this.vi(),this.bi(),e.next=7,this.ui.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new hy(e,lh.at);return t.mi(n).next((function(){return t.pi(n)}))}));case 7:this.ui.close(),this.Vi();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ei",value:function(e,t){var n=this;return e.filter((function(e){return n.Ti(e.updateTimeMs,t)&&!n.Ri(e.clientId)}))}},{key:"Si",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return ib(t).W().next((function(t){return e.Ei(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.xs}},{key:"getMutationQueue",value:function(e,t){return vg.ue(e,this.Tt,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Ns}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new ag(e,this.Tt.oe.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return Dy.ue(this.Tt,e)}},{key:"getBundleCache",value:function(){return this.$s}},{key:"runTransaction",value:function(e,t,n){var r=this;cd("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=15===(i=this.ti)?dy:14===i?fy:13===i?ly:12===i?cy:11===i?sy:void hd();return this.ui.runTransaction(e,o,u,(function(i){return a=new hy(i,r.Cs?r.Cs.next():lh.at),"readwrite-primary"===t?r._i(a).next((function(e){return!!e||r.wi(a)})).next((function(t){if(!t)throw ld("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Ys.enqueueRetryable((function(){return r.ri(!1)})),new yd(md.FAILED_PRECONDITION,Hd);return n(a)})).next((function(e){return r.gi(a).next((function(){return e}))})):r.Di(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Di",value:function(e){var t=this;return rb(e).get("owner").next((function(e){if(null!==e&&t.Ti(e.leaseTimestampMs,5e3)&&!t.Ri(e.ownerId)&&!t.yi(e)&&!(t.Xs||t.allowTabSynchronization&&e.allowTabSynchronization))throw new yd(md.FAILED_PRECONDITION,tb)}))}},{key:"gi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return rb(e).put("owner",t)}},{key:"mi",value:function(e){var t=this,n=rb(e);return n.get("owner").next((function(e){return t.yi(e)?(cd("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):Yd.resolve()}))}},{key:"Ti",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(ld("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"hi",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ni=function(){e.Ys.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ai()}))},this.document.addEventListener("visibilitychange",this.ni),this.inForeground="visible"===this.document.visibilityState)}},{key:"vi",value:function(){this.ni&&(this.document.removeEventListener("visibilitychange",this.ni),this.ni=null)}},{key:"li",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ei=function(){t.Pi();var e=/(?:Version|Mobile)\/1[456]/;!to()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&t.Ys.enterRestrictedMode(!0),t.Ys.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ei))}},{key:"bi",value:function(){this.ei&&(this.window.removeEventListener("pagehide",this.ei),this.ei=null)}},{key:"Ri",value:function(e){var t;try{var n=null!==(null===(t=this.ci)||void 0===t?void 0:t.getItem(this.Ai(e)));return cd("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return ld("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Pi",value:function(){if(this.ci)try{this.ci.setItem(this.Ai(this.clientId),String(Date.now()))}catch(hs){ld("Failed to set zombie client id.",hs)}}},{key:"Vi",value:function(){if(this.ci)try{this.ci.removeItem(this.Ai(this.clientId))}catch(hs){}}},{key:"Ai",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"C",value:function(){return eh.C()}}]),e}();function rb(e){return py(e,"owner")}function ib(e){return py(e,"clientMetadata")}function ab(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var ob=function(){function e(t,n,r,i){Xn(this,e),this.targetId=t,this.fromCache=n,this.Ci=r,this.xi=i}return er(e,null,[{key:"Ni",value:function(t,n){var r,i=Qv(),a=Qv(),o=La(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),ub=function(){function e(){Xn(this,e),this.ki=!1}return er(e,[{key:"initialize",value:function(e,t){this.$i=e,this.indexManager=t,this.ki=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Mi(e,t).next((function(a){return a||i.Oi(e,t,r,n)})).next((function(n){return n||i.Fi(e,t)}))}},{key:"Mi",value:function(e,t){var n=this;if(Vp(t))return Yd.resolve(null);var r=Wp(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=Gp(t,null,"F"),r=Wp(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=Qv.apply(void 0,(0,re.Z)(i));return n.$i.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Bi(t,i);return n.Li(t,o,a,r.readTime)?n.Mi(e,Gp(t,null,"F")):n.qi(e,o,t,r)}))}))})))}))}},{key:"Oi",value:function(e,t,n,r){var i=this;return Vp(t)||r.isEqual(Od.min())?this.Fi(e,t):this.$i.getDocuments(e,n).next((function(a){var o=i.Bi(t,a);return i.Li(t,o,n,r)?i.Fi(e,t):(sd()<=To.DEBUG&&cd("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),$p(t)),i.qi(e,o,t,qd(r,-1)))}))}},{key:"Bi",value:function(e,t){var n=new xp(Jp(e));return t.forEach((function(t,r){Xp(e,r)&&(n=n.add(r))})),n}},{key:"Li",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Fi",value:function(e,t){return sd()<=To.DEBUG&&cd("QueryEngine","Using full collection scan to execute query:",$p(t)),this.$i.getDocumentsMatchingQuery(e,t,Kd.min())}},{key:"qi",value:function(e,t,n,r){return this.$i.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),sb=function(){function e(t,n,r,i){Xn(this,e),this.persistence=t,this.Ui=n,this.Tt=i,this.Ki=new bp(Ad),this.Gi=new Zv((function(e){return Rp(e)}),Pp),this.Qi=new Map,this.ji=t.getRemoteDocumentCache(),this.Ns=t.getTargetCache(),this.$s=t.getBundleCache(),this.zi(r)}return er(e,[{key:"zi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ug(this.ji,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ji.setIndexManager(this.indexManager),this.Ui.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Ki)}))}}]),e}();function cb(e,t,n,r){return new sb(e,t,n,r)}function lb(e,t){return fb.apply(this,arguments)}function fb(){return fb=xo(ko().mark((function e(t,n){var r;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=vd(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.zi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=Qv(),s=La(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=La(c.mutations);try{for(f.s();!(l=f.n()).done;){var d=l.value;u=u.add(d.key)}}catch(b){f.e(b)}finally{f.f()}}}catch(b){s.e(b)}finally{s.f()}var h,p=La(n);try{for(p.s();!(h=p.n()).done;){var v=h.value;o.push(v.batchId);var m,y=La(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(b){y.e(b)}finally{y.f()}}}catch(b){p.e(b)}finally{p.f()}return r.localDocuments.getDocuments(e,u).next((function(e){return{Wi:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),fb.apply(this,arguments)}function db(e,t){var n=vd(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.ji.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Yd.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);pd(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=Qv(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function hb(e){var t=vd(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Ns.getLastRemoteSnapshotVersion(e)}))}function pb(e,t){var n=vd(e),r=t.snapshotVersion,i=n.Ki;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.ji.newChangeBuffer({trackRemovals:!0});i=n.Ki;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Ns.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Ns.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(kh.EMPTY_BYTE_STRING,Od.min()).withLastLimboFreeSnapshotVersion(Od.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.Ns.updateTargetData(e,c))}}));var u=Vv(),s=Qv();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(vb(e,a,t.documentUpdates).next((function(e){u=e.Hi,s=e.Ji}))),!r.isEqual(Od.min())){var c=n.Ns.getLastRemoteSnapshotVersion(e).next((function(t){return n.Ns.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return Yd.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.Ki=i,e}))}function vb(e,t,n){var r=Qv(),i=Qv();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Vv();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Od.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):cd("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Hi:r,Ji:i}}))}function mb(e,t){var n=vd(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function yb(e,t){var n=vd(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Ns.getTargetData(e,t).next((function(i){return i?(r=i,Yd.resolve(r)):n.Ns.allocateTargetId(e).next((function(i){return r=new gy(t,i,0,e.currentSequenceNumber),n.Ns.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Ki.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ki=n.Ki.insert(e.targetId,e),n.Gi.set(t,e.targetId)),e}))}function gb(e,t,n){return bb.apply(this,arguments)}function bb(){return bb=xo(ko().mark((function e(t,n,r){var i,a,o;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=vd(t),a=i.Ki.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),rh(e.t1)){e.next=12;break}throw e.t1;case 12:cd("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Ki=i.Ki.remove(n),i.Gi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),bb.apply(this,arguments)}function kb(e,t,n){var r=vd(e),i=Od.min(),a=Qv();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=vd(e),i=r.Gi.get(n);return void 0!==i?Yd.resolve(r.Ki.get(i)):r.Ns.getTargetData(t,n)}(r,e,Wp(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Ns.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Ui.getDocumentsMatchingQuery(e,t,n?i:Od.min(),n?a:Qv())})).next((function(e){return Sb(r,Yp(t),e),{documents:e,Yi:a}}))}))}function wb(e,t){var n=vd(e),r=vd(n.Ns),i=n.Ki.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.ie(e,t).next((function(e){return e?e.target:null}))}))}function xb(e,t){var n=vd(e),r=n.Qi.get(t)||Od.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.ji.getAllFromCollectionGroup(e,t,qd(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return Sb(n,t,e),e}))}function Sb(e,t,n){var r=e.Qi.get(t)||Od.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Qi.set(t,r)}function Ib(e,t,n,r){return Eb.apply(this,arguments)}function Eb(){return Eb=xo(ko().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,d,h,p;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=vd(t),o=Qv(),u=Vv(),s=La(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.Zi(l.metadata.name),l.document&&(o=o.add(f)),(d=n.Xi(l)).setReadTime(n.tr(l.metadata.readTime)),u=u.insert(f,d)}catch(v){s.e(v)}finally{s.f()}return h=a.ji.newChangeBuffer({trackRemovals:!0}),e.next=7,yb(a,function(e){return Wp(jp(Md.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return vb(e,h,u).next((function(t){return h.apply(e),t})).next((function(t){return a.Ns.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Ns.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.Hi,t.Ji)})).next((function(){return t.Hi}))}))})));case 9:case"end":return e.stop()}}),e)}))),Eb.apply(this,arguments)}function _b(e,t){return Tb.apply(this,arguments)}function Tb(){return Tb=xo(ko().mark((function e(t,n){var r,i,a,o=arguments;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:Qv(),e.next=3,yb(t,Wp(Ty(n.bundledQuery)));case 3:return i=e.sent,a=vd(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=pm(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.$s.saveNamedQuery(e,n);var o=i.withResumeToken(kh.EMPTY_BYTE_STRING,t);return a.Ki=a.Ki.insert(o.targetId,o),a.Ns.updateTargetData(e,o).next((function(){return a.Ns.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Ns.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.$s.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),Tb.apply(this,arguments)}function Cb(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function Ab(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function Nb(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var Rb=function(){function e(t,n,r,i){Xn(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return er(e,[{key:"nr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"er",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new yd(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(ld("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),Pb=function(){function e(t,n,r){Xn(this,e),this.targetId=t,this.state=n,this.error=r}return er(e,[{key:"nr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"er",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new yd(i.error.code,i.error.message))),a?new e(t,i.state,r):(ld("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),Ob=function(){function e(t,n){Xn(this,e),this.clientId=t,this.activeTargetIds=n}return er(e,null,[{key:"er",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Xv(),o=0;i&&o<r.activeTargetIds.length;++o)i=gh(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(ld("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),Db=function(){function e(t,n){Xn(this,e),this.clientId=t,this.onlineState=n}return er(e,null,[{key:"er",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(ld("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),Mb=function(){function e(){Xn(this,e),this.activeTargetIds=Xv()}return er(e,[{key:"sr",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"ir",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"nr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Lb=function(){function e(t,n,r,i,a){Xn(this,e),this.window=t,this.Ys=n,this.persistenceKey=r,this.rr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ur=this.cr.bind(this),this.ar=new bp(Ad),this.started=!1,this.hr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.lr=Cb(this.persistenceKey,this.rr),this.dr=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ar=this.ar.insert(this.rr,new Mb),this._r=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.wr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.mr=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.gr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.yr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.ur)}return er(e,[{key:"start",value:function(){var e=xo(ko().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,d=this;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Si();case 2:t=e.sent,n=La(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.rr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(Cb(this.persistenceKey,i)))&&(o=Ob.er(i,a))&&(this.ar=this.ar.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.pr(),(u=this.storage.getItem(this.gr))&&(s=this.Ir(u))&&this.Tr(s),c=La(this.hr);try{for(c.s();!(l=c.n()).done;)f=l.value,this.cr(f)}catch(h){c.e(h)}finally{c.f()}this.hr=[],this.window.addEventListener("pagehide",(function(){return d.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.dr,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Er(this.ar)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ar.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Ar(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Ar(e,t,n),this.Rr(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(Nb(this.persistenceKey,e));if(n){var r=Pb.er(e,n);r&&(t=r.state)}}return this.Pr.sr(e),this.pr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Pr.ir(e),this.pr()}},{key:"isLocalQueryTarget",value:function(e){return this.Pr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(Nb(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.vr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Rr(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.br(e)}},{key:"notifyBundleLoaded",value:function(e){this.Vr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.ur),this.removeItem(this.lr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return cd("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){cd("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){cd("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"cr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(cd("SharedClientState","EVENT",n.key,n.newValue),n.key===this.lr)return void ld("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ys.enqueueRetryable(xo(ko().mark((function e(){var r,i,a,o,u,s,c;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t._r.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Sr(n.key),e.abrupt("return",t.Dr(r,null));case 6:if(!(i=t.Cr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Dr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.wr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Nr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.kr(a));case 16:e.next=41;break;case 18:if(!t.mr.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.$r(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Mr(o));case 23:e.next=41;break;case 25:if(n.key!==t.gr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.Ir(n.newValue))){e.next=30;break}return e.abrupt("return",t.Tr(u));case 30:e.next=41;break;case 32:if(n.key!==t.dr){e.next=37;break}s=function(e){var t=lh.at;if(null!=e)try{var n=JSON.parse(e);pd("number"==typeof n),t=n}catch(e){ld("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==lh.at&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.yr){e.next=41;break}return c=t.Or(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Fr(e)})));case 41:e.next=44;break;case 43:t.hr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Pr",get:function(){return this.ar.get(this.rr)}},{key:"pr",value:function(){this.setItem(this.lr,this.Pr.nr())}},{key:"Ar",value:function(e,t,n){var r=new Rb(this.currentUser,e,t,n),i=Ab(this.persistenceKey,this.currentUser,e);this.setItem(i,r.nr())}},{key:"Rr",value:function(e){var t=Ab(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"br",value:function(e){var t={clientId:this.rr,onlineState:e};this.storage.setItem(this.gr,JSON.stringify(t))}},{key:"vr",value:function(e,t,n){var r=Nb(this.persistenceKey,e),i=new Pb(e,t,n);this.setItem(r,i.nr())}},{key:"Vr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.yr,t)}},{key:"Sr",value:function(e){var t=this._r.exec(e);return t?t[1]:null}},{key:"Cr",value:function(e,t){var n=this.Sr(e);return Ob.er(n,t)}},{key:"Nr",value:function(e,t){var n=this.wr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Rb.er(new ad(i),r,t)}},{key:"$r",value:function(e,t){var n=this.mr.exec(e),r=Number(n[1]);return Pb.er(r,t)}},{key:"Ir",value:function(e){return Db.er(e)}},{key:"Or",value:function(e){return JSON.parse(e)}},{key:"kr",value:function(){var e=xo(ko().mark((function e(t){return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Br(t.batchId,t.state,t.error));case 2:cd("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Mr",value:function(e){return this.syncEngine.Lr(e.targetId,e.state,e.error)}},{key:"Dr",value:function(e,t){var n=this,r=t?this.ar.insert(e,t):this.ar.remove(e),i=this.Er(this.ar),a=this.Er(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.qr(o,u).then((function(){n.ar=r}))}},{key:"Tr",value:function(e){this.ar.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Er",value:function(e){var t=Xv();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"C",value:function(e){return!(!e||!e.localStorage)}}]),e}(),Fb=function(){function e(){Xn(this,e),this.Ur=new Mb,this.Kr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return er(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Ur.sr(e),this.Kr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Kr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Ur.ir(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Ur.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Kr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Ur.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Ur.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Ur=new Mb,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),Zb=function(){function e(){Xn(this,e)}return er(e,[{key:"Gr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),jb=function(){function e(){var t=this;Xn(this,e),this.Qr=function(){return t.jr()},this.zr=function(){return t.Wr()},this.Hr=[],this.Jr()}return er(e,[{key:"Gr",value:function(e){this.Hr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Qr),window.removeEventListener("offline",this.zr)}},{key:"Jr",value:function(){window.addEventListener("online",this.Qr),window.addEventListener("offline",this.zr)}},{key:"jr",value:function(){cd("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=La(this.Hr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Wr",value:function(){cd("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=La(this.Hr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"C",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Vb=null;function Ub(){return null===Vb?Vb=268435456+Math.round(2147483648*Math.random()):Vb++,"0x"+Vb.toString(16)}var zb={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},Bb=function(){function e(t){Xn(this,e),this.Yr=t.Yr,this.Zr=t.Zr}return er(e,[{key:"Xr",value:function(e){this.eo=e}},{key:"no",value:function(e){this.so=e}},{key:"onMessage",value:function(e){this.io=e}},{key:"close",value:function(){this.Zr()}},{key:"send",value:function(e){this.Yr(e)}},{key:"ro",value:function(){this.eo()}},{key:"oo",value:function(e){this.so(e)}},{key:"uo",value:function(e){this.io(e)}}]),e}(),qb="WebChannelConnection",Wb=function(e){Fa(n,e);var t=Ua(n);function n(e){var r;return Xn(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return er(n,[{key:"wo",value:function(e,t,n,r){var i=Ub();return new Promise((function(a,o){var u=new rd;u.setWithCredentials(!0),u.listenOnce(Yf.COMPLETE,(function(){try{switch(u.getLastErrorCode()){case Xf.NO_ERROR:var t=u.getResponseJson();cd(qb,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case Xf.TIMEOUT:cd(qb,"RPC '".concat(e,"' ").concat(i," timed out")),o(new yd(md.DEADLINE_EXCEEDED,"Request time out"));break;case Xf.HTTP_ERROR:var n=u.getStatus();if(cd(qb,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",u.getResponseText()),n>0){var r=u.getResponseJson();Array.isArray(r)&&(r=r[0]);var s=null==r?void 0:r.error;if(s&&s.status&&s.message){var c=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(md).indexOf(t)>=0?t:md.UNKNOWN}(s.status);o(new yd(c,s.message))}else o(new yd(md.UNKNOWN,"Server responded with status "+u.getStatus()))}else o(new yd(md.UNAVAILABLE,"Connection failed."));break;default:hd()}}finally{cd(qb,"RPC '".concat(e,"' ").concat(i," completed."))}}));var s=JSON.stringify(r);cd(qb,"RPC '".concat(e,"' ").concat(i," sending request:"),r),u.send(t,"POST",s,n,15)}))}},{key:"yo",value:function(e,t,n){var r=Ub(),i=[this.co,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=Qf(),o=$f(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(u.xmlHttpFactory=new td({})),this._o(u.initMessageHeaders,t,n),u.encodeInitMessageHeaders=!0;var s=i.join("");cd(qb,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(s),u);var c=a.createWebChannel(s,u),l=!1,f=!1,d=new Bb({Yr:function(t){f?cd(qb,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(l||(cd(qb,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),c.open(),l=!0),cd(qb,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),c.send(t))},Zr:function(){return c.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(c,nd.EventType.OPEN,(function(){f||cd(qb,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),h(c,nd.EventType.CLOSE,(function(){f||(f=!0,cd(qb,"RPC '".concat(e,"' stream ").concat(r," transport closed")),d.oo())})),h(c,nd.EventType.ERROR,(function(t){f||(f=!0,fd(qb,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),d.oo(new yd(md.UNAVAILABLE,"The operation could not be completed")))})),h(c,nd.EventType.MESSAGE,(function(t){var n;if(!f){var i=t.data[0];pd(!!i);var a=i,o=a.error||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){cd(qb,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);var u=o.status,s=function(e){var t=Rv[e];if(void 0!==t)return Fv(t)}(u),l=o.message;void 0===s&&(s=md.INTERNAL,l="Unknown error status: "+u+" with message "+o.message),f=!0,d.oo(new yd(s,l)),c.close()}else cd(qb,"RPC '".concat(e,"' stream ").concat(r," received:"),i),d.uo(i)}})),h(o,Jf.STAT_EVENT,(function(t){t.stat===ed.PROXY?cd(qb,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===ed.NOPROXY&&cd(qb,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((function(){d.ro()}),0),d}}]),n}(function(){function e(t){Xn(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.co=n+"://"+t.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return er(e,[{key:"ho",get:function(){return!1}},{key:"lo",value:function(e,t,n,r,i){var a=Ub(),o=this.fo(e,t);cd("RestConnection","Sending RPC '".concat(e,"' ").concat(a,":"),o,n);var u={};return this._o(u,r,i),this.wo(e,o,u,n).then((function(t){return cd("RestConnection","Received RPC '".concat(e,"' ").concat(a,": "),t),t}),(function(t){throw fd("RestConnection","RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",n),t}))}},{key:"mo",value:function(e,t,n,r,i,a){return this.lo(e,t,n,r,i)}},{key:"_o",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+od,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"fo",value:function(e,t){var n=zb[e];return"".concat(this.co,"/v1/").concat(t,":").concat(n)}}]),e}());function Kb(){return"undefined"!=typeof window?window:null}function Gb(){return"undefined"!=typeof document?document:null}function Hb(e){return new lm(e,!0)}var Qb=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;Xn(this,e),this.Ys=t,this.timerId=n,this.po=r,this.Io=i,this.To=a,this.Eo=0,this.Ao=null,this.Ro=Date.now(),this.reset()}return er(e,[{key:"reset",value:function(){this.Eo=0}},{key:"Po",value:function(){this.Eo=this.To}},{key:"vo",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Eo+this.bo()),r=Math.max(0,Date.now()-this.Ro),i=Math.max(0,n-r);i>0&&cd("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Eo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Ao=this.Ys.enqueueAfterDelay(this.timerId,i,(function(){return t.Ro=Date.now(),e()})),this.Eo*=this.Io,this.Eo<this.po&&(this.Eo=this.po),this.Eo>this.To&&(this.Eo=this.To)}},{key:"Vo",value:function(){null!==this.Ao&&(this.Ao.skipDelay(),this.Ao=null)}},{key:"cancel",value:function(){null!==this.Ao&&(this.Ao.cancel(),this.Ao=null)}},{key:"bo",value:function(){return(Math.random()-.5)*this.Eo}}]),e}(),$b=function(){function e(t,n,r,i,a,o,u,s){Xn(this,e),this.Ys=t,this.So=r,this.Do=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.Co=0,this.xo=null,this.No=null,this.stream=null,this.ko=new Qb(t,n)}return er(e,[{key:"$o",value:function(){return 1===this.state||5===this.state||this.Mo()}},{key:"Mo",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Oo()}},{key:"stop",value:function(){var e=xo(ko().mark((function e(){return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.$o(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Fo",value:function(){this.state=0,this.ko.reset()}},{key:"Bo",value:function(){var e=this;this.Mo()&&null===this.xo&&(this.xo=this.Ys.enqueueAfterDelay(this.So,6e4,(function(){return e.Lo()})))}},{key:"qo",value:function(e){this.Uo(),this.stream.send(e)}},{key:"Lo",value:function(){var e=xo(ko().mark((function e(){return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Mo()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Uo",value:function(){this.xo&&(this.xo.cancel(),this.xo=null)}},{key:"Ko",value:function(){this.No&&(this.No.cancel(),this.No=null)}},{key:"close",value:function(){var e=xo(ko().mark((function e(t,n){return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Uo(),this.Ko(),this.ko.cancel(),this.Co++,4!==t?this.ko.reset():n&&n.code===md.RESOURCE_EXHAUSTED?(ld(n.toString()),ld("Using maximum backoff delay to prevent overloading the backend."),this.ko.Po()):n&&n.code===md.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Go(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.no(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Go",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Qo(this.Co),n=this.Co;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=(0,m.Z)(t,2),i=r[0],a=r[1];e.Co===n&&e.jo(i,a)}),(function(n){t((function(){var t=new yd(md.UNKNOWN,"Fetching auth token failed: "+n.message);return e.zo(t)}))}))}},{key:"jo",value:function(e,t){var n=this,r=this.Qo(this.Co);this.stream=this.Wo(e,t),this.stream.Xr((function(){r((function(){return n.state=2,n.No=n.Ys.enqueueAfterDelay(n.Do,1e4,(function(){return n.Mo()&&(n.state=3),Promise.resolve()})),n.listener.Xr()}))})),this.stream.no((function(e){r((function(){return n.zo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Oo",value:function(){var e=this;this.state=5,this.ko.vo(xo(ko().mark((function t(){return ko().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"zo",value:function(e){return cd("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Qo",value:function(e){var t=this;return function(n){t.Ys.enqueueAndForget((function(){return t.Co===e?n():(cd("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Xb=function(e){Fa(n,e);var t=Ua(n);function n(e,r,i,a,o,u){var s;return Xn(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).Tt=o,s}return er(n,[{key:"Wo",value:function(e,t){return this.connection.yo("Listen",e,t)}},{key:"onMessage",value:function(e){this.ko.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:hd()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.yt?(pd(void 0===t||"string"==typeof t),kh.fromBase64String(t||"")):(pd(void 0===t||t instanceof Uint8Array),kh.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?md.UNKNOWN:Fv(e.code);return new yd(t,e.message||"")}(o);n=new nm(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=gm(e,s.document.name),l=pm(s.document.updateTime),f=s.document.createTime?pm(s.document.createTime):Od.min(),d=new _p({mapValue:{fields:s.document.fields}}),h=Cp.newFoundDocument(c,l,f,d),p=s.targetIds||[],v=s.removedTargetIds||[];n=new em(p,v,h.key,h)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var y=gm(e,m.document),g=m.readTime?pm(m.readTime):Od.min(),b=Cp.newNoDocument(y,g),k=m.removedTargetIds||[];n=new em([],k,b.key,b)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var x=gm(e,w.document),S=w.removedTargetIds||[];n=new em([],S,x,null)}else{if(!("filter"in t))return hd();t.filter;var I=t.filter;I.targetId;var E=I.count||0,_=new Mv(E),T=I.targetId;n=new tm(T,_)}return n}(this.Tt,e),n=function(e){if(!("targetChange"in e))return Od.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Od.min():t.readTime?pm(t.readTime):Od.min()}(e);return this.listener.Ho(t,n)}},{key:"Jo",value:function(e){var t={};t.database=wm(this.Tt),t.addTarget=function(e,t){var n,r=t.target;return(n=Op(r)?{documents:Cm(e,r)}:{query:Am(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=dm(e,t.resumeToken):t.snapshotVersion.compareTo(Od.min())>0&&(n.readTime=fm(e,t.snapshotVersion.toTimestamp())),n}(this.Tt,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return hd()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.Tt,e);n&&(t.labels=n),this.qo(t)}},{key:"Yo",value:function(e){var t={};t.database=wm(this.Tt),t.removeTarget=e,this.qo(t)}}]),n}($b),Yb=function(e){Fa(n,e);var t=Ua(n);function n(e,r,i,a,o,u){var s;return Xn(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).Tt=o,s.Zo=!1,s}return er(n,[{key:"Xo",get:function(){return this.Zo}},{key:"start",value:function(){this.Zo=!1,this.lastStreamToken=void 0,Yu(Za(n.prototype),"start",this).call(this)}},{key:"Go",value:function(){this.Zo&&this.tu([])}},{key:"Wo",value:function(e,t){return this.connection.yo("Write",e,t)}},{key:"onMessage",value:function(e){if(pd(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Zo){this.ko.reset();var t=function(e,t){return e&&e.length>0?(pd(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?pm(e.updateTime):pm(t);return n.isEqual(Od.min())&&(n=pm(t)),new yv(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=pm(e.commitTime);return this.listener.eu(n,t)}return pd(!e.writeResults||0===e.writeResults.length),this.Zo=!0,this.listener.nu()}},{key:"su",value:function(){var e={};e.database=wm(this.Tt),this.qo(e)}},{key:"tu",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return _m(t.Tt,e)}))};this.qo(n)}}]),n}($b),Jb=function(e){Fa(n,e);var t=Ua(n);function n(e,r,i,a){var o;return Xn(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.Tt=a,o.iu=!1,o}return er(n,[{key:"ru",value:function(){if(this.iu)throw new yd(md.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"lo",value:function(e,t,n){var r=this;return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=(0,m.Z)(i,2),o=a[0],u=a[1];return r.connection.lo(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===md.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new yd(md.UNKNOWN,e.toString())}))}},{key:"mo",value:function(e,t,n,r){var i=this;return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=(0,m.Z)(a,2),u=o[0],s=o[1];return i.connection.mo(e,t,n,u,s,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===md.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new yd(md.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.iu=!0}}]),n}(function(){return er((function e(){Xn(this,e)}))}());var ek=function(){function e(t,n){Xn(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.ou=0,this.uu=null,this.cu=!0}return er(e,[{key:"au",value:function(){var e=this;0===this.ou&&(this.hu("Unknown"),this.uu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.uu=null,e.lu("Backend didn't respond within 10 seconds."),e.hu("Offline"),Promise.resolve()})))}},{key:"fu",value:function(e){"Online"===this.state?this.hu("Unknown"):(this.ou++,this.ou>=1&&(this.du(),this.lu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.hu("Offline")))}},{key:"set",value:function(e){this.du(),this.ou=0,"Online"===e&&(this.cu=!1),this.hu(e)}},{key:"hu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"lu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.cu?(ld(t),this.cu=!1):cd("OnlineStateTracker",t)}},{key:"du",value:function(){null!==this.uu&&(this.uu.cancel(),this.uu=null)}}]),e}(),tk=er((function e(t,n,r,i,a){var o=this;Xn(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this._u=[],this.wu=new Map,this.mu=new Set,this.gu=[],this.yu=a,this.yu.Gr((function(e){r.enqueueAndForget(xo(ko().mark((function e(){return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=dk(o),!e.t0){e.next=5;break}return cd("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=xo(ko().mark((function e(t){var n;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=vd(t)).mu.add(4),e.next=4,ik(n);case 4:return n.pu.set("Unknown"),n.mu.delete(4),e.next=8,nk(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.pu=new ek(r,i)}));function nk(e){return rk.apply(this,arguments)}function rk(){return rk=xo(ko().mark((function e(t){var n,r,i;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!dk(t)){e.next=18;break}n=La(t.gu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),rk.apply(this,arguments)}function ik(e){return ak.apply(this,arguments)}function ak(){return ak=xo(ko().mark((function e(t){var n,r,i;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=La(t.gu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),ak.apply(this,arguments)}function ok(e,t){var n=vd(e);n.wu.has(t.targetId)||(n.wu.set(t.targetId,t),fk(n)?lk(n):Uk(n).Mo()&&sk(n,t))}function uk(e,t){var n=vd(e),r=Uk(n);n.wu.delete(t),r.Mo()&&ck(n,t),0===n.wu.size&&(r.Mo()?r.Bo():dk(n)&&n.pu.set("Unknown"))}function sk(e,t){e.Iu.Ot(t.targetId),Uk(e).Jo(t)}function ck(e,t){e.Iu.Ot(t),Uk(e).Yo(t)}function lk(e){e.Iu=new im({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},ie:function(t){return e.wu.get(t)||null}}),Uk(e).start(),e.pu.au()}function fk(e){return dk(e)&&!Uk(e).$o()&&e.wu.size>0}function dk(e){return 0===vd(e).mu.size}function hk(e){e.Iu=void 0}function pk(e){return vk.apply(this,arguments)}function vk(){return vk=xo(ko().mark((function e(t){return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.wu.forEach((function(e,n){sk(t,e)}));case 1:case"end":return e.stop()}}),e)}))),vk.apply(this,arguments)}function mk(e,t){return yk.apply(this,arguments)}function yk(){return yk=xo(ko().mark((function e(t,n){return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:hk(t),fk(t)?(t.pu.fu(n),lk(t)):t.pu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),yk.apply(this,arguments)}function gk(e,t,n){return bk.apply(this,arguments)}function bk(){return bk=xo(ko().mark((function e(t,n,r){var i;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.pu.set("Online"),!(n instanceof nm&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=xo(ko().mark((function e(t,n){var r,i,a,o;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=La(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.wu.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.wu.delete(o),t.Iu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),cd("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,kk(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof em?t.Iu.Qt(n):n instanceof tm?t.Iu.Zt(n):t.Iu.Wt(n),r.isEqual(Od.min())){e.next=29;break}return e.prev=14,e.next=17,hb(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.Iu.ee(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.wu.get(r);i&&e.wu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.wu.get(t);if(n){e.wu.set(t,n.withResumeToken(kh.EMPTY_BYTE_STRING,n.snapshotVersion)),ck(e,t);var r=new gy(n.target,t,1,n.sequenceNumber);sk(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),cd("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,kk(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),bk.apply(this,arguments)}function kk(e,t,n){return wk.apply(this,arguments)}function wk(){return wk=xo(ko().mark((function e(t,n,r){return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(rh(n)){e.next=2;break}throw n;case 2:return t.mu.add(1),e.next=5,ik(t);case 5:t.pu.set("Offline"),r||(r=function(){return hb(t.localStore)}),t.asyncQueue.enqueueRetryable(xo(ko().mark((function e(){return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return cd("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.mu.delete(1),e.next=6,nk(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),wk.apply(this,arguments)}function xk(e,t){return t().catch((function(n){return kk(e,n,t)}))}function Sk(e){return Ik.apply(this,arguments)}function Ik(){return Ik=xo(ko().mark((function e(t){var n,r,i,a;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=vd(t),r=zk(n),i=n._u.length>0?n._u[n._u.length-1].batchId:-1;case 2:if(!Ek(n)){e.next=19;break}return e.prev=3,e.next=6,mb(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n._u.length&&r.Bo(),e.abrupt("break",19);case 10:i=a.batchId,_k(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,kk(n,e.t0);case 17:e.next=2;break;case 19:Tk(n)&&Ck(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),Ik.apply(this,arguments)}function Ek(e){return dk(e)&&e._u.length<10}function _k(e,t){e._u.push(t);var n=zk(e);n.Mo()&&n.Xo&&n.tu(t.mutations)}function Tk(e){return dk(e)&&!zk(e).$o()&&e._u.length>0}function Ck(e){zk(e).start()}function Ak(e){return Nk.apply(this,arguments)}function Nk(){return Nk=xo(ko().mark((function e(t){return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:zk(t).su();case 1:case"end":return e.stop()}}),e)}))),Nk.apply(this,arguments)}function Rk(e){return Pk.apply(this,arguments)}function Pk(){return Pk=xo(ko().mark((function e(t){var n,r,i,a;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=zk(t),r=La(t._u);try{for(r.s();!(i=r.n()).done;)a=i.value,n.tu(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),Pk.apply(this,arguments)}function Ok(e,t,n){return Dk.apply(this,arguments)}function Dk(){return Dk=xo(ko().mark((function e(t,n,r){var i,a;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t._u.shift(),a=my.from(i,n,r),e.next=3,xk(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,Sk(t);case 5:case"end":return e.stop()}}),e)}))),Dk.apply(this,arguments)}function Mk(e,t){return Lk.apply(this,arguments)}function Lk(){return Lk=xo(ko().mark((function e(t,n){return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&zk(t).Xo,!e.t0){e.next=4;break}return e.next=4,function(){var e=xo(ko().mark((function e(t,n){var r,i;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Lv(i=n.code)||i===md.ABORTED){e.next=7;break}return r=t._u.shift(),zk(t).Fo(),e.next=5,xk(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,Sk(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:Tk(t)&&Ck(t);case 5:case"end":return e.stop()}}),e)}))),Lk.apply(this,arguments)}function Fk(e,t){return Zk.apply(this,arguments)}function Zk(){return Zk=xo(ko().mark((function e(t,n){var r,i;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=vd(t)).asyncQueue.verifyOperationInProgress(),cd("RemoteStore","RemoteStore received new credentials"),i=dk(r),r.mu.add(3),e.next=6,ik(r);case 6:return i&&r.pu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.mu.delete(3),e.next=12,nk(r);case 12:case"end":return e.stop()}}),e)}))),Zk.apply(this,arguments)}function jk(e,t){return Vk.apply(this,arguments)}function Vk(){return Vk=xo(ko().mark((function e(t,n){var r;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=vd(t),!n){e.next=7;break}return r.mu.delete(2),e.next=5,nk(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.mu.add(2),e.next=12,ik(r);case 12:r.pu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),Vk.apply(this,arguments)}function Uk(e){return e.Tu||(e.Tu=function(e,t,n){var r=vd(e);return r.ru(),new Xb(t,r.connection,r.authCredentials,r.appCheckCredentials,r.Tt,n)}(e.datastore,e.asyncQueue,{Xr:pk.bind(null,e),no:mk.bind(null,e),Ho:gk.bind(null,e)}),e.gu.push(function(){var t=xo(ko().mark((function t(n){return ko().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Tu.Fo(),fk(e)?lk(e):e.pu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Tu.stop();case 6:hk(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Tu}function zk(e){return e.Eu||(e.Eu=function(e,t,n){var r=vd(e);return r.ru(),new Yb(t,r.connection,r.authCredentials,r.appCheckCredentials,r.Tt,n)}(e.datastore,e.asyncQueue,{Xr:Ak.bind(null,e),no:Mk.bind(null,e),nu:Rk.bind(null,e),eu:Ok.bind(null,e)}),e.gu.push(function(){var t=xo(ko().mark((function t(n){return ko().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Eu.Fo(),t.next=4,Sk(e);case 4:t.next=9;break;case 6:return t.next=8,e.Eu.stop();case 8:e._u.length>0&&(cd("RemoteStore","Stopping write stream with ".concat(e._u.length," pending writes")),e._u=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Eu}var Bk=function(){function e(t,n,r,i,a){Xn(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new gd,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return er(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new yd(md.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function qk(e,t){if(ld("AsyncQueue","".concat(t,": ").concat(e)),rh(e))return new yd(md.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var Wk=function(){function e(t){Xn(this,e),this.comparator=t?function(e,n){return t(e,n)||Zd.comparator(e.key,n.key)}:function(e,t){return Zd.comparator(e.key,t.key)},this.keyedMap=zv(),this.sortedSet=new bp(this.comparator)}return er(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),Kk=function(){function e(){Xn(this,e),this.Au=new bp(Zd.comparator)}return er(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Au.get(t);n?0!==e.type&&3===n.type?this.Au=this.Au.insert(t,e):3===e.type&&1!==n.type?this.Au=this.Au.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Au=this.Au.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Au=this.Au.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Au=this.Au.remove(t):1===e.type&&2===n.type?this.Au=this.Au.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Au=this.Au.insert(t,{type:2,doc:e.doc}):hd():this.Au=this.Au.insert(t,e)}},{key:"Ru",value:function(){var e=[];return this.Au.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),Gk=function(){function e(t,n,r,i,a,o,u,s,c){Xn(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s,this.hasCachedResults=c}return er(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,Wk.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),Hk=er((function e(){Xn(this,e),this.Pu=void 0,this.listeners=[]})),Qk=er((function e(){Xn(this,e),this.queries=new Zv((function(e){return Qp(e)}),Hp),this.onlineState="Unknown",this.vu=new Set}));function $k(e,t){return Xk.apply(this,arguments)}function Xk(){return Xk=xo(ko().mark((function e(t,n){var r,i,a,o,u;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=vd(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new Hk),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Pu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=qk(e.t0,"Initialization of query '".concat($p(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.bu(r.onlineState),o.Pu&&n.Vu(o.Pu)&&nw(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),Xk.apply(this,arguments)}function Yk(e,t){return Jk.apply(this,arguments)}function Jk(){return Jk=xo(ko().mark((function e(t,n){var r,i,a,o,u;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=vd(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),Jk.apply(this,arguments)}function ew(e,t){var n,r=vd(e),i=!1,a=La(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=La(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Vu(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Pu=o}}}catch(f){a.e(f)}finally{a.f()}i&&nw(r)}function tw(e,t,n){var r=vd(e),i=r.queries.get(t);if(i){var a,o=La(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function nw(e){e.vu.forEach((function(e){e.next()}))}var rw=function(){function e(t,n,r){Xn(this,e),this.query=t,this.Su=n,this.Du=!1,this.Cu=null,this.onlineState="Unknown",this.options=r||{}}return er(e,[{key:"Vu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=La(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new Gk(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.Du?this.xu(e)&&(this.Su.next(e),a=!0):this.Nu(e,this.onlineState)&&(this.ku(e),a=!0),this.Cu=e,a}},{key:"onError",value:function(e){this.Su.error(e)}},{key:"bu",value:function(e){this.onlineState=e;var t=!1;return this.Cu&&!this.Du&&this.Nu(this.Cu,e)&&(this.ku(this.Cu),t=!0),t}},{key:"Nu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.$u||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"xu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Cu&&this.Cu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"ku",value:function(e){e=Gk.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Du=!0,this.Su.next(e)}}]),e}(),iw=function(){function e(t,n){Xn(this,e),this.Mu=t,this.byteLength=n}return er(e,[{key:"Ou",value:function(){return"metadata"in this.Mu}}]),e}(),aw=function(){function e(t){Xn(this,e),this.Tt=t}return er(e,[{key:"Zi",value:function(e){return gm(this.Tt,e)}},{key:"Xi",value:function(e){return e.metadata.exists?Im(this.Tt,e.document,!1):Cp.newNoDocument(this.Zi(e.metadata.name),this.tr(e.metadata.readTime))}},{key:"tr",value:function(e){return pm(e)}}]),e}(),ow=function(){function e(t,n,r){Xn(this,e),this.Fu=t,this.localStore=n,this.Tt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=uw(t)}return er(e,[{key:"Bu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.Mu.namedQuery)this.queries.push(e.Mu.namedQuery);else if(e.Mu.documentMetadata){this.documents.push({metadata:e.Mu.documentMetadata}),e.Mu.documentMetadata.exists||++t;var n=Md.fromString(e.Mu.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.Mu.document&&(this.documents[this.documents.length-1].document=e.Mu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"Lu",value:function(e){var t,n=new Map,r=new aw(this.Tt),i=La(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.Zi(a.metadata.name),s=La(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||Qv()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=xo(ko().mark((function e(){var t,n,r,i,a;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ib(this.localStore,new aw(this.Tt),this.documents,this.Fu.id);case 2:t=e.sent,n=this.Lu(this.documents),r=La(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,_b(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,qu:this.collectionGroups,Uu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function uw(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var sw=er((function e(t){Xn(this,e),this.key=t})),cw=er((function e(t){Xn(this,e),this.key=t})),lw=function(){function e(t,n){Xn(this,e),this.query=t,this.Ku=n,this.Gu=null,this.hasCachedResults=!1,this.current=!1,this.Qu=Qv(),this.mutatedKeys=Qv(),this.ju=Jp(t),this.zu=new Wk(this.ju)}return er(e,[{key:"Wu",get:function(){return this.Ku}},{key:"Hu",value:function(e,t){var n=this,r=t?t.Ju:new Kk,i=t?t.zu:this.zu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Xp(n.query,t)?t:null,d=!!l&&n.mutatedKeys.has(l.key),h=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?d!==h&&(r.track({type:3,doc:f}),p=!0):n.Yu(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.ju(f,s)>0||c&&n.ju(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=h?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{zu:o,Ju:r,Li:u,mutatedKeys:a}}},{key:"Yu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.zu;this.zu=e.zu,this.mutatedKeys=e.mutatedKeys;var a=e.Ju.Ru();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return hd()}};return n(e)-n(t)}(e.type,t.type)||r.ju(e.doc,t.doc)})),this.Zu(n);var o=t?this.Xu():[],u=0===this.Qu.size&&this.current?1:0,s=u!==this.Gu;return this.Gu=u,0!==a.length||s?{snapshot:new Gk(this.query,e.zu,i,a,e.mutatedKeys,0===u,s,!1,!!n&&n.resumeToken.approximateByteSize()>0),tc:o}:{tc:o}}},{key:"bu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({zu:this.zu,Ju:new Kk,mutatedKeys:this.mutatedKeys,Li:!1},!1)):{tc:[]}}},{key:"ec",value:function(e){return!this.Ku.has(e)&&!!this.zu.has(e)&&!this.zu.get(e).hasLocalMutations}},{key:"Zu",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Ku=t.Ku.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Ku=t.Ku.delete(e)})),this.current=e.current)}},{key:"Xu",value:function(){var e=this;if(!this.current)return[];var t=this.Qu;this.Qu=Qv(),this.zu.forEach((function(t){e.ec(t.key)&&(e.Qu=e.Qu.add(t.key))}));var n=[];return t.forEach((function(t){e.Qu.has(t)||n.push(new cw(t))})),this.Qu.forEach((function(e){t.has(e)||n.push(new sw(e))})),n}},{key:"nc",value:function(e){this.Ku=e.Yi,this.Qu=Qv();var t=this.Hu(e.documents);return this.applyChanges(t,!0)}},{key:"sc",value:function(){return Gk.fromInitialDocuments(this.query,this.zu,this.mutatedKeys,0===this.Gu,this.hasCachedResults)}}]),e}(),fw=er((function e(t,n,r){Xn(this,e),this.query=t,this.targetId=n,this.view=r})),dw=er((function e(t){Xn(this,e),this.key=t,this.ic=!1})),hw=function(){function e(t,n,r,i,a,o){Xn(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.rc={},this.oc=new Zv((function(e){return Qp(e)}),Hp),this.uc=new Map,this.cc=new Set,this.ac=new bp(Zd.comparator),this.hc=new Map,this.lc=new qg,this.fc={},this.dc=new Map,this._c=kg.Sn(),this.onlineState="Unknown",this.wc=void 0}return er(e,[{key:"isPrimaryClient",get:function(){return!0===this.wc}}]),e}();function pw(e,t){return vw.apply(this,arguments)}function vw(){return vw=xo(ko().mark((function e(t,n){var r,i,a,o,u,s;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=ux(t),!(o=r.oc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.sc(),e.next=15;break;case 6:return e.next=8,yb(r.localStore,Wp(n));case 8:return u=e.sent,r.isPrimaryClient&&ok(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,mw(r,n,i,"current"===s,u.resumeToken);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),vw.apply(this,arguments)}function mw(e,t,n,r,i){return yw.apply(this,arguments)}function yw(){return yw=xo(ko().mark((function e(t,n,r,i,a){var o,u,s,c,l,f;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.mc=function(e,n,r){return function(){var e=xo(ko().mark((function e(t,n,r,i){var a,o,u;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Hu(r),e.t0=a.Li,!e.t0){e.next=6;break}return e.next=5,kb(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Hu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(Fw(t,n.targetId,u.tc),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,kb(t.localStore,n,!0);case 3:return o=e.sent,u=new lw(n,o.Yi),s=u.Hu(o.documents),c=Jv.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=u.applyChanges(s,t.isPrimaryClient,c),Fw(t,r,l.tc),f=new fw(n,r,u),e.abrupt("return",(t.oc.set(n,f),t.uc.has(r)?t.uc.get(r).push(n):t.uc.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),yw.apply(this,arguments)}function gw(e,t){return bw.apply(this,arguments)}function bw(){return bw=xo(ko().mark((function e(t,n){var r,i,a;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=vd(t),i=r.oc.get(n),!((a=r.uc.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.uc.set(i.targetId,a.filter((function(e){return!Hp(e,n)}))),void r.oc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,gb(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),uk(r.remoteStore,i.targetId),Mw(r,i.targetId)})).catch($d);case 9:e.next=14;break;case 11:return Mw(r,i.targetId),e.next=14,gb(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),bw.apply(this,arguments)}function kw(e,t,n){return ww.apply(this,arguments)}function ww(){return ww=xo(ko().mark((function e(t,n,r){var i,a,o;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=sx(t),e.prev=1,e.next=4,function(e,t){var n,r,i=vd(e),a=Pd.now(),o=t.reduce((function(e,t){return e.add(t.key)}),Qv());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=Vv(),s=Qv();return i.ji.getEntries(e,o).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(s=s.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,u)})).next((function(r){n=r;var o,u=[],s=La(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=Iv(c,n.get(c.key).overlayedDocument);null!=l&&u.push(new Tv(c.key,l,Tp(l.value.mapValue),gv.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:Bv(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.fc[e.currentUser.toKey()];r||(r=new bp(Ad)),r=r.insert(t,n),e.fc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,Vw(i,a.changes);case 9:return e.next=11,Sk(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=qk(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),ww.apply(this,arguments)}function xw(e,t){return Sw.apply(this,arguments)}function Sw(){return Sw=xo(ko().mark((function e(t,n){var r,i;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=vd(t),e.prev=1,e.next=4,pb(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.hc.get(t);n&&(pd(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.ic=!0:e.modifiedDocuments.size>0?pd(n.ic):e.removedDocuments.size>0&&(pd(n.ic),n.ic=!1))})),e.next=8,Vw(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,$d(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),Sw.apply(this,arguments)}function Iw(e,t,n){var r=vd(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.oc.forEach((function(e,n){var r=n.view.bu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=vd(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=La(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.bu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&nw(n)}(r.eventManager,t),i.length&&r.rc.Ho(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Ew(e,t,n){return _w.apply(this,arguments)}function _w(){return _w=xo(ko().mark((function e(t,n,r){var i,a,o,u,s,c;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=vd(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.hc.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new bp(Zd.comparator)).insert(o,Cp.newNoDocument(o,Od.min())),s=Qv().add(o),c=new Yv(Od.min(),new Map,new xp(Ad),u,s),e.next=9,xw(i,c);case 9:i.ac=i.ac.remove(o),i.hc.delete(n),jw(i),e.next=16;break;case 14:return e.next=16,gb(i.localStore,n,!1).then((function(){return Mw(i,n,r)})).catch($d);case 16:case"end":return e.stop()}}),e)}))),_w.apply(this,arguments)}function Tw(e,t){return Cw.apply(this,arguments)}function Cw(){return Cw=xo(ko().mark((function e(t,n){var r,i,a;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=vd(t),i=n.batch.batchId,e.prev=1,e.next=4,db(r.localStore,n);case 4:return a=e.sent,Dw(r,i,null),Ow(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,Vw(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,$d(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Cw.apply(this,arguments)}function Aw(e,t,n){return Nw.apply(this,arguments)}function Nw(){return Nw=xo(ko().mark((function e(t,n,r){var i,a;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=vd(t),e.prev=1,e.next=4,function(e,t){var n=vd(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return pd(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,Dw(i,n,r),Ow(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,Vw(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,$d(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Nw.apply(this,arguments)}function Rw(e,t){return Pw.apply(this,arguments)}function Pw(){return Pw=xo(ko().mark((function e(t,n){var r,i,a,o;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return dk((r=vd(t)).remoteStore)||cd("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=vd(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.dc.get(i)||[]).push(n),r.dc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=qk(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),Pw.apply(this,arguments)}function Ow(e,t){(e.dc.get(t)||[]).forEach((function(e){e.resolve()})),e.dc.delete(t)}function Dw(e,t,n){var r=vd(e),i=r.fc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.fc[r.currentUser.toKey()]=i}}function Mw(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=La(e.uc.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.oc.delete(a),n&&e.rc.gc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.uc.delete(t),e.isPrimaryClient&&e.lc.ds(t).forEach((function(t){e.lc.containsKey(t)||Lw(e,t)}))}function Lw(e,t){e.cc.delete(t.path.canonicalString());var n=e.ac.get(t);null!==n&&(uk(e.remoteStore,n),e.ac=e.ac.remove(t),e.hc.delete(n),jw(e))}function Fw(e,t,n){var r,i=La(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof sw?(e.lc.addReference(a.key,t),Zw(e,a)):a instanceof cw?(cd("SyncEngine","Document no longer in limbo: "+a.key),e.lc.removeReference(a.key,t),e.lc.containsKey(a.key)||Lw(e,a.key)):hd()}}catch(o){i.e(o)}finally{i.f()}}function Zw(e,t){var n=t.key,r=n.path.canonicalString();e.ac.get(n)||e.cc.has(r)||(cd("SyncEngine","New document in limbo: "+n),e.cc.add(r),jw(e))}function jw(e){for(;e.cc.size>0&&e.ac.size<e.maxConcurrentLimboResolutions;){var t=e.cc.values().next().value;e.cc.delete(t);var n=new Zd(Md.fromString(t)),r=e._c.next();e.hc.set(r,new dw(n)),e.ac=e.ac.insert(n,r),ok(e.remoteStore,new gy(Wp(jp(n.path)),r,2,lh.at))}}function Vw(e,t,n){return Uw.apply(this,arguments)}function Uw(){return Uw=xo(ko().mark((function e(t,n,r){var i,a,o,u;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=vd(t),a=[],o=[],u=[],e.t0=i.oc.isEmpty(),e.t0){e.next=9;break}return i.oc.forEach((function(e,t){u.push(i.mc(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=ob.Ni(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.rc.Ho(a),e.next=9,function(){var e=xo(ko().mark((function e(t,n){var r,i,a,o,u,s,c,l;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=vd(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Yd.forEach(n,(function(t){return Yd.forEach(t.Ci,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Yd.forEach(t.xi,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),rh(e.t0)){e.next=10;break}throw e.t0;case 10:cd("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=La(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.Ki.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.Ki=r.Ki.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),Uw.apply(this,arguments)}function zw(e,t){return Bw.apply(this,arguments)}function Bw(){return Bw=xo(ko().mark((function e(t,n){var r,i;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=vd(t)).currentUser.isEqual(n)){e.next=11;break}return cd("SyncEngine","User change. New user:",n.toKey()),e.next=5,lb(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.dc.forEach((function(e){e.forEach((function(e){e.reject(new yd(md.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.dc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,Vw(r,i.Wi);case 11:case"end":return e.stop()}}),e)}))),Bw.apply(this,arguments)}function qw(e,t){var n=vd(e),r=n.hc.get(t);if(r&&r.ic)return Qv().add(r.key);var i=Qv(),a=n.uc.get(t);if(!a)return i;var o,u=La(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.oc.get(s);i=i.unionWith(c.view.Wu)}}catch(l){u.e(l)}finally{u.f()}return i}function Ww(e,t){return Kw.apply(this,arguments)}function Kw(){return Kw=xo(ko().mark((function e(t,n){var r,i,a;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=vd(t),e.next=3,kb(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.nc(i),e.abrupt("return",(r.isPrimaryClient&&Fw(r,n.targetId,a.tc),a));case 6:case"end":return e.stop()}}),e)}))),Kw.apply(this,arguments)}function Gw(e,t){return Hw.apply(this,arguments)}function Hw(){return Hw=xo(ko().mark((function e(t,n){var r;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=vd(t),e.abrupt("return",xb(r.localStore,n).then((function(e){return Vw(r,e)})));case 2:case"end":return e.stop()}}),e)}))),Hw.apply(this,arguments)}function Qw(e,t,n,r){return $w.apply(this,arguments)}function $w(){return $w=xo(ko().mark((function e(t,n,r,i){var a,o;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=vd(t),e.next=3,function(e,t){var n=vd(e),r=vd(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.An(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):Yd.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,Sk(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(Dw(a,n,i||null),Ow(a,n),function(e,t){vd(vd(e).mutationQueue).Pn(t)}(a.localStore,n)):hd();case 11:return e.next=13,Vw(a,o);case 13:e.next=16;break;case 15:cd("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),$w.apply(this,arguments)}function Xw(e,t){return Yw.apply(this,arguments)}function Yw(){return Yw=xo(ko().mark((function e(t,n){var r,i,a,o,u,s,c,l;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ux(r=vd(t)),sx(r),!0!==n||!0===r.wc){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,Jw(r,i.toArray());case 5:return a=e.sent,r.wc=!0,e.next=9,jk(r.remoteStore,!0);case 9:o=La(a);try{for(o.s();!(u=o.n()).done;)s=u.value,ok(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.wc){e.next=25;break}return c=[],l=Promise.resolve(),r.uc.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return Mw(r,t),gb(r.localStore,t,!0)})),uk(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,Jw(r,c);case 21:return function(e){var t=vd(e);t.hc.forEach((function(e,n){uk(t.remoteStore,n)})),t.lc._s(),t.hc=new Map,t.ac=new bp(Zd.comparator)}(r),r.wc=!1,e.next=25,jk(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),Yw.apply(this,arguments)}function Jw(e,t,n){return ex.apply(this,arguments)}function ex(){return ex=xo(ko().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,d,h,p,v,m,y;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=vd(t),a=[],o=[],u=La(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.uc.get(c))||0===f.length){e.next=34;break}return e.next=11,yb(i.localStore,Wp(f[0]));case 11:l=e.sent,d=La(f),e.prev=13,d.s();case 15:if((h=d.n()).done){e.next=24;break}return p=h.value,v=i.oc.get(p),e.next=20,Ww(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),d.e(e.t0);case 29:return e.prev=29,d.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,wb(i.localStore,c);case 36:return y=e.sent,e.next=39,yb(i.localStore,y);case 39:return l=e.sent,e.next=42,mw(i,tx(y),c,!1,l.resumeToken);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.rc.Ho(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),ex.apply(this,arguments)}function tx(e){return Zp(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function nx(e){var t=vd(e);return vd(vd(t.localStore).persistence).Si()}function rx(e,t,n,r){return ix.apply(this,arguments)}function ix(){return ix=xo(ko().mark((function e(t,n,r,i){var a,o,u,s;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=vd(t)).wc){e.next=3;break}return e.abrupt("return",void cd("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.uc.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,xb(a.localStore,Yp(o[0]));case 10:return u=e.sent,s=Yv.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,kh.EMPTY_BYTE_STRING),e.next=14,Vw(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,gb(a.localStore,n,!0);case 17:return Mw(a,n,i),e.abrupt("break",20);case 19:hd();case 20:case"end":return e.stop()}}),e)}))),ix.apply(this,arguments)}function ax(e,t,n){return ox.apply(this,arguments)}function ox(){return ox=xo(ko().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,d;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=ux(t)).wc){e.next=45;break}a=La(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.uc.has(u)){e.next=10;break}return cd("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,wb(i.localStore,u);case 12:return s=e.sent,e.next=15,yb(i.localStore,s);case 15:return c=e.sent,e.next=18,mw(i,tx(s),c.targetId,!1,c.resumeToken);case 18:ok(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=La(r),e.prev=30,d=ko().mark((function e(){var t;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.uc.has(t),!e.t0){e.next=5;break}return e.next=5,gb(i.localStore,t,!1).then((function(){uk(i.remoteStore,t),Mw(i,t)})).catch($d);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(d(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),ox.apply(this,arguments)}function ux(e){var t=vd(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=xw.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=qw.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Ew.bind(null,t),t.rc.Ho=ew.bind(null,t.eventManager),t.rc.gc=tw.bind(null,t.eventManager),t}function sx(e){var t=vd(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Tw.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Aw.bind(null,t),t}function cx(e,t,n){var r=vd(e);(function(){var e=xo(ko().mark((function e(t,n,r){var i,a,o,u,s;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=vd(e),r=pm(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.$s.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(uw(i)),a=new ow(i,t.localStore,n.Tt),e.next=15,n.yc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Bu(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.yc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,Vw(t,s.Uu,void 0);case 31:return e.next=33,function(e,t){var n=vd(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.$s.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.qu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(fd("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var lx=function(){function e(){Xn(this,e),this.synchronizeTabs=!1}return er(e,[{key:"initialize",value:function(){var e=xo(ko().mark((function e(t){return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Tt=Hb(t.databaseInfo.databaseId),this.sharedClientState=this.Ic(t),this.persistence=this.Tc(t),e.next=5,this.persistence.start();case 5:this.localStore=this.Ec(t),this.gcScheduler=this.Ac(t,this.localStore),this.indexBackfillerScheduler=this.Rc(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ac",value:function(e,t){return null}},{key:"Rc",value:function(e,t){return null}},{key:"Ec",value:function(e){return cb(this.persistence,new ub,e.initialUser,this.Tt)}},{key:"Tc",value:function(e){return new $g(Yg.qs,this.Tt)}},{key:"Ic",value:function(e){return new Fb}},{key:"terminate",value:function(){var e=xo(ko().mark((function e(){return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),fx=function(e){Fa(n,e);var t=Ua(n);function n(e,r,i){var a;return Xn(this,n),(a=t.call(this)).Pc=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return er(n,[{key:"initialize",value:function(){var e=xo(ko().mark((function e(t){var r=this;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yu(Za(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Pc.initialize(this,t);case 4:return e.next=6,sx(this.Pc.syncEngine);case 6:return e.next=8,Sk(this.Pc.remoteStore);case 8:return e.next=10,this.persistence.di((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ec",value:function(e){return cb(this.persistence,new ub,e.initialUser,this.Tt)}},{key:"Ac",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new Tg(n,e.asyncQueue,t)}},{key:"Rc",value:function(e,t){var n=new ch(t,this.persistence);return new sh(e.asyncQueue,n)}},{key:"Tc",value:function(e){var t=ab(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?dg.withCacheSize(this.cacheSizeBytes):dg.DEFAULT;return new nb(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Kb(),Gb(),this.Tt,this.sharedClientState,!!this.forceOwnership)}},{key:"Ic",value:function(e){return new Fb}}]),n}(lx),dx=function(e){Fa(n,e);var t=Ua(n);function n(e,r){var i;return Xn(this,n),(i=t.call(this,e,r,!1)).Pc=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return er(n,[{key:"initialize",value:function(){var e=xo(ko().mark((function e(t){var r,i=this;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yu(Za(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Pc.syncEngine,e.t0=this.sharedClientState instanceof Lb,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Br:Qw.bind(null,r),Lr:rx.bind(null,r),qr:ax.bind(null,r),Si:nx.bind(null,r),Fr:Gw.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.di(function(){var e=xo(ko().mark((function e(t){return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xw(i.Pc.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ic",value:function(e){var t=Kb();if(!Lb.C(t))throw new yd(md.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=ab(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Lb(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(fx),hx=function(){function e(){Xn(this,e)}return er(e,[{key:"initialize",value:function(){var e=xo(ko().mark((function e(t,n){var r=this;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return Iw(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=zw.bind(null,this.syncEngine),e.next=12,jk(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new Qk}},{key:"createDatastore",value:function(e){var t,n=Hb(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Wb(t));return function(e,t,n,r){return new Jb(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return Iw(o.syncEngine,e,0)},a=jb.C()?new jb:new Zb,new tk(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new hw(e,t,n,r,i,a);return o&&(u.wc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=xo(ko().mark((function e(t){var n;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=vd(t),cd("RemoteStore","RemoteStore shutting down."),n.mu.add(5),e.next=5,ik(n);case 5:n.yu.shutdown(),n.pu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function px(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return xo(ko().mark((function r(){var i;return ko().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return xo(ko().mark((function e(){return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.resolve()}}var vx=function(){function e(t){Xn(this,e),this.observer=t,this.muted=!1}return er(e,[{key:"next",value:function(e){this.observer.next&&this.vc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.vc(this.observer.error,e):ld("Uncaught Error in snapshot listener:",e.toString())}},{key:"bc",value:function(){this.muted=!0}},{key:"vc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),mx=function(){function e(t,n){var r=this;Xn(this,e),this.Vc=t,this.Tt=n,this.metadata=new gd,this.buffer=new Uint8Array,this.Sc=new TextDecoder("utf-8"),this.Dc().then((function(e){e&&e.Ou()?r.metadata.resolve(e.Mu.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.Mu))))}),(function(e){return r.metadata.reject(e)}))}return er(e,[{key:"close",value:function(){return this.Vc.cancel()}},{key:"getMetadata",value:function(){var e=xo(ko().mark((function e(){return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"yc",value:function(){var e=xo(ko().mark((function e(){return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Dc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Dc",value:function(){var e=xo(ko().mark((function e(){var t,n,r,i;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Cc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Sc.decode(t),r=Number(n),isNaN(r)&&this.xc("length string (".concat(n,") is not valid number")),e.next=9,this.Nc(r);case 9:return i=e.sent,e.abrupt("return",new iw(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"kc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Cc",value:function(){var e=xo(ko().mark((function e(){var t,n;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.kc()<0)){e.next=7;break}return e.next=3,this.$c();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.kc())<0&&this.xc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Nc",value:function(){var e=xo(ko().mark((function e(t){var n;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.$c();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.xc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Sc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"xc",value:function(e){throw this.Vc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"$c",value:function(){var e=xo(ko().mark((function e(){var t,n;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Vc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),yx=function(){function e(t){Xn(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return er(e,[{key:"lookup",value:function(){var e=xo(ko().mark((function e(t){var n,r=this;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new yd(md.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=xo(ko().mark((function e(t,n){var r,i,a,o,u,s;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=vd(t),i=wm(r.Tt)+"/documents",a={documents:n.map((function(e){return ym(r.Tt,e)}))},e.next=5,r.mo("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=Em(r.Tt,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());pd(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new Ov(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=xo(ko().mark((function e(){var t,n=this;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=Zd.fromPath(t);n.mutations.push(new Dv(r,n.precondition(r)))})),e.next=7,function(){var e=xo(ko().mark((function e(t,n){var r,i,a;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=vd(t),i=wm(r.Tt)+"/documents",a={writes:n.map((function(e){return _m(r.Tt,e)}))},e.next=3,r.lo("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw hd();t=Od.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new yd(md.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Od.min())?gv.exists(!1):gv.updateTime(t):gv.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Od.min()))throw new yd(md.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return gv.updateTime(t)}return gv.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),gx=function(){function e(t,n,r,i,a){Xn(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.Mc=r.maxAttempts,this.ko=new Qb(this.asyncQueue,"transaction_retry")}return er(e,[{key:"run",value:function(){this.Mc-=1,this.Oc()}},{key:"Oc",value:function(){var e=this;this.ko.vo(xo(ko().mark((function t(){var n,r;return ko().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new yx(e.datastore),(r=e.Fc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Bc(t)}))}))})).catch((function(t){e.Bc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Fc",value:function(e){try{var t=this.updateFunction(e);return!mh(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Bc",value:function(e){var t=this;this.Mc>0&&this.Lc(e)?(this.Mc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Oc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Lc",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Lv(t)}return!1}}]),e}(),bx=function(){function e(t,n,r,i){var a=this;Xn(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ad.UNAUTHENTICATED,this.clientId=Cd.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=xo(ko().mark((function e(t){return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return cd("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return cd("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return er(e,[{key:"getConfiguration",value:function(){var e=xo(ko().mark((function e(){return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new yd(md.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new gd;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(xo(ko().mark((function n(){var r;return ko().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=qk(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function kx(e,t){return wx.apply(this,arguments)}function wx(){return wx=xo(ko().mark((function e(t,n){var r,i;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),cd("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=xo(ko().mark((function e(t){return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,lb(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),wx.apply(this,arguments)}function xx(e,t){return Sx.apply(this,arguments)}function Sx(){return Sx=xo(ko().mark((function e(t,n){var r,i;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,Ix(t);case 3:return r=e.sent,cd("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return Fk(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return Fk(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),Sx.apply(this,arguments)}function Ix(e){return Ex.apply(this,arguments)}function Ex(){return Ex=xo(ko().mark((function e(t){return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return cd("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,kx(t,new lx);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),Ex.apply(this,arguments)}function _x(e){return Tx.apply(this,arguments)}function Tx(){return Tx=xo(ko().mark((function e(t){return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return cd("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,xx(t,new hx);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),Tx.apply(this,arguments)}function Cx(e){return Ix(e).then((function(e){return e.persistence}))}function Ax(e){return Ix(e).then((function(e){return e.localStore}))}function Nx(e){return _x(e).then((function(e){return e.remoteStore}))}function Rx(e){return _x(e).then((function(e){return e.syncEngine}))}function Px(e){return _x(e).then((function(e){return e.datastore}))}function Ox(e){return Dx.apply(this,arguments)}function Dx(){return Dx=xo(ko().mark((function e(t){var n,r;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_x(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=pw.bind(null,n.syncEngine),r.onUnlisten=gw.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),Dx.apply(this,arguments)}function Mx(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new gd;return e.asyncQueue.enqueueAndForget(xo(ko().mark((function i(){return ko().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new vx({next:function(a){t.enqueueAndForget((function(){return Yk(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new yd(md.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new yd(md.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new rw(jp(n.path),a,{includeMetadataChanges:!0,$u:!0});return $k(e,o)},i.next=3,Ox(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function Lx(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new gd;return e.asyncQueue.enqueueAndForget(xo(ko().mark((function i(){return ko().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new vx({next:function(n){t.enqueueAndForget((function(){return Yk(e,o)})),n.fromCache&&"server"===r.source?i.reject(new yd(md.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new rw(n,a,{includeMetadataChanges:!0,$u:!0});return $k(e,o)},i.next=3,Ox(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var Fx=new Map;function Zx(e,t,n){if(!n)throw new yd(md.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function jx(e,t,n,r){if(!0===t&&!0===r)throw new yd(md.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function Vx(e){if(!Zd.isDocumentKey(e))throw new yd(md.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Ux(e){if(Zd.isDocumentKey(e))throw new yd(md.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function zx(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":hd()}function Bx(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new yd(md.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=zx(e);throw new yd(md.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function qx(e,t){if(t<=0)throw new yd(md.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var Wx=function(){function e(t){var n;if(Xn(this,e),void 0===t.host){if(void 0!==t.ssl)throw new yd(md.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new yd(md.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,jx("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return er(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),Kx=function(){function e(t,n,r,i){Xn(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Wx({}),this._settingsFrozen=!1}return er(e,[{key:"app",get:function(){if(!this._app)throw new yd(md.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new yd(md.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Wx(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new kd;switch(e.type){case"gapi":var t=e.client;return new Id(t,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new yd(md.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=Fx.get(e);t&&(cd("ComponentProvider","Removing Datastore"),Fx.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function Gx(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=Bx(e,Kx))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&fd("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=ad.MOCK_USER;else{o=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Ga(JSON.stringify({alg:"none",type:"JWT"})),Ga(JSON.stringify(a)),""].join(".")}(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new yd(md.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new ad(s)}e._authCredentials=new wd(new bd(o,u))}}var Hx=function(){function e(t,n,r){Xn(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return er(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new $x(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),Qx=function(){function e(t,n,r){Xn(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return er(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),$x=function(e){Fa(n,e);var t=Ua(n);function n(e,r,i){var a;return Xn(this,n),(a=t.call(this,e,r,jp(i)))._path=i,a.type="collection",a}return er(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Hx(this.firestore,null,new Zd(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(Qx);function Xx(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=bo(e),Zx("collection","path",t),e instanceof Kx){var a=Md.fromString.apply(Md,[t].concat(r));return Ux(a),new $x(e,null,a)}if(!(e instanceof Hx||e instanceof $x))throw new yd(md.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Md.fromString.apply(Md,[t].concat(r)));return Ux(o),new $x(e.firestore,null,o)}function Yx(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=bo(e),1===arguments.length&&(t=Cd.R()),Zx("doc","path",t),e instanceof Kx){var a=Md.fromString.apply(Md,[t].concat(r));return Vx(a),new Hx(e,null,new Zd(a))}if(!(e instanceof Hx||e instanceof $x))throw new yd(md.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Md.fromString.apply(Md,[t].concat(r)));return Vx(o),new Hx(e.firestore,e instanceof $x?e.converter:null,new Zd(o))}function Jx(e,t){return e=bo(e),t=bo(t),(e instanceof Hx||e instanceof $x)&&(t instanceof Hx||t instanceof $x)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function eS(e,t){return e=bo(e),t=bo(t),e instanceof Qx&&t instanceof Qx&&e.firestore===t.firestore&&Hp(e._query,t._query)&&e.converter===t.converter}var tS=function(){function e(){var t=this;Xn(this,e),this.qc=Promise.resolve(),this.Uc=[],this.Kc=!1,this.Gc=[],this.Qc=null,this.jc=!1,this.zc=!1,this.Wc=[],this.ko=new Qb(this,"async_queue_retry"),this.Hc=function(){var e=Gb();e&&cd("AsyncQueue","Visibility state changed to "+e.visibilityState),t.ko.Vo()};var n=Gb();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Hc)}return er(e,[{key:"isShuttingDown",get:function(){return this.Kc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Jc(),this.Yc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Kc){this.Kc=!0,this.zc=e||!1;var t=Gb();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Hc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Jc(),this.Kc)return new Promise((function(){}));var n=new gd;return this.Yc((function(){return t.Kc&&t.zc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Uc.push(e),t.Zc()}))}},{key:"Zc",value:function(){var e=xo(ko().mark((function e(){var t=this;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Uc.length){e.next=14;break}return e.prev=1,e.next=4,this.Uc[0]();case 4:this.Uc.shift(),this.ko.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),rh(e.t0)){e.next=12;break}throw e.t0;case 12:cd("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Uc.length>0&&this.ko.vo((function(){return t.Zc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Yc",value:function(e){var t=this,n=this.qc.then((function(){return t.jc=!0,e().catch((function(e){t.Qc=e,t.jc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw ld("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.jc=!1,e}))}));return this.qc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Jc(),this.Wc.indexOf(e)>-1&&(t=0);var i=Bk.createAndSchedule(this,e,t,n,(function(e){return r.Xc(e)}));return this.Gc.push(i),i}},{key:"Jc",value:function(){this.Qc&&hd()}},{key:"verifyOperationInProgress",value:function(){}},{key:"ta",value:function(){var e=xo(ko().mark((function e(){var t;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.qc,e.next=3,t;case 3:if(t!==this.qc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ea",value:function(e){var t,n=La(this.Gc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"na",value:function(e){var t=this;return this.ta().then((function(){t.Gc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=La(t.Gc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.ta()}))}},{key:"sa",value:function(e){this.Wc.push(e)}},{key:"Xc",value:function(e){var t=this.Gc.indexOf(e);this.Gc.splice(t,1)}}]),e}();function nS(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=La(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var rS=function(){function e(){Xn(this,e),this._progressObserver={},this._taskCompletionResolver=new gd,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return er(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),iS=function(e){Fa(n,e);var t=Ua(n);function n(e,r,i,a){var o;return Xn(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new tS,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return er(n,[{key:"_terminate",value:function(){return this._firestoreClient||oS(this),this._firestoreClient.terminate()}}]),n}(Kx);function aS(e){return e._firestoreClient||oS(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function oS(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new fh(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new bx(e._authCredentials,e._appCheckCredentials,e._queue,r)}function uS(e,t,n){var r=new gd;return e.asyncQueue.enqueue(xo(ko().mark((function i(){var a;return ko().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,kx(e,n);case 3:return i.next=5,xx(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===md.FAILED_PRECONDITION||e.code===md.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(a=i.t0)){i.next=13;break}throw a;case 13:fd("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function sS(e){return function(e){return e.asyncQueue.enqueue(xo(ko().mark((function t(){var n,r;return ko().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Cx(e);case 2:return n=t.sent,t.next=5,Nx(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=vd(e);return t.mu.delete(0),nk(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(aS(e=Bx(e,iS)))}function cS(e){return function(e){return e.asyncQueue.enqueue(xo(ko().mark((function t(){var n,r;return ko().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Cx(e);case 2:return n=t.sent,t.next=5,Nx(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=xo(ko().mark((function e(t){var n;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=vd(t)).mu.add(0),e.next=4,ik(n);case 4:n.pu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(aS(e=Bx(e,iS)))}function lS(e,t){var n=aS(e=Bx(e,iS)),r=new rS;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new mx(e,t)}(function(e,t){if(e instanceof Uint8Array)return px(e,t);if(e instanceof ArrayBuffer)return px(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,Hb(t));e.asyncQueue.enqueueAndForget(xo(ko().mark((function t(){return ko().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=cx,t.next=3,Rx(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function fS(e,t){return function(e,t){return e.asyncQueue.enqueue(xo(ko().mark((function n(){return ko().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=vd(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.$s.getNamedQuery(e,t)}))},n.next=3,Ax(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(aS(e=Bx(e,iS)),t).then((function(t){return t?new Qx(e,null,t.query):null}))}function dS(e){if(e._initialized||e._terminated)throw new yd(md.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var hS=function(){function e(t){Xn(this,e),this._byteString=t}return er(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(kh.fromBase64String(t))}catch(t){throw new yd(md.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(kh.fromUint8Array(t))}}]),e}(),pS=function(){function e(){Xn(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new yd(md.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fd(n)}return er(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var vS=er((function e(t){Xn(this,e),this._methodName=t})),mS=function(){function e(t,n){if(Xn(this,e),!isFinite(t)||t<-90||t>90)throw new yd(md.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new yd(md.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return er(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Ad(this._lat,e._lat)||Ad(this._long,e._long)}}]),e}(),yS=/^__.*__$/,gS=function(){function e(t,n,r){Xn(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return er(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Tv(e,this.data,this.fieldMask,t,this.fieldTransforms):new _v(e,this.data,t,this.fieldTransforms)}}]),e}(),bS=function(){function e(t,n,r){Xn(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return er(e,[{key:"toMutation",value:function(e,t){return new Tv(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function kS(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw hd()}}var wS=function(){function e(t,n,r,i,a,o){Xn(this,e),this.settings=t,this.databaseId=n,this.Tt=r,this.ignoreUndefinedProperties=i,void 0===a&&this.ia(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return er(e,[{key:"path",get:function(){return this.settings.path}},{key:"ra",get:function(){return this.settings.ra}},{key:"oa",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.Tt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ua",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.oa({path:n,ca:!1});return r.aa(e),r}},{key:"ha",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.oa({path:n,ca:!1});return r.ia(),r}},{key:"la",value:function(e){return this.oa({path:void 0,ca:!0})}},{key:"fa",value:function(e){return US(e,this.settings.methodName,this.settings.da||!1,this.path,this.settings._a)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"ia",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.aa(this.path.get(e))}},{key:"aa",value:function(e){if(0===e.length)throw this.fa("Document fields must not be empty");if(kS(this.ra)&&yS.test(e))throw this.fa('Document fields cannot begin and end with "__"')}}]),e}(),xS=function(){function e(t,n,r){Xn(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.Tt=r||Hb(t)}return er(e,[{key:"wa",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new wS({ra:e,methodName:t,_a:n,path:Fd.emptyPath(),ca:!1,da:r},this.databaseId,this.Tt,this.ignoreUndefinedProperties)}}]),e}();function SS(e){var t=e._freezeSettings(),n=Hb(e._databaseId);return new xS(e._databaseId,!!t.ignoreUndefinedProperties,n)}function IS(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.wa(a.merge||a.mergeFields?2:0,t,n,i);FS("Data must be an object, but it was:",o,r);var u,s,c=MS(r,o);if(a.merge)u=new Ep(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],d=La(a.mergeFields);try{for(d.s();!(l=d.n()).done;){var h=ZS(t,l.value,n);if(!o.contains(h))throw new yd(md.INVALID_ARGUMENT,"Field '".concat(h,"' is specified in your field mask but missing from your input data."));zS(f,h)||f.push(h)}}catch(p){d.e(p)}finally{d.f()}u=new Ep(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new gS(new _p(c),u,s)}var ES=function(e){Fa(n,e);var t=Ua(n);function n(){return Xn(this,n),t.apply(this,arguments)}return er(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.ra)throw 1===e.ra?e.fa("".concat(this._methodName,"() can only appear at the top level of your update data")):e.fa("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(vS);function _S(e,t,n){return new wS({ra:3,_a:t.settings._a,methodName:e._methodName,ca:n},t.databaseId,t.Tt,t.ignoreUndefinedProperties)}var TS=function(e){Fa(n,e);var t=Ua(n);function n(){return Xn(this,n),t.apply(this,arguments)}return er(n,[{key:"_toFieldTransform",value:function(e){return new mv(e.path,new sv)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(vS),CS=function(e){Fa(n,e);var t=Ua(n);function n(e,r){var i;return Xn(this,n),(i=t.call(this,e)).ma=r,i}return er(n,[{key:"_toFieldTransform",value:function(e){var t=_S(this,e,!0),n=this.ma.map((function(e){return DS(e,t)})),r=new cv(n);return new mv(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(vS),AS=function(e){Fa(n,e);var t=Ua(n);function n(e,r){var i;return Xn(this,n),(i=t.call(this,e)).ma=r,i}return er(n,[{key:"_toFieldTransform",value:function(e){var t=_S(this,e,!0),n=this.ma.map((function(e){return DS(e,t)})),r=new fv(n);return new mv(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(vS),NS=function(e){Fa(n,e);var t=Ua(n);function n(e,r){var i;return Xn(this,n),(i=t.call(this,e)).ga=r,i}return er(n,[{key:"_toFieldTransform",value:function(e){var t=new hv(e.Tt,rv(e.Tt,this.ga));return new mv(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(vS);function RS(e,t,n,r){var i=e.wa(1,t,n);FS("Data must be an object, but it was:",i,r);var a=[],o=_p.empty();ph(r,(function(e,r){var u=VS(t,e,n);r=bo(r);var s=i.ha(u);if(r instanceof ES)a.push(u);else{var c=DS(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new Ep(a);return new bS(o,u,i.fieldTransforms)}function PS(e,t,n,r,i,a){var o=e.wa(1,t,n),u=[ZS(t,r,n)],s=[i];if(a.length%2!=0)throw new yd(md.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(ZS(t,a[c])),s.push(a[c+1]);for(var l=[],f=_p.empty(),d=u.length-1;d>=0;--d)if(!zS(l,u[d])){var h=u[d],p=s[d];p=bo(p);var v=o.ha(h);if(p instanceof ES)l.push(h);else{var m=DS(p,v);null!=m&&(l.push(h),f.set(h,m))}}var y=new Ep(l);return new bS(f,y,o.fieldTransforms)}function OS(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return DS(n,e.wa(r?4:3,t))}function DS(e,t){if(LS(e=bo(e)))return FS("Unsupported field value:",t,e),MS(e,t);if(e instanceof vS)return function(e,t){if(!kS(t.ra))throw t.fa("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.fa("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ca&&4!==t.ra)throw t.fa("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=La(e);try{for(a.s();!(n=a.n()).done;){var o=DS(n.value,t.la(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=bo(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return rv(t.Tt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Pd.fromDate(e);return{timestampValue:fm(t.Tt,n)}}if(e instanceof Pd){var r=new Pd(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:fm(t.Tt,r)}}if(e instanceof mS)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof hS)return{bytesValue:dm(t.Tt,e._byteString)};if(e instanceof Hx){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.fa("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:vm(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.fa("Unsupported field value: ".concat(zx(e)))}(e,t)}function MS(e,t){var n={};return vh(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ph(e,(function(e,r){var i=DS(r,t.ua(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function LS(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Pd||e instanceof mS||e instanceof hS||e instanceof Hx||e instanceof vS)}function FS(e,t,n){if(!LS(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=zx(n);throw"an object"===r?t.fa(e+" a custom object"):t.fa(e+" "+r)}}function ZS(e,t,n){if((t=bo(t))instanceof pS)return t._internalPath;if("string"==typeof t)return VS(e,t);throw US("Field path arguments must be of type string or ",e,!1,void 0,n)}var jS=new RegExp("[~\\*/\\[\\]]");function VS(e,t,n){if(t.search(jS)>=0)throw US("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return za(pS,(0,re.Z)(t.split(".")))._internalPath}catch(r){throw US("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function US(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new yd(md.INVALID_ARGUMENT,u+e+s)}function zS(e,t){return e.some((function(e){return e.isEqual(t)}))}var BS=function(){function e(t,n,r,i,a){Xn(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return er(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new Hx(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new qS(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(WS("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),qS=function(e){Fa(n,e);var t=Ua(n);function n(){return Xn(this,n),t.apply(this,arguments)}return er(n,[{key:"data",value:function(){return Yu(Za(n.prototype),"data",this).call(this)}}]),n}(BS);function WS(e,t){return"string"==typeof t?VS(e,t):t instanceof pS?t._internalPath:t._delegate._internalPath}function KS(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new yd(md.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var GS=er((function e(){Xn(this,e)})),HS=function(e){Fa(n,e);var t=Ua(n);function n(){return Xn(this,n),t.apply(this,arguments)}return er(n)}(GS);function QS(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof GS&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof XS})).length,n=e.filter((function(e){return e instanceof $S})).length;if(t>1||t>0&&n>0)throw new yd(md.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,u=La(n);try{for(u.s();!(o=u.n()).done;){e=o.value._apply(e)}}catch(s){u.e(s)}finally{u.f()}return e}var $S=function(e){Fa(n,e);var t=Ua(n);function n(e,r,i){var a;return Xn(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return er(n,[{key:"_apply",value:function(e){var t=this._parse(e);return cI(e._query,t),new Qx(e.firestore,e.converter,Kp(e._query,t))}},{key:"_parse",value:function(e){var t=SS(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new yd(md.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){sI(o,a);var s,c=[],l=La(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(uI(r,e,f))}}catch(d){l.e(d)}finally{l.f()}u={arrayValue:{values:c}}}else u=uI(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||sI(o,a),u=OS(n,"where",o,"in"===a||"not-in"===a);return Jh.create(i,a,u)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(HS);var XS=function(e){Fa(n,e);var t=Ua(n);function n(e,r){var i;return Xn(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return er(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:ep.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=La(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;cI(r,a),r=Kp(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new Qx(e.firestore,e.converter,Kp(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(GS);var YS=function(e){Fa(n,e);var t=Ua(n);function n(e,r){var i;return Xn(this,n),(i=t.call(this))._field=e,i._direction=r,i.type="orderBy",i}return er(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new yd(md.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new yd(md.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new yp(t,n);return function(e,t){if(null===Up(e)){var n=zp(e);null!==n&&lI(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new Qx(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Fp(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(HS);var JS=function(e){Fa(n,e);var t=Ua(n);function n(e,r,i){var a;return Xn(this,n),(a=t.call(this)).type=e,a._limit=r,a._limitType=i,a}return er(n,[{key:"_apply",value:function(e){return new Qx(e.firestore,e.converter,Gp(e._query,this._limit,this._limitType))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(HS);var eI=function(e){Fa(n,e);var t=Ua(n);function n(e,r,i){var a;return Xn(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return er(n,[{key:"_apply",value:function(e){var t=oI(e,this.type,this._docOrFields,this._inclusive);return new Qx(e.firestore,e.converter,function(e,t){return new Fp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(HS);function tI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return eI._create("startAt",t,!0)}function nI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return eI._create("startAfter",t,!1)}var rI=function(e){Fa(n,e);var t=Ua(n);function n(e,r,i){var a;return Xn(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return er(n,[{key:"_apply",value:function(e){var t=oI(e,this.type,this._docOrFields,this._inclusive);return new Qx(e.firestore,e.converter,function(e,t){return new Fp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(HS);function iI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return rI._create("endBefore",t,!1)}function aI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return rI._create("endAt",t,!0)}function oI(e,t,n,r){if(n[0]=bo(n[0]),n[0]instanceof BS)return function(e,t,n,r,i){if(!r)throw new yd(md.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=La(qp(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(Fh(t,r.key));else{var c=r.data.field(s.field);if(Eh(c))throw new yd(md.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new yd(md.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new Qh(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=SS(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new yd(md.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new yd(md.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!Bp(e)&&-1!==c.indexOf("/"))throw new yd(md.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(Md.fromString(c));if(!Zd.isDocumentKey(l))throw new yd(md.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new Zd(l);u.push(Fh(t,f))}else{var d=OS(n,r,c);u.push(d)}}return new Qh(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function uI(e,t,n){if("string"==typeof(n=bo(n))){if(""===n)throw new yd(md.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Bp(t)&&-1!==n.indexOf("/"))throw new yd(md.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Md.fromString(n));if(!Zd.isDocumentKey(r))throw new yd(md.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Fh(e,new Zd(r))}if(n instanceof Hx)return Fh(e,n._key);throw new yd(md.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(zx(n),"."))}function sI(e,t){if(!Array.isArray(e)||0===e.length)throw new yd(md.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function cI(e,t){if(t.isInequality()){var n=zp(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new yd(md.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=Up(e);null!==i&&lI(e,r,i)}var a=function(e,t){var n,r=La(e);try{for(r.s();!(n=r.n()).done;){var i,a=La(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(u){a.e(u)}finally{a.f()}}}catch(u){r.e(u)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==a)throw a===t.op?new yd(md.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new yd(md.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(a.toString(),"' filters."))}function lI(e,t,n){if(!n.isEqual(t))throw new yd(md.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var fI=function(){function e(){Xn(this,e)}return er(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Nh(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Sh(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ih(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw hd()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return ph(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new mS(Sh(e.latitude),Sh(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=_h(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Th(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=xh(e);return new Pd(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Md.fromString(e);pd(jm(n));var r=new dh(n.get(1),n.get(3)),i=new Zd(n.popFirst(5));return r.isEqual(t)||ld("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function dI(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var hI=function(e){Fa(n,e);var t=Ua(n);function n(e){var r;return Xn(this,n),(r=t.call(this)).firestore=e,r}return er(n,[{key:"convertBytes",value:function(e){return new hS(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Hx(this.firestore,null,t)}}]),n}(fI);var pI=function(){function e(t,n){Xn(this,e),this.hasPendingWrites=t,this.fromCache=n}return er(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),vI=function(e){Fa(n,e);var t=Ua(n);function n(e,r,i,a,o,u){var s;return Xn(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return er(n,[{key:"exists",value:function(){return Yu(Za(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new mI(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(WS("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(BS),mI=function(e){Fa(n,e);var t=Ua(n);function n(){return Xn(this,n),t.apply(this,arguments)}return er(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Yu(Za(n.prototype),"data",this).call(this,e)}}]),n}(vI),yI=function(){function e(t,n,r,i){Xn(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new pI(i.hasPendingWrites,i.fromCache),this.query=r}return er(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new mI(n._firestore,n._userDataWriter,r.key,r,new pI(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new yd(md.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new mI(e._firestore,e._userDataWriter,t.doc.key,t.doc,new pI(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new mI(e._firestore,e._userDataWriter,t.doc.key,t.doc,new pI(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:gI(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}]),e}();function gI(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return hd()}}function bI(e,t){return e instanceof vI&&t instanceof vI?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof yI&&t instanceof yI&&e._firestore===t._firestore&&eS(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}var kI=function(e){Fa(n,e);var t=Ua(n);function n(e){var r;return Xn(this,n),(r=t.call(this)).firestore=e,r}return er(n,[{key:"convertBytes",value:function(e){return new hS(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Hx(this.firestore,null,t)}}]),n}(fI);function wI(e){e=Bx(e,Hx);var t=Bx(e.firestore,iS),n=aS(t),r=new kI(t);return function(e,t){var n=new gd;return e.asyncQueue.enqueueAndForget(xo(ko().mark((function r(){return ko().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=xo(ko().mark((function e(t,n,r){var i,a;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=vd(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new yd(md.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=qk(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,Ax(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new vI(t,r,e._key,n,new pI(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function xI(e){e=Bx(e,Qx);var t=Bx(e.firestore,iS),n=aS(t),r=new kI(t);return function(e,t){var n=new gd;return e.asyncQueue.enqueueAndForget(xo(ko().mark((function r(){return ko().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=xo(ko().mark((function e(t,n,r){var i,a,o,u,s;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,kb(t,n,!0);case 3:i=e.sent,a=new lw(n,i.Yi),o=a.Hu(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=qk(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,Ax(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new yI(t,r,e,n)}))}function SI(e,t,n){e=Bx(e,Hx);var r=Bx(e.firestore,iS),i=dI(e.converter,t,n);return TI(r,[IS(SS(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,gv.none())])}function II(e,t,n){e=Bx(e,Hx);for(var r=Bx(e.firestore,iS),i=SS(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return TI(r,[("string"==typeof(t=bo(t))||t instanceof pS?PS(i,"updateDoc",e._key,t,n,o):RS(i,"updateDoc",e._key,t)).toMutation(e._key,gv.exists(!0))])}function EI(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=bo(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||nS(n[s])||(u=n[s],s++);var c,l,f,d={includeMetadataChanges:u.includeMetadataChanges};if(nS(n[s])){var h=n[s];n[s]=null===(i=h.next)||void 0===i?void 0:i.bind(h),n[s+1]=null===(a=h.error)||void 0===a?void 0:a.bind(h),n[s+2]=null===(o=h.complete)||void 0===o?void 0:o.bind(h)}if(e instanceof Hx)l=Bx(e.firestore,iS),f=jp(e._key.path),c={next:function(t){n[s]&&n[s](CI(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=Bx(e,Qx);l=Bx(p.firestore,iS),f=p._query;var v=new kI(l);c={next:function(e){n[s]&&n[s](new yI(l,v,p,e))},error:n[s+1],complete:n[s+2]},KS(e._query)}return function(e,t,n,r){var i=new vx(r),a=new rw(t,i,n);return e.asyncQueue.enqueueAndForget(xo(ko().mark((function t(){return ko().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=$k,t.next=3,Ox(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.bc(),e.asyncQueue.enqueueAndForget(xo(ko().mark((function t(){return ko().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Yk,t.next=3,Ox(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(aS(l),f,d,c)}function _I(e,t){return function(e,t){var n=new vx(t);return e.asyncQueue.enqueueAndForget(xo(ko().mark((function t(){return ko().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){vd(e).vu.add(t),t.next()},t.next=3,Ox(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.bc(),e.asyncQueue.enqueueAndForget(xo(ko().mark((function t(){return ko().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){vd(e).vu.delete(t)},t.next=3,Ox(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(aS(e=Bx(e,iS)),nS(t)?t:{next:t})}function TI(e,t){return function(e,t){var n=new gd;return e.asyncQueue.enqueueAndForget(xo(ko().mark((function r(){return ko().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=kw,r.next=3,Rx(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(aS(e),t)}function CI(e,t,n){var r=n.docs.get(t._key),i=new kI(e);return new vI(e,i,t._key,r,new pI(n.hasPendingWrites,n.fromCache),t.converter)}var AI={maxAttempts:5},NI=function(){function e(t,n){Xn(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=SS(t)}return er(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=RI(e,this._firestore),i=dI(r.converter,t,n),a=IS(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,gv.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=RI(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=bo(t))||t instanceof pS?PS(this._dataReader,"WriteBatch.update",i._key,t,n,o):RS(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,gv.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=RI(e,this._firestore);return this._mutations=this._mutations.concat(new Ov(t._key,gv.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new yd(md.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function RI(e,t){if((e=bo(e)).firestore!==t)throw new yd(md.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var PI=function(e){Fa(n,e);var t=Ua(n);function n(e,r){var i;return Xn(this,n),(i=t.call(this,e,r))._firestore=e,i}return er(n,[{key:"get",value:function(e){var t=this,r=RI(e,this._firestore),i=new kI(this._firestore);return Yu(Za(n.prototype),"get",this).call(this,e).then((function(e){return new vI(t._firestore,i,r._key,e._document,new pI(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){Xn(this,e),this._firestore=t,this._transaction=n,this._dataReader=SS(t)}return er(e,[{key:"get",value:function(e){var t=this,n=RI(e,this._firestore),r=new hI(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return hd();var i=e[0];if(i.isFoundDocument())return new BS(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new BS(t._firestore,r,n._key,null,n.converter);throw hd()}))}},{key:"set",value:function(e,t,n){var r=RI(e,this._firestore),i=dI(r.converter,t,n),a=IS(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=RI(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=bo(t))||t instanceof pS?PS(this._dataReader,"Transaction.update",i._key,t,n,o):RS(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=RI(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function OI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new CS("arrayUnion",t)}function DI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new AS("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){od=e}(bu),du(new So("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new iS(new xd(e.getProvider("auth-internal")),new _d(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new yd(md.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new dh(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),Eu(id,"3.9.0",e),Eu(id,"3.9.0","esm2017")}();function MI(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new yd("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function LI(){if("undefined"===typeof Uint8Array)throw new yd("unimplemented","Uint8Arrays are not available in this environment.")}function FI(){if("undefined"==typeof atob)throw new yd("unimplemented","Blobs are unavailable in Firestore in this environment.")}var ZI=function(){function e(t){Xn(this,e),this._delegate=t}return er(e,[{key:"toBase64",value:function(){return FI(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return LI(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return FI(),new e(hS.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return LI(),new e(hS.fromUint8Array(t))}}]),e}();function jI(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=La(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var VI=function(){function e(){Xn(this,e)}return er(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){dS(e=Bx(e,iS));var n=aS(e),r=e._freezeSettings(),i=new hx;return uS(n,i,new fx(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){dS(e=Bx(e,iS));var t=aS(e),n=e._freezeSettings(),r=new hx;return uS(t,r,new dx(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new yd(md.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new gd;return e._queue.enqueueAndForgetEvenWhileRestricted(xo(ko().mark((function n(){return ko().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=xo(ko().mark((function e(t){var n;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(eh.C()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,eh.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(ab(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),UI=function(){function e(t,n,r){var i=this;Xn(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof dh||(this._appCompat=t)}return er(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||fd("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Gx(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return sS(this._delegate)}},{key:"disableNetwork",value:function(){return cS(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&jx("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new gd;return e.asyncQueue.enqueueAndForget(xo(ko().mark((function n(){return ko().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=Rw,n.next=3,Rx(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(aS(e=Bx(e,iS)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return _I(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new yd("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new tE(this,Xx(this._delegate,e))}catch(t){throw GI(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new KI(this,Yx(this._delegate,e))}catch(t){throw GI(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new YI(this,function(e,t){if(e=Bx(e,Kx),Zx("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new yd(md.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new Qx(e,null,function(e){return new Fp(Md.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw GI(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return function(e,t,n){e=Bx(e,iS);var r=Object.assign(Object.assign({},AI),n);return function(e){if(e.maxAttempts<1)throw new yd(md.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new gd;return e.asyncQueue.enqueueAndForget(xo(ko().mark((function i(){var a;return ko().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Px(e);case 2:a=i.sent,new gx(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(aS(e),(function(n){return t(new PI(e,n))}),r)}(this._delegate,(function(n){return e(new BI(t,n))}))}},{key:"batch",value:function(){var e=this;return aS(this._delegate),new qI(new NI(this._delegate,(function(t){return TI(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return lS(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return fS(this._delegate,e).then((function(e){return e?new YI(t,e):null}))}}]),e}(),zI=function(e){Fa(n,e);var t=Ua(n);function n(e){var r;return Xn(this,n),(r=t.call(this)).firestore=e,r}return er(n,[{key:"convertBytes",value:function(e){return new ZI(new hS(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return KI.forKey(t,this.firestore,null)}}]),n}(fI);var BI=function(){function e(t,n){Xn(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new zI(t)}return er(e,[{key:"get",value:function(e){var t=this,n=nE(e);return this._delegate.get(n).then((function(e){return new $I(t._firestore,new vI(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=nE(e);return n?(MI("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=nE(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=nE(e);return this._delegate.delete(t),this}}]),e}(),qI=function(){function e(t){Xn(this,e),this._delegate=t}return er(e,[{key:"set",value:function(e,t,n){var r=nE(e);return n?(MI("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=nE(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=nE(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),WI=function(){function e(t,n,r){Xn(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return er(e,[{key:"fromFirestore",value:function(e,t){var n=new mI(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new XI(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new zI(t),n),i.set(n,a)),a}}]),e}();WI.INSTANCES=new WeakMap;var KI=function(){function e(t,n){Xn(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new zI(t)}return er(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new tE(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new tE(this.firestore,Xx(this._delegate,e))}catch(t){throw GI(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=bo(e))instanceof Hx&&Jx(this._delegate,e)}},{key:"set",value:function(e,t){t=MI("DocumentReference.set",t);try{return t?SI(this._delegate,e,t):SI(this._delegate,e)}catch(n){throw GI(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?II(this._delegate,e):II.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw GI(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return TI(Bx(e.firestore,iS),[new Ov(e._key,gv.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=HI(n),a=QI(n,(function(t){return new $I(e.firestore,new vI(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return EI(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?wI(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Bx(e,Hx);var t=Bx(e.firestore,iS);return Mx(aS(t),e._key,{source:"server"}).then((function(n){return CI(t,e,n)}))}(this._delegate):function(e){e=Bx(e,Hx);var t=Bx(e.firestore,iS);return Mx(aS(t),e._key).then((function(n){return CI(t,e,n)}))}(this._delegate),t.then((function(e){return new $I(n.firestore,new vI(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(WI.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new yd("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new Hx(n._delegate,r,new Zd(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new Hx(n._delegate,r,t))}}]),e}();function GI(e,t,n){return e.message=e.message.replace(t,n),e}function HI(e){var t,n=La(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!jI(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function QI(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=jI(e[0])?e[0]:jI(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var $I=function(){function e(t,n){Xn(this,e),this._firestore=t,this._delegate=n}return er(e,[{key:"ref",get:function(){return new KI(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return bI(this._delegate,e._delegate)}}]),e}(),XI=function(e){Fa(n,e);var t=Ua(n);function n(){return Xn(this,n),t.apply(this,arguments)}return er(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||hd()}(void 0!==t),t}}]),n}($I),YI=function(){function e(t,n){Xn(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new zI(t)}return er(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,QS(this._delegate,function(e,t,n){var r=t,i=WS("where",e);return $S._create(i,r,n)}(t,n,r)))}catch(i){throw GI(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,QS(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=WS("orderBy",e);return YS._create(n,t)}(t,n)))}catch(r){throw GI(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,QS(this._delegate,function(e){return qx("limit",e),JS._create("limit",e,"F")}(t)))}catch(n){throw GI(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,QS(this._delegate,function(e){return qx("limitToLast",e),JS._create("limitToLast",e,"L")}(t)))}catch(n){throw GI(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,QS(this._delegate,tI.apply(void 0,arguments)))}catch(t){throw GI(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,QS(this._delegate,nI.apply(void 0,arguments)))}catch(t){throw GI(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,QS(this._delegate,iI.apply(void 0,arguments)))}catch(t){throw GI(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,QS(this._delegate,aI.apply(void 0,arguments)))}catch(t){throw GI(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return eS(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?xI(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Bx(e,Qx);var t=Bx(e.firestore,iS),n=aS(t),r=new kI(t);return Lx(n,e._query,{source:"server"}).then((function(n){return new yI(t,r,e,n)}))}(this._delegate):function(e){e=Bx(e,Qx);var t=Bx(e.firestore,iS),n=aS(t),r=new kI(t);return KS(e._query),Lx(n,e._query).then((function(n){return new yI(t,r,e,n)}))}(this._delegate),t.then((function(e){return new eE(n.firestore,new yI(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=HI(n),a=QI(n,(function(t){return new eE(e.firestore,new yI(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return EI(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(WI.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),JI=function(){function e(t,n){Xn(this,e),this._firestore=t,this._delegate=n}return er(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new XI(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),eE=function(){function e(t,n){Xn(this,e),this._firestore=t,this._delegate=n}return er(e,[{key:"query",get:function(){return new YI(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new XI(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new JI(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new XI(n._firestore,r))}))}},{key:"isEqual",value:function(e){return bI(this._delegate,e._delegate)}}]),e}(),tE=function(e){Fa(n,e);var t=Ua(n);function n(e,r){var i;return Xn(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return er(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new KI(this.firestore,e):null}},{key:"doc",value:function(e){try{return new KI(this.firestore,void 0===e?Yx(this._delegate):Yx(this._delegate,e))}catch(t){throw GI(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=Bx(e.firestore,iS),r=Yx(e),i=dI(e.converter,t);return TI(n,[IS(SS(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,gv.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new KI(t.firestore,e)}))}},{key:"isEqual",value:function(e){return Jx(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(WI.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(YI);function nE(e){return Bx(e,Hx)}var rE,iE=function(){function e(){Xn(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=za(pS,n)}return er(e,[{key:"isEqual",value:function(e){return(e=bo(e))instanceof pS&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Fd.keyField().canonicalString())}}]),e}(),aE=function(){function e(t){Xn(this,e),this._delegate=t}return er(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new TS("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new ES("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=OI.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=DI.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new NS("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),oE={Firestore:UI,GeoPoint:mS,Timestamp:Pd,Blob:ZI,Transaction:BI,WriteBatch:qI,DocumentReference:KI,DocumentSnapshot:$I,Query:YI,QueryDocumentSnapshot:XI,QuerySnapshot:eE,CollectionReference:tE,FieldPath:iE,FieldValue:aE,setLogLevel:function(e){!function(e){ud.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};(function(e,t){e.INTERNAL.registerComponent(new So("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},oE)))})(rE=Xu,(function(e,t){return new UI(e,t,new VI)})),rE.registerVersion("@firebase/firestore-compat","0.3.5");var uE=n(3878),sE=n(9199),cE=n(5267);function lE(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var fE;Object.create;var dE={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},hE="EMAIL_SIGNIN",pE="PASSWORD_RESET",vE="RECOVER_EMAIL",mE="REVERT_SECOND_FACTOR_ADDITION",yE="VERIFY_AND_CHANGE_EMAIL",gE="VERIFY_EMAIL";function bE(){return(0,ie.Z)({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var kE=function(){var e;return e={},(0,ie.Z)(e,"admin-restricted-operation","This operation is restricted to administrators only."),(0,ie.Z)(e,"argument-error",""),(0,ie.Z)(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),(0,ie.Z)(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),(0,ie.Z)(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),(0,ie.Z)(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),(0,ie.Z)(e,"cordova-not-ready","Cordova framework is not ready."),(0,ie.Z)(e,"cors-unsupported","This browser is not supported."),(0,ie.Z)(e,"credential-already-in-use","This credential is already associated with a different user account."),(0,ie.Z)(e,"custom-token-mismatch","The custom token corresponds to a different audience."),(0,ie.Z)(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),(0,ie.Z)(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),(0,ie.Z)(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),(0,ie.Z)(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),(0,ie.Z)(e,"email-already-in-use","The email address is already in use by another account."),(0,ie.Z)(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),(0,ie.Z)(e,"expired-action-code","The action code has expired."),(0,ie.Z)(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),(0,ie.Z)(e,"internal-error","An internal AuthError has occurred."),(0,ie.Z)(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),(0,ie.Z)(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),(0,ie.Z)(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),(0,ie.Z)(e,"invalid-auth-event","An internal AuthError has occurred."),(0,ie.Z)(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),(0,ie.Z)(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),(0,ie.Z)(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),(0,ie.Z)(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),(0,ie.Z)(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),(0,ie.Z)(e,"invalid-email","The email address is badly formatted."),(0,ie.Z)(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),(0,ie.Z)(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),(0,ie.Z)(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),(0,ie.Z)(e,"invalid-credential","The supplied auth credential is malformed or has expired."),(0,ie.Z)(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),(0,ie.Z)(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),(0,ie.Z)(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),(0,ie.Z)(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),(0,ie.Z)(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),(0,ie.Z)(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),(0,ie.Z)(e,"wrong-password","The password is invalid or the user does not have a password."),(0,ie.Z)(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),(0,ie.Z)(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),(0,ie.Z)(e,"invalid-provider-id","The specified provider ID is invalid."),(0,ie.Z)(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),(0,ie.Z)(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),(0,ie.Z)(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),(0,ie.Z)(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),(0,ie.Z)(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),(0,ie.Z)(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),(0,ie.Z)(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),(0,ie.Z)(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),(0,ie.Z)(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),(0,ie.Z)(e,"missing-continue-uri","A continue URL must be provided in the request."),(0,ie.Z)(e,"missing-iframe-start","An internal AuthError has occurred."),(0,ie.Z)(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),(0,ie.Z)(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),(0,ie.Z)(e,"missing-multi-factor-info","No second factor identifier is provided."),(0,ie.Z)(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),(0,ie.Z)(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),(0,ie.Z)(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),(0,ie.Z)(e,"app-deleted","This instance of FirebaseApp has been deleted."),(0,ie.Z)(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),(0,ie.Z)(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),(0,ie.Z)(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),(0,ie.Z)(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),(0,ie.Z)(e,"no-auth-event","An internal AuthError has occurred."),(0,ie.Z)(e,"no-such-provider","User was not linked to an account with the given provider."),(0,ie.Z)(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),(0,ie.Z)(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),(0,ie.Z)(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),(0,ie.Z)(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),(0,ie.Z)(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),(0,ie.Z)(e,"provider-already-linked","User can only be linked to one identity for the given provider."),(0,ie.Z)(e,"quota-exceeded","The project's quota for this operation has been exceeded."),(0,ie.Z)(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),(0,ie.Z)(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),(0,ie.Z)(e,"rejected-credential","The request contains malformed or mismatching credentials."),(0,ie.Z)(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),(0,ie.Z)(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),(0,ie.Z)(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),(0,ie.Z)(e,"timeout","The operation has timed out."),(0,ie.Z)(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),(0,ie.Z)(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),(0,ie.Z)(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),(0,ie.Z)(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),(0,ie.Z)(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),(0,ie.Z)(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),(0,ie.Z)(e,"unverified-email","The operation requires a verified email."),(0,ie.Z)(e,"user-cancelled","The user did not grant your application the permissions it requested."),(0,ie.Z)(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),(0,ie.Z)(e,"user-disabled","The user account has been disabled by an administrator."),(0,ie.Z)(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),(0,ie.Z)(e,"user-signed-out",""),(0,ie.Z)(e,"weak-password","The password must be 6 characters long or more."),(0,ie.Z)(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),(0,ie.Z)(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},wE=bE,xE=new uo("auth","Firebase",bE()),SE=new Do("@firebase/auth");function IE(e){if(SE.logLevel<=To.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];SE.error.apply(SE,["Auth (".concat(bu,"): ").concat(e)].concat(n))}}function EE(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw AE.apply(void 0,[e].concat(n))}function _E(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return AE.apply(void 0,[e].concat(n))}function TE(e,t,n){var r=Object.assign(Object.assign({},wE()),(0,ie.Z)({},t,n));return new uo("auth","Firebase",r).create(t,{appName:e.name})}function CE(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&EE(e,"argument-error"),TE(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function AE(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=(0,re.Z)(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat((0,re.Z)(o)))}return xE.create.apply(xE,[e].concat(n))}function NE(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw AE.apply(void 0,[t].concat(r))}}function RE(e){var t="INTERNAL ASSERTION FAILED: "+e;throw IE(t),new Error(t)}function PE(e,t){e||RE(t)}var OE=new Map;function DE(e){PE(e instanceof Function,"Expected a class definition");var t=OE.get(e);return t?(PE(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,OE.set(e,t),t)}function ME(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function LE(){return"http:"===FE()||"https:"===FE()}function FE(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var ZE=function(){function e(t,n){Xn(this,e),this.shortDelay=t,this.longDelay=n,PE(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(eo())||ro()}return er(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(LE()||no()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function jE(e,t){PE(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var VE=function(){function e(){Xn(this,e)}return er(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void RE("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void RE("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void RE("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),UE=(fE={},(0,ie.Z)(fE,"CREDENTIAL_MISMATCH","custom-token-mismatch"),(0,ie.Z)(fE,"MISSING_CUSTOM_TOKEN","internal-error"),(0,ie.Z)(fE,"INVALID_IDENTIFIER","invalid-email"),(0,ie.Z)(fE,"MISSING_CONTINUE_URI","internal-error"),(0,ie.Z)(fE,"INVALID_PASSWORD","wrong-password"),(0,ie.Z)(fE,"MISSING_PASSWORD","internal-error"),(0,ie.Z)(fE,"EMAIL_EXISTS","email-already-in-use"),(0,ie.Z)(fE,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),(0,ie.Z)(fE,"INVALID_IDP_RESPONSE","invalid-credential"),(0,ie.Z)(fE,"INVALID_PENDING_TOKEN","invalid-credential"),(0,ie.Z)(fE,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),(0,ie.Z)(fE,"MISSING_REQ_TYPE","internal-error"),(0,ie.Z)(fE,"EMAIL_NOT_FOUND","user-not-found"),(0,ie.Z)(fE,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),(0,ie.Z)(fE,"EXPIRED_OOB_CODE","expired-action-code"),(0,ie.Z)(fE,"INVALID_OOB_CODE","invalid-action-code"),(0,ie.Z)(fE,"MISSING_OOB_CODE","internal-error"),(0,ie.Z)(fE,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),(0,ie.Z)(fE,"INVALID_ID_TOKEN","invalid-user-token"),(0,ie.Z)(fE,"TOKEN_EXPIRED","user-token-expired"),(0,ie.Z)(fE,"USER_NOT_FOUND","user-token-expired"),(0,ie.Z)(fE,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),(0,ie.Z)(fE,"INVALID_CODE","invalid-verification-code"),(0,ie.Z)(fE,"INVALID_SESSION_INFO","invalid-verification-id"),(0,ie.Z)(fE,"INVALID_TEMPORARY_PROOF","invalid-credential"),(0,ie.Z)(fE,"MISSING_SESSION_INFO","missing-verification-id"),(0,ie.Z)(fE,"SESSION_EXPIRED","code-expired"),(0,ie.Z)(fE,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),(0,ie.Z)(fE,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),(0,ie.Z)(fE,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),(0,ie.Z)(fE,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),(0,ie.Z)(fE,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),(0,ie.Z)(fE,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),(0,ie.Z)(fE,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),(0,ie.Z)(fE,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),(0,ie.Z)(fE,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),(0,ie.Z)(fE,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),(0,ie.Z)(fE,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),fE),zE=new ZE(3e4,6e4);function BE(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function qE(e,t,n,r){return WE.apply(this,arguments)}function WE(){return WE=xo(ko().mark((function e(t,n,r,i){var a,o=arguments;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",KE(t,a,xo(ko().mark((function e(){var a,o,u,s;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=ho(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",VE.fetch()($E(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),WE.apply(this,arguments)}function KE(e,t,n){return GE.apply(this,arguments)}function GE(){return(GE=xo(ko().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,d,h;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},UE),n),e.prev=2,a=new XE(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw YE(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,c=s.split(" : "),l=(0,m.Z)(c,2),f=l[0],d=l[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==f){e.next=23;break}throw YE(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==f){e.next=27;break}throw YE(t,"email-already-in-use",u);case 27:if("USER_DISABLED"!==f){e.next=29;break}throw YE(t,"user-disabled",u);case 29:if(h=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw TE(t,h,d);case 34:EE(t,h);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof oo)){e.next=41;break}throw e.t0;case 41:EE(t,"internal-error",{message:String(e.t0)});case 42:case"end":return e.stop()}}),e,null,[[2,37]])})))).apply(this,arguments)}function HE(e,t,n,r){return QE.apply(this,arguments)}function QE(){return QE=xo(ko().mark((function e(t,n,r,i){var a,o,u=arguments;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,qE(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&EE(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),QE.apply(this,arguments)}function $E(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?jE(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var XE=function(){function e(t){var n=this;Xn(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(_E(n.auth,"network-request-failed"))}),zE.get())}))}return er(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function YE(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=_E(e,t,r);return i.customData._tokenResponse=n,i}function JE(e,t){return e_.apply(this,arguments)}function e_(){return(e_=xo(ko().mark((function e(t,n){return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qE(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function t_(e,t){return n_.apply(this,arguments)}function n_(){return(n_=xo(ko().mark((function e(t,n){return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qE(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function r_(e,t){return i_.apply(this,arguments)}function i_(){return(i_=xo(ko().mark((function e(t,n){return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qE(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function a_(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function o_(){return o_=xo(ko().mark((function e(t){var n,r,i,a,o,u,s=arguments;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=bo(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,NE((a=s_(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:a_(u_(a.auth_time)),issuedAtTime:a_(u_(a.iat)),expirationTime:a_(u_(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),o_.apply(this,arguments)}function u_(e){return 1e3*Number(e)}function s_(e){var t=e.split("."),n=(0,m.Z)(t,3),r=n[0],i=n[1],a=n[2];if(void 0===r||void 0===i||void 0===a)return IE("JWT malformed, contained fewer than 3 sections"),null;try{var o=Ha(i);return o?JSON.parse(o):(IE("Failed to decode base64 JWT payload"),null)}catch(u){return IE("Caught error parsing JWT payload as JSON",null===u||void 0===u?void 0:u.toString()),null}}function c_(e,t){return l_.apply(this,arguments)}function l_(){return l_=xo(ko().mark((function e(t,n){var r=arguments;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof oo&&f_(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),l_.apply(this,arguments)}function f_(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var d_=function(){function e(t){Xn(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return er(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(xo(ko().mark((function t(){return ko().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=xo(ko().mark((function e(){return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),h_=function(){function e(t,n){Xn(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return er(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=a_(this.lastLoginAt),this.creationTime=a_(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function p_(e){return v_.apply(this,arguments)}function v_(){return v_=xo(ko().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,d;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,c_(t,r_(r,{idToken:i}));case 6:NE(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?o.providerUserInfo.map((function(e){var t=e.providerId,n=lE(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],s=y_(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new h_(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,d);case 17:case"end":return e.stop()}}),e)}))),v_.apply(this,arguments)}function m_(){return(m_=xo(ko().mark((function e(t){var n;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=bo(t),e.next=3,p_(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y_(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat((0,re.Z)(n),(0,re.Z)(t))}function g_(e,t){return b_.apply(this,arguments)}function b_(){return b_=xo(ko().mark((function e(t,n){var r;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,KE(t,{},xo(ko().mark((function e(){var r,i,a,o,u,s;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ho({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=$E(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",VE.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),b_.apply(this,arguments)}var k_=function(){function e(){Xn(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return er(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){NE(e.idToken,"internal-error"),NE("undefined"!==typeof e.idToken,"internal-error"),NE("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=s_(e);return NE(t,"internal-error"),NE("undefined"!==typeof t.exp,"internal-error"),NE("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=xo(ko().mark((function e(t){var n,r=arguments;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],NE(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=xo(ko().mark((function e(t,n){var r,i,a,o;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g_(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return RE("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(NE("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(NE("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(NE("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function w_(e,t){NE("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var x_=function(){function e(t){Xn(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=lE(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new d_(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?(0,re.Z)(a.providerData):[],this.metadata=new h_(a.createdAt||void 0,a.lastLoginAt||void 0)}return er(e,[{key:"getIdToken",value:function(){var e=xo(ko().mark((function e(t){var n;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c_(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(NE(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return o_.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return m_.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(NE(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){var n=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}},{key:"_onReload",value:function(e){NE(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=xo(ko().mark((function e(t){var n,r,i=arguments;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,p_(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=xo(ko().mark((function e(){var t;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,c_(this,JE(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,d=null!==(i=n.email)&&void 0!==i?i:void 0,h=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,b=n.uid,k=n.emailVerified,w=n.isAnonymous,x=n.providerData,S=n.stsTokenManager;NE(b&&S,t,"internal-error");var I=k_.fromJSON(this.name,S);NE("string"===typeof b,t,"internal-error"),w_(f,t.name),w_(d,t.name),NE("boolean"===typeof k,t,"internal-error"),NE("boolean"===typeof w,t,"internal-error"),w_(h,t.name),w_(p,t.name),w_(v,t.name),w_(m,t.name),w_(y,t.name),w_(g,t.name);var E=new e({uid:b,auth:t,email:d,emailVerified:k,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:h,tenantId:v,stsTokenManager:I,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(E.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(E._redirectEventId=m),E}},{key:"_fromIdTokenResponse",value:function(){var t=xo(ko().mark((function t(n,r){var i,a,o,u=arguments;return ko().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new k_).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,p_(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),S_=function(){function e(){Xn(this,e),this.type="NONE",this.storage={}}return er(e,[{key:"_isAvailable",value:function(){var e=xo(ko().mark((function e(){return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=xo(ko().mark((function e(t,n){return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=xo(ko().mark((function e(t){var n;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=xo(ko().mark((function e(t){return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();S_.type="NONE";var I_=S_;function E_(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var __=function(){function e(t,n,r){Xn(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=E_(this.userKey,a.apiKey,o),this.fullPersistenceKey=E_("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return er(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=xo(ko().mark((function e(){var t;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?x_._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=xo(ko().mark((function e(t){var n;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=xo(ko().mark((function t(n,r){var i,a,o,u,s,c,l,f,d,h,p,v=arguments;return ko().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(DE(I_),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=xo(ko().mark((function e(t){return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||DE(I_),u=E_(i,n.config.apiKey,n.name),s=null,c=La(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(d=t.sent)){t.next=23;break}return h=x_._fromJSON(n,d),f!==o&&(s=h),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=xo(ko().mark((function e(t){return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function T_(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(R_(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(C_(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(O_(t))return"Blackberry";if(D_(t))return"Webos";if(A_(t))return"Safari";if((t.includes("chrome/")||N_(t))&&!t.includes("edge/"))return"Chrome";if(P_(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function C_(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:eo();return/firefox\//i.test(e)}function A_(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:eo()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function N_(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:eo();return/crios\//i.test(e)}function R_(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:eo();return/iemobile/i.test(e)}function P_(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:eo();return/android/i.test(e)}function O_(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:eo();return/blackberry/i.test(e)}function D_(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:eo();return/webos/i.test(e)}function M_(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:eo();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function L_(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:eo();return M_(e)||P_(e)||D_(e)||O_(e)||/windows phone/i.test(e)||R_(e)}function F_(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=T_(eo());break;case"Worker":t="".concat(T_(eo()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(bu,"/").concat(r)}var Z_=function(){function e(t){Xn(this,e),this.auth=t,this.queue=[]}return er(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=xo(ko().mark((function e(t){var n,r,i,a,o,u,s;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=La(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=La(n);try{for(o.s();!(u=o.n()).done;){s=u.value;try{s()}catch(c){}}}catch(l){o.e(l)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),j_=function(){function e(t,n,r){Xn(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new U_(this),this.idTokenSubscription=new U_(this),this.beforeStateQueue=new Z_(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xE,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return er(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=DE(t)),this._initializationPromise=this.queue(xo(ko().mark((function r(){var i,a;return ko().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,__.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=xo(ko().mark((function e(){var t;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=xo(ko().mark((function e(t){var n,r,i,a,o,u,s;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,o&&o!==u||!(null===s||void 0===s?void 0:s.user)||(i=s.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return NE(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=xo(ko().mark((function e(t){var n;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=xo(ko().mark((function e(t){return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p_(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=xo(ko().mark((function e(){return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=xo(ko().mark((function e(t){var n;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?bo(t):null)&&NE(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=xo(ko().mark((function e(t){var n,r=this,i=arguments;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&NE(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(xo(ko().mark((function e(){return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=xo(ko().mark((function e(){return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(xo(ko().mark((function n(){return ko().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(DE(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new uo("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=xo(ko().mark((function e(t,n){var r;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=xo(ko().mark((function e(t){var n;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return NE(n=t&&DE(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,__.create(this,[DE(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=xo(ko().mark((function e(t){var n,r;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(xo(ko().mark((function e(){return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=xo(ko().mark((function e(t){var n=this;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(xo(ko().mark((function e(){return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return NE(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=xo(ko().mark((function e(t){return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return NE(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=F_(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=xo(ko().mark((function e(){var t,n,r;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,ie.Z)({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function V_(e){return bo(e)}var U_=function(){function e(t){var n=this;Xn(this,e),this.auth=t,this.observer=null,this.addObserver=mo((function(e){return n.observer=e}))}return er(e,[{key:"next",get:function(){return NE(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function z_(e,t,n){var r=V_(e);NE(r._canInitEmulator,r,"emulator-config-failed"),NE(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=B_(t),o=function(e){var t=B_(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:q_(r.substr(a.length+1))}}var o=r.split(":"),u=(0,m.Z)(o,2);return{host:u[0],port:q_(u[1])}}(t),u=o.host,s=o.port,c=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function B_(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function q_(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var W_=function(){function e(t,n){Xn(this,e),this.providerId=t,this.signInMethod=n}return er(e,[{key:"toJSON",value:function(){return RE("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return RE("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return RE("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return RE("not implemented")}}]),e}();function K_(e,t){return G_.apply(this,arguments)}function G_(){return(G_=xo(ko().mark((function e(t,n){return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qE(t,"POST","/v1/accounts:resetPassword",BE(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H_(e,t){return Q_.apply(this,arguments)}function Q_(){return(Q_=xo(ko().mark((function e(t,n){return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qE(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $_(e,t){return X_.apply(this,arguments)}function X_(){return(X_=xo(ko().mark((function e(t,n){return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qE(t,"POST","/v1/accounts:update",BE(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y_(e,t){return J_.apply(this,arguments)}function J_(){return(J_=xo(ko().mark((function e(t,n){return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",HE(t,"POST","/v1/accounts:signInWithPassword",BE(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function eT(e,t){return tT.apply(this,arguments)}function tT(){return(tT=xo(ko().mark((function e(t,n){return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qE(t,"POST","/v1/accounts:sendOobCode",BE(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nT(e,t){return rT.apply(this,arguments)}function rT(){return(rT=xo(ko().mark((function e(t,n){return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",eT(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function iT(e,t){return aT.apply(this,arguments)}function aT(){return(aT=xo(ko().mark((function e(t,n){return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",eT(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oT(e,t){return uT.apply(this,arguments)}function uT(){return(uT=xo(ko().mark((function e(t,n){return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",eT(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sT(e,t){return cT.apply(this,arguments)}function cT(){return(cT=xo(ko().mark((function e(t,n){return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",eT(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lT(e,t){return fT.apply(this,arguments)}function fT(){return(fT=xo(ko().mark((function e(t,n){return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",HE(t,"POST","/v1/accounts:signInWithEmailLink",BE(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dT(e,t){return hT.apply(this,arguments)}function hT(){return(hT=xo(ko().mark((function e(t,n){return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",HE(t,"POST","/v1/accounts:signInWithEmailLink",BE(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var pT=function(e){Fa(n,e);var t=Ua(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Xn(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return er(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=xo(ko().mark((function e(t){return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Y_(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",lT(t,{email:this._email,oobCode:this._password}));case 5:EE(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=xo(ko().mark((function e(t,n){return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",H_(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",dT(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:EE(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){return new n(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(W_);function vT(e,t){return mT.apply(this,arguments)}function mT(){return(mT=xo(ko().mark((function e(t,n){return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",HE(t,"POST","/v1/accounts:signInWithIdp",BE(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var yT=function(e){Fa(n,e);var t=Ua(n);function n(){var e;return Xn(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return er(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return vT(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,vT(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,vT(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ho(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):EE("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=lE(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(W_);function gT(e,t){return bT.apply(this,arguments)}function bT(){return(bT=xo(ko().mark((function e(t,n){return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qE(t,"POST","/v1/accounts:sendVerificationCode",BE(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kT(){return(kT=xo(ko().mark((function e(t,n){return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",HE(t,"POST","/v1/accounts:signInWithPhoneNumber",BE(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wT(){return(wT=xo(ko().mark((function e(t,n){var r;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,HE(t,"POST","/v1/accounts:signInWithPhoneNumber",BE(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw YE(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var xT=(0,ie.Z)({},"USER_NOT_FOUND","user-not-found");function ST(){return(ST=xo(ko().mark((function e(t,n){var r;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",HE(t,"POST","/v1/accounts:signInWithPhoneNumber",BE(t,r),xT));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var IT=function(e){Fa(n,e);var t=Ua(n);function n(e){var r;return Xn(this,n),(r=t.call(this,"phone","phone")).params=e,r}return er(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return kT.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return wT.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return ST.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(W_);var ET=function(){function e(t){var n,r,i,a,o,u;Xn(this,e);var s=po(vo(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);NE(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return er(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=po(vo(e)).link,n=t?po(vo(t)).deep_link_id:null,r=po(vo(e)).deep_link_id;return(r?po(vo(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(px){return null}}}]),e}();var _T=function(){function e(){Xn(this,e),this.providerId=e.PROVIDER_ID}return er(e,null,[{key:"credential",value:function(e,t){return pT._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=ET.parseLink(t);return NE(n,"argument-error"),pT._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();_T.PROVIDER_ID="password",_T.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_T.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var TT=function(){function e(t){Xn(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return er(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),CT=function(e){Fa(n,e);var t=Ua(n);function n(){var e;return Xn(this,n),(e=t.apply(this,arguments)).scopes=[],e}return er(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return(0,re.Z)(this.scopes)}}]),n}(TT),AT=function(e){Fa(n,e);var t=Ua(n);function n(){return Xn(this,n),t.apply(this,arguments)}return er(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return NE(e.idToken||e.accessToken,"argument-error"),yT._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return NE("providerId"in t&&"signInMethod"in t,"argument-error"),yT._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(CT),NT=function(e){Fa(n,e);var t=Ua(n);function n(){return Xn(this,n),t.call(this,"facebook.com")}return er(n,null,[{key:"credential",value:function(e){return yT._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(px){return null}}}]),n}(CT);NT.FACEBOOK_SIGN_IN_METHOD="facebook.com",NT.PROVIDER_ID="facebook.com";var RT=function(e){Fa(n,e);var t=Ua(n);function n(){var e;return Xn(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return er(n,null,[{key:"credential",value:function(e,t){return yT._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(px){return null}}}]),n}(CT);RT.GOOGLE_SIGN_IN_METHOD="google.com",RT.PROVIDER_ID="google.com";var PT=function(e){Fa(n,e);var t=Ua(n);function n(){return Xn(this,n),t.call(this,"github.com")}return er(n,null,[{key:"credential",value:function(e){return yT._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(px){return null}}}]),n}(CT);PT.GITHUB_SIGN_IN_METHOD="github.com",PT.PROVIDER_ID="github.com";var OT=function(e){Fa(n,e);var t=Ua(n);function n(e,r){var i;return Xn(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return er(n,[{key:"_getIdTokenResponse",value:function(e){return vT(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,vT(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,vT(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(W_),DT=function(e){Fa(n,e);var t=Ua(n);function n(e){return Xn(this,n),NE(e.startsWith("saml."),"argument-error"),t.call(this,e)}return er(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=OT.fromJSON(e);return NE(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return OT._create(r,n)}catch(i){return null}}}]),n}(TT),MT=function(e){Fa(n,e);var t=Ua(n);function n(){return Xn(this,n),t.call(this,"twitter.com")}return er(n,null,[{key:"credential",value:function(e,t){return yT._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(px){return null}}}]),n}(CT);function LT(e,t){return FT.apply(this,arguments)}function FT(){return(FT=xo(ko().mark((function e(t,n){return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",HE(t,"POST","/v1/accounts:signUp",BE(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}MT.TWITTER_SIGN_IN_METHOD="twitter.com",MT.PROVIDER_ID="twitter.com";var ZT=function(){function e(t){Xn(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return er(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=xo(ko().mark((function t(n,r,i){var a,o,u,s,c=arguments;return ko().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,x_._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=jT(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=xo(ko().mark((function t(n,r,i){var a;return ko().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=jT(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function jT(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function VT(){return VT=xo(ko().mark((function e(t){var n,r,i,a;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=V_(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new ZT({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,LT(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,ZT._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),VT.apply(this,arguments)}var UT=function(e){Fa(n,e);var t=Ua(n);function n(e,r,i,a){var o,u;return Xn(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(Bi(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return er(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(oo);function zT(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw UT._fromErrorAndOperation(e,n,t,r);throw n}))}function BT(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function qT(e,t){return WT.apply(this,arguments)}function WT(){return WT=xo(ko().mark((function e(t,n){var r,i,a,o;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=bo(t),e.next=3,HT(!0,r,n);case 3:return e.t0=t_,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=BT(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),WT.apply(this,arguments)}function KT(e,t){return GT.apply(this,arguments)}function GT(){return GT=xo(ko().mark((function e(t,n){var r,i,a=arguments;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=c_,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",ZT._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),GT.apply(this,arguments)}function HT(e,t,n){return QT.apply(this,arguments)}function QT(){return(QT=xo(ko().mark((function e(t,n,r){var i,a;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p_(n);case 2:i=BT(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",NE(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $T(e,t){return XT.apply(this,arguments)}function XT(){return XT=xo(ko().mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,c_(t,zT(i,a,n,t),r);case 6:return NE((o=e.sent).idToken,i,"internal-error"),NE(u=s_(o.idToken),i,"internal-error"),s=u.sub,NE(t.uid===s,i,"user-mismatch"),e.abrupt("return",ZT._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&EE(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),XT.apply(this,arguments)}function YT(e,t){return JT.apply(this,arguments)}function JT(){return JT=xo(ko().mark((function e(t,n){var r,i,a,o,u=arguments;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,zT(t,i,n);case 4:return a=e.sent,e.next=7,ZT._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),JT.apply(this,arguments)}function eC(e,t){return tC.apply(this,arguments)}function tC(){return(tC=xo(ko().mark((function e(t,n){return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",YT(V_(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nC(e,t){return rC.apply(this,arguments)}function rC(){return(rC=xo(ko().mark((function e(t,n){var r;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=bo(t),e.next=3,HT(!1,r,n.providerId);case 3:return e.abrupt("return",KT(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function iC(e,t){return aC.apply(this,arguments)}function aC(){return(aC=xo(ko().mark((function e(t,n){return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$T(bo(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oC(e,t){return uC.apply(this,arguments)}function uC(){return(uC=xo(ko().mark((function e(t,n){return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",HE(t,"POST","/v1/accounts:signInWithCustomToken",BE(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sC(){return(sC=xo(ko().mark((function e(t,n){var r,i,a;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=V_(t),e.next=3,oC(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,ZT._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var cC=function(){function e(t,n){Xn(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return er(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?lC._fromServerResponse(e,t):EE(e,"internal-error")}}]),e}(),lC=function(e){Fa(n,e);var t=Ua(n);function n(e){var r;return Xn(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return er(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(cC);function fC(e,t,n){var r;NE((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),NE("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(NE(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(NE(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function dC(){return(dC=xo(ko().mark((function e(t,n,r){var i,a;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=bo(t),a={requestType:"PASSWORD_RESET",email:n},r&&fC(i,a,r),e.next=5,iT(i,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hC(){return(hC=xo(ko().mark((function e(t,n,r){return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K_(bo(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pC(){return(pC=xo(ko().mark((function e(t,n){return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$_(bo(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vC(e,t){return mC.apply(this,arguments)}function mC(){return(mC=xo(ko().mark((function e(t,n){var r,i,a,o;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=bo(t),e.next=3,K_(r,{oobCode:n});case 3:i=e.sent,NE(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return NE(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:NE(i.mfaInfo,r,"internal-error");case 13:NE(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=cC._fromServerResponse(V_(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yC(){return(yC=xo(ko().mark((function e(t,n){var r,i;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vC(bo(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gC(e,t,n){return bC.apply(this,arguments)}function bC(){return(bC=xo(ko().mark((function e(t,n,r){var i,a,o;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=V_(t),e.next=3,LT(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,ZT._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kC(){return(kC=xo(ko().mark((function e(t,n,r){var i,a;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=bo(t),a={requestType:"EMAIL_SIGNIN",email:n},NE(r.handleCodeInApp,i,"argument-error"),r&&fC(i,a,r),e.next=6,oT(i,a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wC(){return(wC=xo(ko().mark((function e(t,n,r){var i,a;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=bo(t),NE((a=_T.credentialWithLink(n,r||ME()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",eC(i,a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xC(e,t){return SC.apply(this,arguments)}function SC(){return(SC=xo(ko().mark((function e(t,n){return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qE(t,"POST","/v1/accounts:createAuthUri",BE(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function IC(){return(IC=xo(ko().mark((function e(t,n){var r,i,a,o;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=LE()?ME():"http://localhost",i={identifier:n,continueUri:r},e.next=4,xC(bo(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function EC(){return(EC=xo(ko().mark((function e(t,n){var r,i,a,o;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=bo(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&fC(r.auth,a,n),e.next=8,nT(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _C(){return(_C=xo(ko().mark((function e(t,n,r){var i,a,o,u;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=bo(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&fC(i.auth,o,r),e.next=8,sT(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function TC(e,t){return CC.apply(this,arguments)}function CC(){return(CC=xo(ko().mark((function e(t,n){return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qE(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function AC(){return(AC=xo(ko().mark((function e(t,n){var r,i,a,o,u,s,c;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=bo(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,c_(a,TC(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function NC(e,t,n){return RC.apply(this,arguments)}function RC(){return(RC=xo(ko().mark((function e(t,n,r){var i,a,o,u;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,c_(t,H_(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var PC=er((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Xn(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),OC=function(e){Fa(n,e);var t=Ua(n);function n(e,r,i,a){var o;return Xn(this,n),(o=t.call(this,e,r,i)).username=a,o}return er(n)}(PC),DC=function(e){Fa(n,e);var t=Ua(n);function n(e,r){return Xn(this,n),t.call(this,e,"facebook.com",r)}return er(n)}(PC),MC=function(e){Fa(n,e);var t=Ua(n);function n(e,r){return Xn(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return er(n)}(OC),LC=function(e){Fa(n,e);var t=Ua(n);function n(e,r){return Xn(this,n),t.call(this,e,"google.com",r)}return er(n)}(PC),FC=function(e){Fa(n,e);var t=Ua(n);function n(e,r,i){return Xn(this,n),t.call(this,e,"twitter.com",r,i)}return er(n)}(OC);function ZC(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=s_(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new PC(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new DC(a,i);case"github.com":return new MC(a,i);case"google.com":return new LC(a,i);case"twitter.com":return new FC(a,i,e.screenName||null);case"custom":case"anonymous":return new PC(a,null);default:return new PC(a,r,i)}}(n)}var jC=function(){function e(t,n,r){Xn(this,e),this.type=t,this.credential=n,this.auth=r}return er(e,[{key:"toJSON",value:function(){var e="enroll"===this.type?"idToken":"pendingCredential";return{multiFactorSession:(0,ie.Z)({},e,this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),VC=function(){function e(t,n,r){Xn(this,e),this.session=t,this.hints=n,this.signInResolver=r}return er(e,[{key:"resolveSignIn",value:function(){var e=xo(ko().mark((function e(t){var n;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=V_(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return cC._fromServerResponse(r,e)}));NE(i.mfaPendingCredential,r,"internal-error");var o=jC._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=xo(ko().mark((function e(t){var a,u,s;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,ZT._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return NE(n.user,r,"internal-error"),e.abrupt("return",ZT._forOperation(n.user,n.operationType,u));case 17:EE(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function UC(e,t){return qE(e,"POST","/v2/accounts/mfaEnrollment:start",BE(e,t))}var zC=function(){function e(t){var n=this;Xn(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return cC._fromServerResponse(t.auth,e)})))}))}return er(e,[{key:"getSession",value:function(){var e=xo(ko().mark((function e(){return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=jC,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user.auth,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=xo(ko().mark((function e(t,n){var r,i,a;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,c_(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=xo(ko().mark((function e(t){var n,r,i;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.prev=4,e.next=7,c_(this.user,qE(a=this.user.auth,"POST","/v2/accounts/mfaEnrollment:withdraw",BE(a,{idToken:r,mfaEnrollmentId:n})));case 7:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=11,this.user._updateTokensIfNecessary(i);case 11:return e.next=13,this.user.reload();case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(4),e.t0;case 18:case"end":return e.stop()}var a}),e,this,[[4,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),BC=new WeakMap;var qC="__sak",WC=function(){function e(t,n){Xn(this,e),this.storageRetriever=t,this.type=n}return er(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(qC,"1"),this.storage.removeItem(qC),Promise.resolve(!0)):Promise.resolve(!1)}catch(px){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var KC=function(e){Fa(n,e);var t=Ua(n);function n(){var e;return Xn(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=eo();return A_(e)||M_(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=L_(),e._shouldAllowMigration=!0,e}return er(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);io()&&10===document.documentMode&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=xo(ko().mark((function e(t,r){return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yu(Za(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=xo(ko().mark((function e(t){var r;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yu(Za(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=xo(ko().mark((function e(t){return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yu(Za(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(WC);KC.type="LOCAL";var GC=KC,HC=function(e){Fa(n,e);var t=Ua(n);function n(){return Xn(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return er(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(WC);HC.type="SESSION";var QC=HC;function $C(e){return Promise.all(e.map(function(){var e=xo(ko().mark((function e(t){var n;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var XC=function(){function e(t){Xn(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return er(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=xo(ko().mark((function e(t){var n,r,i,a,o,u,s,c;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=xo(ko().mark((function e(t){return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,$C(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function YC(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}XC.receivers=[];var JC=function(){function e(t){Xn(this,e),this.target=t,this.handlers=new Set}return er(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=xo(ko().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=YC("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function eA(){return window}function tA(){return"undefined"!==typeof eA().WorkerGlobalScope&&"function"===typeof eA().importScripts}function nA(){return rA.apply(this,arguments)}function rA(){return(rA=xo(ko().mark((function e(){var t;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function iA(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var aA="firebaseLocalStorageDb",oA="firebaseLocalStorage",uA="fbase_key",sA=function(){function e(t){Xn(this,e),this.request=t}return er(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function cA(e,t){return e.transaction([oA],t?"readwrite":"readonly").objectStore(oA)}function lA(){var e=indexedDB.deleteDatabase(aA);return new sA(e).toPromise()}function fA(){var e=indexedDB.open(aA,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(oA,{keyPath:uA})}catch(r){n(r)}})),e.addEventListener("success",xo(ko().mark((function n(){var r;return ko().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(oA)){n.next=12;break}return r.close(),n.next=5,lA();case 5:return n.t0=t,n.next=8,fA();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function dA(e,t,n){return hA.apply(this,arguments)}function hA(){return hA=xo(ko().mark((function e(t,n,r){var i,a;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=cA(t,!0).put((i={},(0,ie.Z)(i,uA,n),(0,ie.Z)(i,"value",r),i)),e.abrupt("return",new sA(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),hA.apply(this,arguments)}function pA(e,t){return vA.apply(this,arguments)}function vA(){return vA=xo(ko().mark((function e(t,n){var r,i;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=cA(t,!1).get(n),e.next=3,new sA(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),vA.apply(this,arguments)}function mA(e,t){var n=cA(e,!0).delete(t);return new sA(n).toPromise()}var yA=function(){function e(){Xn(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return er(e,[{key:"_openDb",value:function(){var e=xo(ko().mark((function e(){return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,fA();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=xo(ko().mark((function e(t){var n,r;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=xo(ko().mark((function e(){return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",tA()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=xo(ko().mark((function e(){var t=this;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=XC._getInstance(tA()?self:null),this.receiver._subscribe("keyChanged",function(){var e=xo(ko().mark((function e(n,r){var i;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=xo(ko().mark((function e(t,n){return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=xo(ko().mark((function e(){var t,n,r;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nA();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new JC(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=xo(ko().mark((function e(t){return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&iA()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=xo(ko().mark((function e(){var t;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,fA();case 5:return t=e.sent,e.next=8,dA(t,qC,"1");case 8:return e.next=10,mA(t,qC);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=xo(ko().mark((function e(t){return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=xo(ko().mark((function e(t,n){var r=this;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(xo(ko().mark((function e(){return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return dA(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=xo(ko().mark((function e(t){var n;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return pA(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=xo(ko().mark((function e(t){var n=this;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(xo(ko().mark((function e(){return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return mA(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=xo(ko().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=cA(e,!1).getAll();return new sA(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=La(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(d){i.e(d)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(xo(ko().mark((function t(){return ko().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();yA.type="LOCAL";var gA=yA;function bA(e,t){return qE(e,"POST","/v2/accounts/mfaSignIn:start",BE(e,t))}function kA(e){return wA.apply(this,arguments)}function wA(){return(wA=xo(ko().mark((function e(t){return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qE(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xA(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=_E("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function SA(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var IA=1e12,EA=function(){function e(t){Xn(this,e),this.auth=t,this.counter=IA,this._widgets=new Map}return er(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new _A(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||IA;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||IA;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=xo(ko().mark((function e(t){var n,r;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||IA,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),_A=function(){function e(t,n,r){var i=this;Xn(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;NE(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return er(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var TA=SA("rcb"),CA=new ZE(3e4,6e4),AA=function(){function e(){var t;Xn(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=eA().grecaptcha)||void 0===t?void 0:t.render)}return er(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return NE(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(eA().grecaptcha):new Promise((function(r,i){var a=eA().setTimeout((function(){i(_E(e,"network-request-failed"))}),CA.get());eA()[TA]=function(){eA().clearTimeout(a),delete eA()[TA];var o=eA().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(_E(e,"internal-error"))},xA("".concat("https://www.google.com/recaptcha/api.js?","?").concat(ho({onload:TA,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(_E(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=eA().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();var NA=function(){function e(){Xn(this,e)}return er(e,[{key:"load",value:function(){var e=xo(ko().mark((function e(t){return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new EA(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),RA="recaptcha",PA={theme:"light",type:"image"},OA=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},PA),r=arguments.length>2?arguments[2]:void 0;Xn(this,e),this.parameters=n,this.type=RA,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=V_(r),this.isInvisible="invisible"===this.parameters.size,NE("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;NE(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new NA:new AA,this.validateStartingState()}return er(e,[{key:"verify",value:function(){var e=xo(ko().mark((function e(){var t,n,r,i=this;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){NE(!this.parameters.sitekey,this.auth,"argument-error"),NE(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),NE("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=eA()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){NE(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=xo(ko().mark((function e(){var t,n;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=xo(ko().mark((function e(){var t;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return NE(LE()&&!tA(),this.auth,"internal-error"),e.next=3,DA();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,kA(this.auth);case 8:NE(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return NE(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function DA(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var MA=function(){function e(t,n){Xn(this,e),this.verificationId=t,this.onConfirmation=n}return er(e,[{key:"confirm",value:function(e){var t=IT._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function LA(){return(LA=xo(ko().mark((function e(t,n,r){var i,a;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=V_(t),e.next=3,VA(i,n,bo(r));case 3:return a=e.sent,e.abrupt("return",new MA(a,(function(e){return eC(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function FA(e,t,n){return ZA.apply(this,arguments)}function ZA(){return(ZA=xo(ko().mark((function e(t,n,r){var i,a;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=bo(t),e.next=3,HT(!1,i,"phone");case 3:return e.next=5,VA(i.auth,n,bo(r));case 5:return a=e.sent,e.abrupt("return",new MA(a,(function(e){return nC(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jA(){return(jA=xo(ko().mark((function e(t,n,r){var i,a;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=bo(t),e.next=3,VA(i.auth,n,bo(r));case 3:return a=e.sent,e.abrupt("return",new MA(a,(function(e){return iC(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function VA(e,t,n){return UA.apply(this,arguments)}function UA(){return UA=xo(ko().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,d;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,NE("string"===typeof a,t,"argument-error"),NE(r.type===RA,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return NE("enroll"===u.type,t,"internal-error"),e.next=13,UC(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return NE("signin"===u.type,t,"internal-error"),NE(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,bA(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,gT(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,d=f.sessionInfo,e.abrupt("return",d);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),UA.apply(this,arguments)}function zA(){return(zA=xo(ko().mark((function e(t,n){return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,KT(bo(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var BA=function(){function e(t){Xn(this,e),this.providerId=e.PROVIDER_ID,this.auth=V_(t)}return er(e,[{key:"verifyPhoneNumber",value:function(e,t){return VA(this.auth,e,bo(t))}}],[{key:"credential",value:function(e,t){return IT._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?IT._fromTokenResponse(n,r):null}}]),e}();function qA(e,t){return t?DE(t):(NE(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}BA.PROVIDER_ID="phone",BA.PHONE_SIGN_IN_METHOD="phone";var WA=function(e){Fa(n,e);var t=Ua(n);function n(e){var r;return Xn(this,n),(r=t.call(this,"custom","custom")).params=e,r}return er(n,[{key:"_getIdTokenResponse",value:function(e){return vT(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return vT(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return vT(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(W_);function KA(e){return YT(e.auth,new WA(e),e.bypassAuthState)}function GA(e){var t=e.auth,n=e.user;return NE(n,t,"internal-error"),$T(n,new WA(e),e.bypassAuthState)}function HA(e){return QA.apply(this,arguments)}function QA(){return(QA=xo(ko().mark((function e(t){var n,r;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,NE(r=t.user,n,"internal-error"),e.abrupt("return",KT(r,new WA(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var $A=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Xn(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return er(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=xo(ko().mark((function t(n,r){return ko().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=xo(ko().mark((function e(t){var n,r,i,a,o,u,s;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return KA;case"linkViaPopup":case"linkViaRedirect":return HA;case"reauthViaPopup":case"reauthViaRedirect":return GA;default:EE(this.auth,"internal-error")}}},{key:"resolve",value:function(e){PE(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){PE(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),XA=new ZE(2e3,1e4);function YA(e,t,n){return JA.apply(this,arguments)}function JA(){return(JA=xo(ko().mark((function e(t,n,r){var i,a,o;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=V_(t),CE(t,n,TT),a=qA(i,r),o=new rN(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function eN(){return(eN=xo(ko().mark((function e(t,n,r){var i,a,o;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return CE((i=bo(t)).auth,n,TT),a=qA(i.auth,r),o=new rN(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tN(e,t,n){return nN.apply(this,arguments)}function nN(){return(nN=xo(ko().mark((function e(t,n,r){var i,a,o;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return CE((i=bo(t)).auth,n,TT),a=qA(i.auth,r),o=new rN(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var rN=function(e){Fa(n,e);var t=Ua(n);function n(e,r,i,a,o){var u;return Xn(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=Bi(u),u}return er(n,[{key:"executeNotNull",value:function(){var e=xo(ko().mark((function e(){var t;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return NE(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=xo(ko().mark((function e(){var t,n=this;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return PE(1===this.filter.length,"Popup operations only handle one event"),t=YC(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(_E(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(_E(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(_E(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,XA.get())}()}}]),n}($A);rN.currentPopupAction=null;var iN="pendingRedirect",aN=new Map,oN=function(e){Fa(n,e);var t=Ua(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Xn(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return er(n,[{key:"execute",value:function(){var e=xo(ko().mark((function e(){var t,r;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=aN.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,uN(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Yu(Za(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:aN.set(this.auth._key(),t);case 21:return this.bypassAuthState||aN.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=xo(ko().mark((function e(t){var r;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Yu(Za(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Yu(Za(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=xo(ko().mark((function e(){return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}($A);function uN(e,t){return sN.apply(this,arguments)}function sN(){return(sN=xo(ko().mark((function e(t,n){var r,i,a;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=hN(n),i=dN(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cN(e,t){return lN.apply(this,arguments)}function lN(){return(lN=xo(ko().mark((function e(t,n){return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",dN(t)._set(hN(n),"true"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fN(e,t){aN.set(e._key(),t)}function dN(e){return DE(e._redirectPersistence)}function hN(e){return E_(iN,e.config.apiKey,e.name)}function pN(e,t,n){return function(e,t,n){return vN.apply(this,arguments)}(e,t,n)}function vN(){return(vN=xo(ko().mark((function e(t,n,r){var i,a;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=V_(t),CE(t,n,TT),e.next=4,i._initializationPromise;case 4:return a=qA(i,r),e.next=7,cN(a,i);case 7:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mN(e,t,n){return function(e,t,n){return yN.apply(this,arguments)}(e,t,n)}function yN(){return(yN=xo(ko().mark((function e(t,n,r){var i,a,o;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return CE((i=bo(t)).auth,n,TT),e.next=4,i.auth._initializationPromise;case 4:return a=qA(i.auth,r),e.next=7,cN(a,i.auth);case 7:return e.next=9,IN(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gN(e,t,n){return function(e,t,n){return bN.apply(this,arguments)}(e,t,n)}function bN(){return(bN=xo(ko().mark((function e(t,n,r){var i,a,o;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return CE((i=bo(t)).auth,n,TT),e.next=4,i.auth._initializationPromise;case 4:return a=qA(i.auth,r),e.next=7,HT(!1,i,n.providerId);case 7:return e.next=9,cN(a,i.auth);case 9:return e.next=11,IN(i);case 11:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kN(e,t){return wN.apply(this,arguments)}function wN(){return(wN=xo(ko().mark((function e(t,n){return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V_(t)._initializationPromise;case 2:return e.abrupt("return",xN(t,n,!1));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xN(e,t){return SN.apply(this,arguments)}function SN(){return SN=xo(ko().mark((function e(t,n){var r,i,a,o,u,s=arguments;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=V_(t),a=qA(i,n),o=new oN(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),SN.apply(this,arguments)}function IN(e){return EN.apply(this,arguments)}function EN(){return(EN=xo(ko().mark((function e(t){var n;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=YC("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var _N=function(){function e(t){Xn(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return er(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return CN(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!CN(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(_E(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(TN(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(TN(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function TN(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function CN(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function AN(e){return NN.apply(this,arguments)}function NN(){return NN=xo(ko().mark((function e(t){var n,r=arguments;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",qE(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),NN.apply(this,arguments)}var RN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,PN=/^https?/;function ON(){return(ON=xo(ko().mark((function e(t){var n,r,i,a,o;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,AN(t);case 4:n=e.sent,r=n.authorizedDomains,i=La(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!DN(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:EE(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}function DN(e){var t=ME(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!PN.test(r))return!1;if(RN.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var MN=new ZE(3e4,6e4);function LN(){var e=eA().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=(0,re.Z)(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var FN=null;function ZN(e){return FN=FN||function(e){return new Promise((function(t,n){var r,i,a;function o(){LN(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){LN(),n(_E(e,"network-request-failed"))},timeout:MN.get()})}if(null===(i=null===(r=eA().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=eA().gapi)||void 0===a?void 0:a.load)){var u=SA("iframefcb");return eA()[u]=function(){gapi.load?o():n(_E(e,"network-request-failed"))},xA("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw FN=null,e}))}(e),FN}var jN=new ZE(5e3,15e3),VN="__/auth/iframe",UN="emulator/auth/iframe",zN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},BN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qN(e){var t=e.config;NE(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?jE(t,UN):"https://".concat(e.config.authDomain,"/").concat(VN),r={apiKey:t.apiKey,appName:e.name,v:bu},i=BN.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(ho(r).slice(1))}function WN(e){return KN.apply(this,arguments)}function KN(){return KN=xo(ko().mark((function e(t){var n,r;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ZN(t);case 2:return n=e.sent,NE(r=eA().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:qN(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zN,dontclear:!0},(function(e){return new Promise(function(){var n=xo(ko().mark((function n(r,i){var a,o,u;return ko().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){eA().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=_E(t,"network-request-failed"),o=eA().setTimeout((function(){i(a)}),jN.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),KN.apply(this,arguments)}var GN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},HN=function(){function e(t){Xn(this,e),this.window=t,this.associatedEvent=null}return er(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function QN(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},GN),{width:r.toString(),height:i.toString(),top:a,left:o}),c=eo().toLowerCase();n&&(u=N_(c)?"_blank":n),C_(c)&&(t=t||"http://localhost",s.scrollbars="yes");var l=Object.entries(s).reduce((function(e,t){var n=(0,m.Z)(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(function(){var e;return M_(arguments.length>0&&void 0!==arguments[0]?arguments[0]:eo())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==u)return function(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",u),new HN(null);var f=window.open(t||"",u,l);NE(f,e,"popup-blocked");try{f.focus()}catch(d){}return new HN(f)}var $N="__/auth/handler",XN="emulator/auth/handler";function YN(e,t,n,r,i,a){NE(e.config.authDomain,e,"auth-domain-config-required"),NE(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:bu,eventId:i};if(t instanceof TT){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,s=Object.entries(a||{});u<s.length;u++){var c=(0,m.Z)(s[u],2),l=c[0],f=c[1];o[l]=f}}if(t instanceof CT){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var h=o,p=0,v=Object.keys(h);p<v.length;p++){var y=v[p];void 0===h[y]&&delete h[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat($N);return jE(t,XN)}(e),"?").concat(ho(h).slice(1))}var JN="webStorageSupport",eR=function(){function e(){Xn(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=QC,this._completeRedirectFn=xN,this._overrideRedirectResult=fN}return er(e,[{key:"_openPopup",value:function(){var e=xo(ko().mark((function e(t,n,r,i){var a,o;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return PE(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=YN(t,n,r,ME(),i),e.abrupt("return",QN(t,o,YC()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=xo(ko().mark((function e(t,n,r,i){return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=YN(t,n,r,ME(),i),eA().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(PE(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=xo(ko().mark((function e(t){var n,r;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,WN(t);case 2:return n=e.sent,r=new _N(t),n.register("authEvent",(function(e){return NE(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(JN,{type:JN},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[JN];void 0!==i&&t(!!i),EE(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return ON.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return L_()||A_()||M_()}}]),e}(),tR=eR,nR=function(e){Fa(n,e);var t=Ua(n);function n(e){var r;return Xn(this,n),(r=t.call(this,"phone")).credential=e,r}return er(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return qE(e,"POST","/v2/accounts/mfaEnrollment:finalize",BE(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return qE(e,"POST","/v2/accounts/mfaSignIn:finalize",BE(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(function(){function e(t){Xn(this,e),this.factorId=t}return er(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return RE("unexpected MultiFactorSessionType")}}}]),e}()),rR=function(){function e(){Xn(this,e)}return er(e,null,[{key:"assertion",value:function(e){return nR._fromCredential(e)}}]),e}();rR.FACTOR_ID="phone";var iR="@firebase/auth",aR="0.21.5",oR=function(){function e(t){Xn(this,e),this.auth=t,this.internalListeners=new Map}return er(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=xo(ko().mark((function e(t){var n;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){NE(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var uR;!function(e){var t;null===(t=Xa())||void 0===t||t["_".concat(e)]}("authIdTokenMaxAge");function sR(){return window}uR="Browser",du(new So("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){NE(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),NE(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:uR,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:F_(uR)},i=new j_(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(DE);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),du(new So("auth-internal",(function(e){return function(e){return new oR(e)}(V_(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Eu(iR,aR,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(uR)),Eu(iR,aR,"esm2017");var cR=2e3;function lR(e,t,n){return fR.apply(this,arguments)}function fR(){return fR=xo(ko().mark((function e(t,n,r){var i,a,o,u,s;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=sR(),o=a.BuildInfo,PE(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,yR(n.sessionId);case 4:return u=e.sent,s={},M_()?s.ibi=o.packageName:P_()?s.apn=o.packageName:EE(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",YN(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),fR.apply(this,arguments)}function dR(){return(dR=xo(ko().mark((function e(t){var n,r,i;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=sR(),r=n.BuildInfo,i={},M_()?i.iosBundleId=r.packageName:P_()?i.androidPackageName=r.packageName:EE(t,"operation-not-supported-in-this-environment"),e.next=5,AN(t,i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hR(e){var t=sR().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:eo();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function pR(e,t,n){return vR.apply(this,arguments)}function vR(){return vR=xo(ko().mark((function e(t,n,r){var i,a,o;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=sR(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(_E(t,"redirect-cancelled-by-user"))}),cR))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),P_()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),vR.apply(this,arguments)}function mR(e){var t,n,r,i,a,o,u,s,c,l,f=sR();NE("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),NE("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),NE("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),NE("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),NE("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function yR(e){return gR.apply(this,arguments)}function gR(){return(gR=xo(ko().mark((function e(t){var n,r,i;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=bR(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bR(e){if(PE(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var kR=20,wR=function(e){Fa(n,e);var t=Ua(n);function n(){var e;return Xn(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return er(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Yu(Za(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=xo(ko().mark((function e(){return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(_N);function xR(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:TR(),postBody:null,tenantId:e.tenantId,error:_E(e,"no-auth-event")}}function SR(e,t){return CR()._set(AR(e),t)}function IR(e){return ER.apply(this,arguments)}function ER(){return(ER=xo(ko().mark((function e(t){var n;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,CR()._get(AR(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,CR()._remove(AR(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _R(e,t){var n,r,i=function(e){var t=NR(e),n=t.link?decodeURIComponent(t.link):void 0,r=NR(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return NR(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=NR(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?_E(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function TR(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<kR;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function CR(){return DE(GC)}function AR(e){return E_("authEvent",e.config.apiKey,e.name)}function NR(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=(t=n,(0,uE.Z)(t)||(0,sE.Z)(t)||(0,Ma.Z)(t)||(0,cE.Z)());r[0];return po(r.slice(1).join("?"))}var RR=function(){function e(){Xn(this,e),this._redirectPersistence=QC,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=xN,this._overrideRedirectResult=fN}return er(e,[{key:"_initialize",value:function(){var e=xo(ko().mark((function e(t){var n,r;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new wR(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){EE(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=xo(ko().mark((function e(t,n,r,i){var a,o,u,s;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return mR(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),aN.clear(),e.next=10,this._originValidation(t);case 10:return o=xR(t,r,i),e.next=13,SR(t,o);case 13:return e.next=15,lR(t,o,n);case 15:return u=e.sent,e.next=18,hR(u);case 18:return s=e.sent,e.abrupt("return",pR(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return dR.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=sR(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(xo(ko().mark((function n(){return ko().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,IR(e);case 2:t.onEvent(OR());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=xo(ko().mark((function n(r){var i,a;return ko().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,IR(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=_R(i,r.url)),t.onEvent(a||OR());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");sR().handleOpenURL=function(){var e=xo(ko().mark((function e(t){return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),PR=RR;function OR(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:_E("no-auth-event")}}var DR=1e3;function MR(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function LR(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:eo();return!("file:"!==MR()&&"ionic:"!==MR()&&"capacitor:"!==MR()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function FR(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:eo();return io()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:eo();return/Edge\/\d+/.test(e)}(e)}function ZR(){try{var e=self.localStorage,t=YC();if(e)return e.setItem(t,"1"),e.removeItem(t),!FR()||ao()}catch(n){return jR()&&ao()}return!1}function jR(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function VR(){return("http:"===MR()||"https:"===MR()||no()||LR())&&!(ro()||to())&&ZR()&&!jR()}function UR(){return LR()&&"undefined"!==typeof document}function zR(){return BR.apply(this,arguments)}function BR(){return(BR=xo(ko().mark((function e(){return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(UR()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),DR);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var qR={LOCAL:"local",NONE:"none",SESSION:"session"},WR=NE,KR="persistence";function GR(e,t){WR(Object.values(qR).includes(t),e,"invalid-persistence-type"),ro()?WR(t!==qR.SESSION,e,"unsupported-persistence-type"):to()?WR(t===qR.NONE,e,"unsupported-persistence-type"):jR()?WR(t===qR.NONE||t===qR.LOCAL&&ao(),e,"unsupported-persistence-type"):WR(t===qR.NONE||ZR(),e,"unsupported-persistence-type")}function HR(e){return QR.apply(this,arguments)}function QR(){return(QR=xo(ko().mark((function e(t){var n,r;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=$R(),r=E_(KR,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $R(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var XR=NE,YR=function(){function e(){Xn(this,e),this.browserResolver=DE(tR),this.cordovaResolver=DE(PR),this.underlyingResolver=null,this._redirectPersistence=QC,this._completeRedirectFn=xN,this._overrideRedirectResult=fN}return er(e,[{key:"_initialize",value:function(){var e=xo(ko().mark((function e(t){return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=xo(ko().mark((function e(t,n,r,i){return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=xo(ko().mark((function e(t,n,r,i){return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return UR()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return XR(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=xo(ko().mark((function e(){var t;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,zR();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function JR(e){return e.unwrap()}function eP(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code))t.resolver=new aP(e,function(e,t){var n,r=bo(e),i=t;return NE(t.customData.operationType,r,"argument-error"),NE(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),VC._fromError(r,i)}(e,t));else if(r){var i=tP(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function tP(e){var t=(e instanceof oo?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof oo)&&"temporaryProof"in t&&"phoneNumber"in t)return BA.credentialFromResult(e);var n,r=t.providerId;if(!r||r===dE.PASSWORD)return null;switch(r){case dE.GOOGLE:n=RT;break;case dE.FACEBOOK:n=NT;break;case dE.GITHUB:n=PT;break;case dE.TWITTER:n=MT;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?OT._create(r,u):yT._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new AT(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof oo?n.credentialFromError(e):n.credentialFromResult(e)}function nP(e,t){return t.catch((function(t){throw t instanceof oo&&eP(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,tP(t)),additionalUserInfo:ZC(e),user:oP.getOrCreate(r)}}))}function rP(e,t){return iP.apply(this,arguments)}function iP(){return(iP=xo(ko().mark((function e(t,n){var r;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return nP(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var aP=function(){function e(t,n){Xn(this,e),this.resolver=n,this.auth=t.wrapped()}return er(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return nP(JR(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),oP=function(){function e(t){Xn(this,e),this._delegate=t,this.multiFactor=function(e){var t=bo(e);return BC.has(t)||BC.set(t,zC._fromUser(t)),BC.get(t)}(t)}return er(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=xo(ko().mark((function e(t){return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nP(this.auth,nC(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=xo(ko().mark((function e(t,n){return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",rP(this.auth,FA(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=xo(ko().mark((function e(t){return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nP(this.auth,tN(this._delegate,t,YR)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=xo(ko().mark((function e(t){return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,HR(V_(this.auth));case 2:return e.abrupt("return",gN(this._delegate,t,YR));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=xo(ko().mark((function e(t){return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nP(this.auth,iC(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return rP(this.auth,function(e,t,n){return jA.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return nP(this.auth,function(e,t,n){return eN.apply(this,arguments)}(this._delegate,e,YR))}},{key:"reauthenticateWithRedirect",value:function(){var e=xo(ko().mark((function e(t){return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,HR(V_(this.auth));case 2:return e.abrupt("return",mN(this._delegate,t,YR));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return EC.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=xo(ko().mark((function e(t){return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qT(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return NC(bo(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return NC(bo(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return zA.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return AC.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return _C.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();oP.USER_MAP=new WeakMap;var uP=NE,sP=function(){function e(t,n){if(Xn(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;uP(r,"invalid-api-key",{appName:t.name}),uP(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?YR:void 0;this._delegate=n.initialize({options:{persistence:lP(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(kE),this.linkUnderlyingAuth()}return er(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?oP.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){z_(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return pC.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return vC(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return hC.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=xo(ko().mark((function e(t,n){return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nP(this._delegate,gC(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return IC.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=ET.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=xo(ko().mark((function e(){var t;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return uP(VR(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,kN(this._delegate,YR);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",nP(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){V_(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=cP(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=cP(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return kC.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return dC.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=xo(ko().mark((function e(t){var n,r;return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:GR(this._delegate,t),e.t0=t,e.next=e.t0===qR.SESSION?4:e.t0===qR.LOCAL?6:e.t0===qR.NONE?11:13;break;case 4:return n=QC,e.abrupt("break",14);case 6:return e.next=8,DE(gA)._isAvailable();case 8:return r=e.sent,n=r?gA:GC,e.abrupt("break",14);case 11:return n=I_,e.abrupt("break",14);case 13:return e.abrupt("return",EE("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return nP(this._delegate,function(e){return VT.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return nP(this._delegate,eC(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return nP(this._delegate,function(e,t){return sC.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return nP(this._delegate,function(e,t,n){return eC(bo(e),_T.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return nP(this._delegate,function(e,t,n){return wC.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return rP(this._delegate,function(e,t,n){return LA.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=xo(ko().mark((function e(t){return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return uP(VR(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",nP(this._delegate,YA(this._delegate,t,YR)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=xo(ko().mark((function e(t){return ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return uP(VR(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,HR(this._delegate);case 3:return e.abrupt("return",pN(this._delegate,t,YR));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return yC.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function cP(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&oP.getOrCreate(e))},error:t,complete:n}}function lP(e,t){var n=function(e,t){var n=$R();if(!n)return[];var r=E_(KR,e,t);switch(n.getItem(r)){case qR.NONE:return[I_];case qR.LOCAL:return[gA,QC];case qR.SESSION:return[QC];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(gA)||n.push(gA),"undefined"!==typeof window)for(var r=0,i=[GC,QC];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(I_)||n.push(I_),n}sP.Persistence=qR;var fP=function(){function e(){Xn(this,e),this.providerId="phone",this._delegate=new BA(JR(Xu.auth()))}return er(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return BA.credential(e,t)}}]),e}();fP.PHONE_SIGN_IN_METHOD=BA.PHONE_SIGN_IN_METHOD,fP.PROVIDER_ID=BA.PROVIDER_ID;var dP=NE,hP=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Xu.app();Xn(this,e),dP(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new OA(t,n,i.auth()),this.type=this._delegate.type}return er(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();!function(e){e.INTERNAL.registerComponent(new So("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new sP(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:hE,PASSWORD_RESET:pE,RECOVER_EMAIL:vE,REVERT_SECOND_FACTOR_ADDITION:mE,VERIFY_AND_CHANGE_EMAIL:yE,VERIFY_EMAIL:gE}},EmailAuthProvider:_T,FacebookAuthProvider:NT,GithubAuthProvider:PT,GoogleAuthProvider:RT,OAuthProvider:AT,SAMLAuthProvider:DT,PhoneAuthProvider:fP,PhoneMultiFactorGenerator:rR,RecaptchaVerifier:hP,TwitterAuthProvider:MT,Auth:sP,AuthCredential:W_,Error:oo}).setInstantiationMode("LAZY").setMultipleInstances(!1)),e.registerVersion("@firebase/auth-compat","0.3.5")}(Xu);var pP=Xu.initializeApp({apiKey:"AIzaSyCcGcU2509VWBqEU5u8MCiLfrNy_rfxrCw",authDomain:"escape-room-eesa.firebaseapp.com",databaseURL:"https://escape-room-eesa-default-rtdb.firebaseio.com",projectId:"escape-room-eesa",storageBucket:"escape-room-eesa.appspot.com",messagingSenderId:"520010194933",appId:"1:520010194933:web:e15163396ce2636166cabc"}).firestore(),vP={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",borderRadius:5,boxShadow:24,p:4},mP={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:{xs:"90%",lg:700},bgcolor:"background.paper",border:"2px solid #000",borderRadius:5,boxShadow:24,p:4},yP="none",gP="block",bP=function(){var e=(0,t.useState)(""),n=(0,m.Z)(e,2),r=n[0],i=n[1],a=(0,t.useState)(""),o=(0,m.Z)(a,2),u=o[0],s=o[1],l=(0,t.useState)(!1),f=(0,m.Z)(l,2),d=f[0],h=f[1],p=(0,t.useState)(!1),v=(0,m.Z)(p,2),y=v[0],g=v[1],b=(0,t.useState)(!1),k=(0,m.Z)(b,2),w=k[0],x=k[1],S=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,N.Z)(),r="undefined"!==typeof window&&"undefined"!==typeof window.matchMedia,i=(0,R.Z)({name:"MuiUseMediaQuery",props:t,theme:n}),a=i.defaultMatches,o=void 0!==a&&a,u=i.matchMedia,s=void 0===u?r?window.matchMedia:null:u,c=i.ssrMatchMedia,l=void 0===c?null:c,f=i.noSsr,d=void 0!==f&&f,h="function"===typeof e?e(n):e;return h=h.replace(/^@media( ?)/m,""),(void 0!==D?M:O)(h,o,s,l,d)}((0,Me.Z)().breakpoints.down("md")),I=function(){return h(!1)},E=function(){return g(!1)};return setTimeout((function(){x(!0),gP="none"}),9e5),(0,c.jsxs)("div",{className:S?"small-container":"main-container",children:[(0,c.jsx)(Mr,{open:y,onClose:E,children:(0,c.jsx)(Fe,{sx:vP,children:(0,c.jsxs)(xe,{container:!0,direction:"column",alignItems:"center",children:[(0,c.jsx)(xe,{item:!0,children:(0,c.jsx)(Oa.Z,{sx:{color:Ra.Z[500],fontSize:80}})}),(0,c.jsx)(xe,{item:!0,children:(0,c.jsx)(Ne,{align:"center",sx:{fontWeight:"bold"},children:"Wrong Answer"})}),(0,c.jsx)(xe,{item:!0,children:(0,c.jsx)(Na,{onClick:E,variant:"contained",sx:{maxWidth:"10rem",mt:"2rem",mb:"1rem"},children:"Try Again"})})]})})}),(0,c.jsx)(Mr,{open:w,onClose:x,children:(0,c.jsx)(Fe,{sx:mP,children:(0,c.jsxs)(xe,{container:!0,direction:"column",children:[(0,c.jsx)(xe,{item:!0,align:"center",children:(0,c.jsx)(Da.Z,{sx:{color:Ra.Z[500],fontSize:80}})}),(0,c.jsx)(xe,{item:!0,children:(0,c.jsx)(Ne,{align:"center",justifyContent:"center",children:"Your time is over."})}),(0,c.jsx)(xe,{item:!0,sx:{mt:"2rem",mx:"3rem"},children:(0,c.jsx)(Ne,{align:"center",children:"Thank you for participating. Please follow the instructions of organizers and leave the room"})})]})})}),(0,c.jsx)(Mr,{open:d,onClose:I,children:(0,c.jsx)(Fe,{sx:vP,children:(0,c.jsxs)(xe,{container:!0,direction:"column",alignItems:"center",children:[(0,c.jsx)(xe,{item:!0,children:(0,c.jsx)(Pa.Z,{color:"success",sx:{fontSize:80}})}),(0,c.jsxs)(xe,{item:!0,sx:{mt:"1rem"},children:[(0,c.jsx)(Ne,{align:"center",sx:{fontWeight:"bold"},children:"Good job !"}),(0,c.jsx)(Ne,{sx:{mt:"1rem"},children:"Your answer is correct"})]}),(0,c.jsx)(xe,{item:!0,children:(0,c.jsx)(Na,{onClick:I,variant:"contained",sx:{maxWidth:"10rem",mt:"2rem",mb:"1rem"},children:"Ok"})})]})})}),(0,c.jsx)(xe,{container:!0,direction:"column",alignItems:"center",justifyContent:"center",sx:{height:"100vh"},children:(0,c.jsx)(xe,{item:!0,align:"center",sx:{mt:{xs:"-3rem",md:"0rem"}},children:(0,c.jsx)(Y,{sx:{color:"white",width:{lg:"50rem",xs:"90%"},height:{lg:"30rem",xs:"100%"},borderRadius:5,display:gP},children:(0,c.jsxs)("form",{id:"submit-form",onSubmit:function(e){e.preventDefault(),yP="block",pP.collection("answers").add({name:r,answer:u}).then((function(){yP="none","953975"===u?h(!0):g(!0)})).catch((function(e){alert(e.message)})),i(""),s("")},children:[(0,c.jsxs)(ne,{children:[(0,c.jsx)(Ne,{sx:{color:"black",fontSize:{lg:"5rem",sm:"4rem",xs:"3rem"}},children:"ESCAPE ROOM"}),(0,c.jsx)(Ne,{sx:{color:"black"},children:"Submit your answer here"})]}),(0,c.jsx)(ne,{children:(0,c.jsx)(Zi,{required:!0,id:"name",autoComplete:"off",label:"Name of Team",value:r,onChange:function(e){return i(e.target.value)},sx:{width:{lg:"20rem",xs:"90%"}}})}),(0,c.jsx)(ne,{children:(0,c.jsx)(Zi,{required:!0,id:"answer",autoComplete:"off",label:"Answer",value:u,onChange:function(e){return s(e.target.value)},sx:{width:{lg:"20rem",xs:"90%"}}})}),(0,c.jsx)(ne,{children:(0,c.jsx)(Na,{type:"Submit",variant:"contained",children:"Submit"})}),(0,c.jsx)(ne,{children:(0,c.jsx)(Ne,{sx:{color:"black",fontStyle:"Italic",display:yP},children:"Checking your answer...Please wait"})})]})})})})]})},kP=(0,Me.Z)({palette:{common:{},primary:{main:"#3A3A3A"},secondary:{main:"#FFFFFF"}},typography:{carsverify:{fontSize:"1.5rem",fontFamily:"Roboto",color:"black"},mainHeading:{fontFamily:["Quicksand","Oxygen"],fontWeight:"bold"},homepageText:{fontFamily:["Quicksand","Oxygen"]},button:{fontFamily:"Roboto",fontWeight:300,textTransform:"none"}}});var wP=function(){return(0,c.jsxs)(v,{theme:kP,children:[(0,c.jsx)(A,{}),(0,c.jsx)(bP,{})]})};i.createRoot(document.getElementById("root")).render((0,c.jsx)(t.StrictMode,{children:(0,c.jsx)(wP,{})}))}()}();